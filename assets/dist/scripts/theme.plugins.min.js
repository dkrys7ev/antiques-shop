!function(u,_){"object"==typeof exports&&"undefined"!=typeof module?module.exports=_():"function"==typeof define&&define.amd?define(_):u.AOS=_()}(this,(function(){"use strict";var u="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_="Expected a function",B=/^\s+|\s+$/g,L=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,tt=/^0o[0-7]+$/i,et=parseInt,it="object"==typeof u&&u&&u.Object===Object&&u,at="object"==typeof self&&self&&self.Object===Object&&self,st=it||at||Function("return this")(),nt=Object.prototype.toString,ot=Math.max,rt=Math.min,b=function(){return st.Date.now()};function g(u){var _=typeof u;return!!u&&("object"==_||"function"==_)}function w(u){if("number"==typeof u)return u;if(function(u){return"symbol"==typeof u||function(u){return!!u&&"object"==typeof u}(u)&&"[object Symbol]"==nt.call(u)}(u))return NaN;if(g(u)){var _="function"==typeof u.valueOf?u.valueOf():u;u=g(_)?_+"":_}if("string"!=typeof u)return 0===u?u:+u;u=u.replace(B,"");var it=j.test(u);return it||tt.test(u)?et(u.slice(2),it?2:8):L.test(u)?NaN:+u}var y=function(u,B,L){var j=!0,tt=!0;if("function"!=typeof u)throw new TypeError(_);return g(L)&&(j="leading"in L?!!L.leading:j,tt="trailing"in L?!!L.trailing:tt),function v(u,B,L){var j,tt,et,it,at,st,nt=0,lt=!1,ht=!1,v=!0;if("function"!=typeof u)throw new TypeError(_);function y(_){var B=j,L=tt;return j=tt=void 0,nt=_,it=u.apply(L,B)}function h(u){var _=u-st;return void 0===st||_>=B||_<0||ht&&u-nt>=et}function k(){var u=b();if(h(u))return x(u);at=setTimeout(k,function(u){var _=B-(u-st);return ht?rt(_,et-(u-nt)):_}(u))}function x(u){return at=void 0,v&&j?y(u):(j=tt=void 0,it)}function O(){var u=b(),_=h(u);if(j=arguments,tt=this,st=u,_){if(void 0===at)return function(u){return nt=u,at=setTimeout(k,B),lt?y(u):it}(st);if(ht)return at=setTimeout(k,B),y(st)}return void 0===at&&(at=setTimeout(k,B)),it}return B=w(B)||0,g(L)&&(lt=!!L.leading,et=(ht="maxWait"in L)?ot(w(L.maxWait)||0,B):et,v="trailing"in L?!!L.trailing:v),O.cancel=function(){void 0!==at&&clearTimeout(at),nt=0,j=st=tt=at=void 0},O.flush=function(){return void 0===at?it:x(b())},O}(u,B,{leading:j,maxWait:B,trailing:tt})},lt=/^\s+|\s+$/g,ht=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ct=/^0o[0-7]+$/i,pt=parseInt,ut="object"==typeof u&&u&&u.Object===Object&&u,xt="object"==typeof self&&self&&self.Object===Object&&self,mt=ut||xt||Function("return this")(),gt=Object.prototype.toString,ft=Math.max,bt=Math.min,S=function(){return mt.Date.now()};function D(u){var _=typeof u;return!!u&&("object"==_||"function"==_)}function H(u){if("number"==typeof u)return u;if(function(u){return"symbol"==typeof u||function(u){return!!u&&"object"==typeof u}(u)&&"[object Symbol]"==gt.call(u)}(u))return NaN;if(D(u)){var _="function"==typeof u.valueOf?u.valueOf():u;u=D(_)?_+"":_}if("string"!=typeof u)return 0===u?u:+u;u=u.replace(lt,"");var B=dt.test(u);return B||ct.test(u)?pt(u.slice(2),B?2:8):ht.test(u)?NaN:+u}var $=function(u,_,B){var L,j,tt,et,it,at,st=0,nt=!1,ot=!1,rt=!0;if("function"!=typeof u)throw new TypeError("Expected a function");function m(_){var B=L,tt=j;return L=j=void 0,st=_,et=u.apply(tt,B)}function p(u){var B=u-at;return void 0===at||B>=_||B<0||ot&&u-st>=tt}function b(){var u=S();if(p(u))return v(u);it=setTimeout(b,function(u){var B=_-(u-at);return ot?bt(B,tt-(u-st)):B}(u))}function v(u){return it=void 0,rt&&L?m(u):(L=j=void 0,et)}function g(){var u=S(),B=p(u);if(L=arguments,j=this,at=u,B){if(void 0===it)return function(u){return st=u,it=setTimeout(b,_),nt?m(u):et}(at);if(ot)return it=setTimeout(b,_),m(at)}return void 0===it&&(it=setTimeout(b,_)),et}return _=H(_)||0,D(B)&&(nt=!!B.leading,tt=(ot="maxWait"in B)?ft(H(B.maxWait)||0,_):tt,rt="trailing"in B?!!B.trailing:rt),g.cancel=function(){void 0!==it&&clearTimeout(it),st=0,L=at=j=it=void 0},g.flush=function(){return void 0===it?et:v(S())},g},W=function(){};function P(u){u&&u.forEach((function(u){var _=Array.prototype.slice.call(u.addedNodes),B=Array.prototype.slice.call(u.removedNodes);if(function e(u){var _=void 0,B=void 0;for(_=0;_<u.length;_+=1){if((B=u[_]).dataset&&B.dataset.aos)return!0;if(B.children&&e(B.children))return!0}return!1}(_.concat(B)))return W()}))}function Y(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}var vt=function(){function e(u,_){for(var B=0;B<_.length;B++){var L=_[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(u,L.key,L)}}return function(u,_,B){return _&&e(u.prototype,_),B&&e(u,B),u}}(),yt=Object.assign||function(u){for(var _=1;_<arguments.length;_++){var B=arguments[_];for(var L in B)Object.prototype.hasOwnProperty.call(B,L)&&(u[L]=B[L])}return u},kt=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,wt=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Mt=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Tt=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function R(){return navigator.userAgent||navigator.vendor||window.opera||""}var Ct=new(function(){function e(){!function(u,_){if(!(u instanceof _))throw new TypeError("Cannot call a class as a function")}(this,e)}return vt(e,[{key:"phone",value:function(){var u=R();return!(!kt.test(u)&&!wt.test(u.substr(0,4)))}},{key:"mobile",value:function(){var u=R();return!(!Mt.test(u)&&!Tt.test(u.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),e}()),V=function(u,_){var B=void 0;return Ct.ie11()?(B=document.createEvent("CustomEvent")).initCustomEvent(u,!0,!0,{detail:_}):B=new CustomEvent(u,{detail:_}),document.dispatchEvent(B)},X=function(u){return u.forEach((function(u,_){return function(u,_){var B=u.options,L=u.position,j=u.node,tt=(u.data,function(){u.animated&&(function(u,_){_&&_.forEach((function(_){return u.classList.remove(_)}))}(j,B.animatedClassNames),V("aos:out",j),u.options.id&&V("aos:in:"+u.options.id,j),u.animated=!1)});B.mirror&&_>=L.out&&!B.once?tt():_>=L.in?u.animated||(function(u,_){_&&_.forEach((function(_){return u.classList.add(_)}))}(j,B.animatedClassNames),V("aos:in",j),u.options.id&&V("aos:in:"+u.options.id,j),u.animated=!0):u.animated&&!B.once&&tt()}(u,window.pageYOffset)}))},Z=function(u){for(var _=0,B=0;u&&!isNaN(u.offsetLeft)&&!isNaN(u.offsetTop);)_+=u.offsetLeft-("BODY"!=u.tagName?u.scrollLeft:0),B+=u.offsetTop-("BODY"!=u.tagName?u.scrollTop:0),u=u.offsetParent;return{top:B,left:_}},ee=function(u,_,B){var L=u.getAttribute("data-aos-"+_);if(void 0!==L){if("true"===L)return!0;if("false"===L)return!1}return L||B},te=function(u,_){return u.forEach((function(u,B){var L=ee(u.node,"mirror",_.mirror),j=ee(u.node,"once",_.once),tt=ee(u.node,"id"),et=_.useClassNames&&u.node.getAttribute("data-aos"),it=[_.animatedClassName].concat(et?et.split(" "):[]).filter((function(u){return"string"==typeof u}));_.initClassName&&u.node.classList.add(_.initClassName),u.position={in:function(u,_,B){var L=window.innerHeight,j=ee(u,"anchor"),tt=ee(u,"anchor-placement"),et=Number(ee(u,"offset",tt?0:_)),it=tt||B,at=u;j&&document.querySelectorAll(j)&&(at=document.querySelectorAll(j)[0]);var st=Z(at).top-L;switch(it){case"top-bottom":break;case"center-bottom":st+=at.offsetHeight/2;break;case"bottom-bottom":st+=at.offsetHeight;break;case"top-center":st+=L/2;break;case"center-center":st+=L/2+at.offsetHeight/2;break;case"bottom-center":st+=L/2+at.offsetHeight;break;case"top-top":st+=L;break;case"bottom-top":st+=L+at.offsetHeight;break;case"center-top":st+=L+at.offsetHeight/2}return st+et}(u.node,_.offset,_.anchorPlacement),out:L&&function(u,_){window.innerHeight;var B=ee(u,"anchor"),L=ee(u,"offset",_),j=u;return B&&document.querySelectorAll(B)&&(j=document.querySelectorAll(B)[0]),Z(j).top+j.offsetHeight-L}(u.node,_.offset)},u.options={once:j,mirror:L,animatedClassNames:it,id:tt}})),u},ne=function(){var u=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(u,(function(u){return{node:u}}))},St=[],Pt=!1,At={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},re=function(){return document.all&&!window.atob},ce=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Pt=!0),Pt&&(St=te(St,At),X(St),window.addEventListener("scroll",y((function(){X(St,At.once)}),At.throttleDelay)))},se=function(){if(St=ne(),de(At.disable)||re())return ue();ce()},ue=function(){St.forEach((function(u,_){u.node.removeAttribute("data-aos"),u.node.removeAttribute("data-aos-easing"),u.node.removeAttribute("data-aos-duration"),u.node.removeAttribute("data-aos-delay"),At.initClassName&&u.node.classList.remove(At.initClassName),At.animatedClassName&&u.node.classList.remove(At.animatedClassName)}))},de=function(u){return!0===u||"mobile"===u&&Ct.mobile()||"phone"===u&&Ct.phone()||"tablet"===u&&Ct.tablet()||"function"==typeof u&&!0===u()};return{init:function(u){return At=yt(At,u),St=ne(),At.disableMutationObserver||!!Y()||(At.disableMutationObserver=!0),At.disableMutationObserver||function(u,_){var B=window.document,L=new(Y())(P);W=_,L.observe(B.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}(0,se),de(At.disable)||re()?ue():(document.querySelector("body").setAttribute("data-aos-easing",At.easing),document.querySelector("body").setAttribute("data-aos-duration",At.duration),document.querySelector("body").setAttribute("data-aos-delay",At.delay),-1===["DOMContentLoaded","load"].indexOf(At.startEvent)?document.addEventListener(At.startEvent,(function(){ce(!0)})):window.addEventListener("load",(function(){ce(!0)})),"DOMContentLoaded"===At.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1&&ce(!0),window.addEventListener("resize",$(ce,At.debounceDelay,!0)),window.addEventListener("orientationchange",$(ce,At.debounceDelay,!0)),St)},refresh:ce,refreshHard:se}})),function(u,_){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(B){return _(u,B)})):"object"==typeof module&&module.exports?module.exports=_(u,require("jquery")):u.jQueryBridget=_(u,u.jQuery)}(window,(function(u,_){"use strict";var B=Array.prototype.slice,L=u.console,j=void 0===L?function(){}:function(u){L.error(u)};function s(L,tt,et){(et=et||_||u.jQuery)&&(tt.prototype.option||(tt.prototype.option=function(u){et.isPlainObject(u)&&(this.options=et.extend(!0,this.options,u))}),et.fn[L]=function(u){return"string"==typeof u?function(u,_,B){var tt,it="$()."+L+'("'+_+'")';return u.each((function(u,at){var st=et.data(at,L);if(st){var nt=st[_];if(nt&&"_"!=_.charAt(0)){var ot=nt.apply(st,B);tt=void 0===tt?ot:tt}else j(it+" is not a valid method")}else j(L+" not initialized. Cannot call methods, i.e. "+it)})),void 0!==tt?tt:u}(this,u,B.call(arguments,1)):(function(u,_){u.each((function(u,B){var j=et.data(B,L);j?(j.option(_),j._init()):(j=new tt(B,_),et.data(B,L,j))}))}(this,u),this)},o(et))}function o(u){!u||u&&u.bridget||(u.bridget=s)}return o(_||u.jQuery),s})),function(u,_){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",_):"object"==typeof module&&module.exports?module.exports=_():u.EvEmitter=_()}("undefined"!=typeof window?window:this,(function(){function t(){}var u=t.prototype;return u.on=function(u,_){if(u&&_){var B=this._events=this._events||{},L=B[u]=B[u]||[];return-1==L.indexOf(_)&&L.push(_),this}},u.once=function(u,_){if(u&&_){this.on(u,_);var B=this._onceEvents=this._onceEvents||{};return(B[u]=B[u]||{})[_]=!0,this}},u.off=function(u,_){var B=this._events&&this._events[u];if(B&&B.length){var L=B.indexOf(_);return-1!=L&&B.splice(L,1),this}},u.emitEvent=function(u,_){var B=this._events&&this._events[u];if(B&&B.length){B=B.slice(0),_=_||[];for(var L=this._onceEvents&&this._onceEvents[u],j=0;j<B.length;j++){var tt=B[j];L&&L[tt]&&(this.off(u,tt),delete L[tt]),tt.apply(this,_)}return this}},u.allOff=function(){delete this._events,delete this._onceEvents},t})),function(u,_){"function"==typeof define&&define.amd?define("get-size/get-size",_):"object"==typeof module&&module.exports?module.exports=_():u.getSize=_()}(window,(function(){"use strict";function m(u){var _=parseFloat(u);return-1==u.indexOf("%")&&!isNaN(_)&&_}var u="undefined"==typeof console?function(){}:function(u){},_=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],B=_.length;function E(_){var B=getComputedStyle(_);return B||u("Style returned "+B+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),B}var L,j=!1;return function x(u){if(function(){if(!j){j=!0;var u=document.createElement("div");u.style.width="200px",u.style.padding="1px 2px 3px 4px",u.style.borderStyle="solid",u.style.borderWidth="1px 2px 3px 4px",u.style.boxSizing="border-box";var _=document.body||document.documentElement;_.appendChild(u);var B=E(u);L=200==Math.round(m(B.width)),x.isBoxSizeOuter=L,_.removeChild(u)}}(),"string"==typeof u&&(u=document.querySelector(u)),u&&"object"==typeof u&&u.nodeType){var tt=E(u);if("none"==tt.display)return function(){for(var u={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},L=0;L<B;L++)u[_[L]]=0;return u}();var et={};et.width=u.offsetWidth,et.height=u.offsetHeight;for(var it=et.isBorderBox="border-box"==tt.boxSizing,at=0;at<B;at++){var st=_[at],nt=tt[st],ot=parseFloat(nt);et[st]=isNaN(ot)?0:ot}var rt=et.paddingLeft+et.paddingRight,lt=et.paddingTop+et.paddingBottom,ht=et.marginLeft+et.marginRight,dt=et.marginTop+et.marginBottom,ct=et.borderLeftWidth+et.borderRightWidth,pt=et.borderTopWidth+et.borderBottomWidth,ut=it&&L,xt=m(tt.width);!1!==xt&&(et.width=xt+(ut?0:rt+ct));var mt=m(tt.height);return!1!==mt&&(et.height=mt+(ut?0:lt+pt)),et.innerWidth=et.width-(rt+ct),et.innerHeight=et.height-(lt+pt),et.outerWidth=et.width+ht,et.outerHeight=et.height+dt,et}}})),function(u,_){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",_):"object"==typeof module&&module.exports?module.exports=_():u.matchesSelector=_()}(window,(function(){"use strict";var u=function(){var u=window.Element.prototype;if(u.matches)return"matches";if(u.matchesSelector)return"matchesSelector";for(var _=["webkit","moz","ms","o"],B=0;B<_.length;B++){var L=_[B]+"MatchesSelector";if(u[L])return L}}();return function(_,B){return _[u](B)}})),function(u,_){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(B){return _(u,B)})):"object"==typeof module&&module.exports?module.exports=_(u,require("desandro-matches-selector")):u.fizzyUIUtils=_(u,u.matchesSelector)}(window,(function(u,_){var B={extend:function(u,_){for(var B in _)u[B]=_[B];return u},modulo:function(u,_){return(u%_+_)%_}},L=Array.prototype.slice;B.makeArray=function(u){return Array.isArray(u)?u:null==u?[]:"object"==typeof u&&"number"==typeof u.length?L.call(u):[u]},B.removeFrom=function(u,_){var B=u.indexOf(_);-1!=B&&u.splice(B,1)},B.getParent=function(u,B){for(;u.parentNode&&u!=document.body;)if(u=u.parentNode,_(u,B))return u},B.getQueryElement=function(u){return"string"==typeof u?document.querySelector(u):u},B.handleEvent=function(u){var _="on"+u.type;this[_]&&this[_](u)},B.filterFindElements=function(u,L){u=B.makeArray(u);var j=[];return u.forEach((function(u){if(u instanceof HTMLElement)if(L){_(u,L)&&j.push(u);for(var B=u.querySelectorAll(L),tt=0;tt<B.length;tt++)j.push(B[tt])}else j.push(u)})),j},B.debounceMethod=function(u,_,B){B=B||100;var L=u.prototype[_],j=_+"Timeout";u.prototype[_]=function(){var u=this[j];clearTimeout(u);var _=arguments,tt=this;this[j]=setTimeout((function(){L.apply(tt,_),delete tt[j]}),B)}},B.docReady=function(u){var _=document.readyState;"complete"==_||"interactive"==_?setTimeout(u):document.addEventListener("DOMContentLoaded",u)},B.toDashed=function(u){return u.replace(/(.)([A-Z])/g,(function(u,_,B){return _+"-"+B})).toLowerCase()};var j=u.console;return B.htmlInit=function(_,L){B.docReady((function(){var tt=B.toDashed(L),et="data-"+tt,it=document.querySelectorAll("["+et+"]"),at=document.querySelectorAll(".js-"+tt),st=B.makeArray(it).concat(B.makeArray(at)),nt=et+"-options",ot=u.jQuery;st.forEach((function(u){var B,tt=u.getAttribute(et)||u.getAttribute(nt);try{B=tt&&JSON.parse(tt)}catch(B){return void(j&&j.error("Error parsing "+et+" on "+u.className+": "+B))}var it=new _(u,B);ot&&ot.data(u,L,it)}))}))},B})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],(function(B){return _(u,B)})):"object"==typeof module&&module.exports?module.exports=_(u,require("get-size")):(u.Flickity=u.Flickity||{},u.Flickity.Cell=_(u,u.getSize))}(window,(function(u,_){function i(u,_){this.element=u,this.parent=_,this.create()}var B=i.prototype;return B.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},B.destroy=function(){this.unselect(),this.element.style.position="";var u=this.parent.originSide;this.element.style[u]=""},B.getSize=function(){this.size=_(this.element)},B.setPosition=function(u){this.x=u,this.updateTarget(),this.renderPosition(u)},B.updateTarget=B.setDefaultTarget=function(){var u="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[u]+this.size.width*this.parent.cellAlign},B.renderPosition=function(u){var _=this.parent.originSide;this.element.style[_]=this.parent.getPositionValue(u)},B.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},B.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},B.wrapShift=function(u){this.shift=u,this.renderPosition(this.x+this.parent.slideableWidth*u)},B.remove=function(){this.element.parentNode.removeChild(this.element)},i})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/slide",_):"object"==typeof module&&module.exports?module.exports=_():(u.Flickity=u.Flickity||{},u.Flickity.Slide=_())}(window,(function(){"use strict";function t(u){this.parent=u,this.isOriginLeft="left"==u.originSide,this.cells=[],this.outerWidth=0,this.height=0}var u=t.prototype;return u.addCell=function(u){if(this.cells.push(u),this.outerWidth+=u.size.outerWidth,this.height=Math.max(u.size.outerHeight,this.height),1==this.cells.length){this.x=u.x;var _=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=u.size[_]}},u.updateTarget=function(){var u=this.isOriginLeft?"marginRight":"marginLeft",_=this.getLastCell(),B=_?_.size[u]:0,L=this.outerWidth-(this.firstMargin+B);this.target=this.x+this.firstMargin+L*this.parent.cellAlign},u.getLastCell=function(){return this.cells[this.cells.length-1]},u.select=function(){this.cells.forEach((function(u){u.select()}))},u.unselect=function(){this.cells.forEach((function(u){u.unselect()}))},u.getCellElements=function(){return this.cells.map((function(u){return u.element}))},t})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],(function(B){return _(u,B)})):"object"==typeof module&&module.exports?module.exports=_(u,require("fizzy-ui-utils")):(u.Flickity=u.Flickity||{},u.Flickity.animatePrototype=_(u,u.fizzyUIUtils))}(window,(function(u,_){return{startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var u=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(u),this.isAnimating){var _=this;requestAnimationFrame((function(){_.animate()}))}},positionSlider:function(){var u=this.x;this.options.wrapAround&&1<this.cells.length&&(u=_.modulo(u,this.slideableWidth),u-=this.slideableWidth,this.shiftWrapCells(u)),this.setTranslateX(u,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(u,_){u+=this.cursorPosition,u=this.options.rightToLeft?-u:u;var B=this.getPositionValue(u);this.slider.style.transform=_?"translate3d("+B+",0,0)":"translateX("+B+")"},dispatchScrollEvent:function(){var u=this.slides[0];if(u){var _=-this.x-u.target,B=_/this.slidesWidth;this.dispatchEvent("scroll",null,[B,_])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(u){return this.options.percentPosition?.01*Math.round(u/this.size.innerWidth*1e4)+"%":Math.round(u)+"px"},settle:function(u){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*u)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(u){var _=this.cursorPosition+u;this._shiftCells(this.beforeShiftCells,_,-1);var B=this.size.innerWidth-(u+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,B,1)},_shiftCells:function(u,_,B){for(var L=0;L<u.length;L++){var j=u[L],tt=0<_?B:0;j.wrapShift(tt),_-=j.size.outerWidth}},_unshiftCells:function(u){if(u&&u.length)for(var _=0;_<u.length;_++)u[_].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(u){this.velocity+=u},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var u=this.dragX-this.x-this.velocity;this.applyForce(u)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var u=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(u)}}}})),function(u,_){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],(function(B,L,j,tt,et,it){return _(u,B,L,j,tt,et,it)}));else if("object"==typeof module&&module.exports)module.exports=_(u,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var B=u.Flickity;u.Flickity=_(u,u.EvEmitter,u.getSize,u.fizzyUIUtils,B.Cell,B.Slide,B.animatePrototype)}}(window,(function(u,_,B,L,j,tt,et){var it=u.jQuery,at=u.getComputedStyle,st=u.console;function c(u,_){for(u=L.makeArray(u);u.length;)_.appendChild(u.shift())}var nt=0,ot={};function f(u,_){var B=L.getQueryElement(u);if(B){if(this.element=B,this.element.flickityGUID){var j=ot[this.element.flickityGUID];return j.option(_),j}it&&(this.$element=it(this.element)),this.options=L.extend({},this.constructor.defaults),this.option(_),this._create()}else st&&st.error("Bad element for Flickity: "+(B||u))}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[];var rt=f.prototype;L.extend(rt,_.prototype),rt._create=function(){var _=this.guid=++nt;for(var B in this.element.flickityGUID=_,(ot[_]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&u.addEventListener("resize",this),this.options.on){var L=this.options.on[B];this.on(B,L)}f.createMethods.forEach((function(u){this[u]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},rt.option=function(u){L.extend(this.options,u)},rt.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),c(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},rt._createSlider=function(){var u=document.createElement("div");u.className="flickity-slider",u.style[this.originSide]=0,this.slider=u},rt._filterFindCellElements=function(u){return L.filterFindElements(u,this.options.cellSelector)},rt.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},rt._makeCells=function(u){return this._filterFindCellElements(u).map((function(u){return new j(u,this)}),this)},rt.getLastCell=function(){return this.cells[this.cells.length-1]},rt.getLastSlide=function(){return this.slides[this.slides.length-1]},rt.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},rt._positionCells=function(u){u=u||0,this.maxCellHeight=u&&this.maxCellHeight||0;var _=0;if(0<u){var B=this.cells[u-1];_=B.x+B.size.outerWidth}for(var L=this.cells.length,j=u;j<L;j++){var tt=this.cells[j];tt.setPosition(_),_+=tt.size.outerWidth,this.maxCellHeight=Math.max(tt.size.outerHeight,this.maxCellHeight)}this.slideableWidth=_,this.updateSlides(),this._containSlides(),this.slidesWidth=L?this.getLastSlide().target-this.slides[0].target:0},rt._sizeCells=function(u){u.forEach((function(u){u.getSize()}))},rt.updateSlides=function(){if(this.slides=[],this.cells.length){var u=new tt(this);this.slides.push(u);var _="left"==this.originSide?"marginRight":"marginLeft",B=this._getCanCellFit();this.cells.forEach((function(L,j){if(u.cells.length){var et=u.outerWidth-u.firstMargin+(L.size.outerWidth-L.size[_]);B.call(this,j,et)||(u.updateTarget(),u=new tt(this),this.slides.push(u)),u.addCell(L)}else u.addCell(L)}),this),u.updateTarget(),this.updateSelectedSlide()}},rt._getCanCellFit=function(){var u=this.options.groupCells;if(!u)return function(){return!1};if("number"==typeof u){var _=parseInt(u,10);return function(u){return u%_!=0}}var B="string"==typeof u&&u.match(/^(\d+)%$/),L=B?parseInt(B[1],10)/100:1;return function(u,_){return _<=(this.size.innerWidth+1)*L}},rt._init=rt.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},rt.getSize=function(){this.size=B(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var lt={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return rt.setCellAlign=function(){var u=lt[this.options.cellAlign];this.cellAlign=u?u[this.originSide]:this.options.cellAlign},rt.setGallerySize=function(){if(this.options.setGallerySize){var u=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=u+"px"}},rt._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var u=this.cursorPosition,_=this.cells.length-1;this.beforeShiftCells=this._getGapCells(u,_,-1),u=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(u,0,1)}},rt._getGapCells=function(u,_,B){for(var L=[];0<u;){var j=this.cells[_];if(!j)break;L.push(j),_+=B,u-=j.size.outerWidth}return L},rt._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var u=this.options.rightToLeft,_=u?"marginRight":"marginLeft",B=u?"marginLeft":"marginRight",L=this.slideableWidth-this.getLastCell().size[B],j=L<this.size.innerWidth,tt=this.cursorPosition+this.cells[0].size[_],et=L-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(u){j?u.target=L*this.cellAlign:(u.target=Math.max(u.target,tt),u.target=Math.min(u.target,et))}),this)}},rt.dispatchEvent=function(u,_,B){var L=_?[_].concat(B):B;if(this.emitEvent(u,L),it&&this.$element){var j=u+=this.options.namespaceJQueryEvents?".flickity":"";if(_){var tt=it.Event(_);tt.type=u,j=tt}this.$element.trigger(j,B)}},rt.select=function(u,_,B){if(this.isActive&&(u=parseInt(u,10),this._wrapSelect(u),(this.options.wrapAround||_)&&(u=L.modulo(u,this.slides.length)),this.slides[u])){var j=this.selectedIndex;this.selectedIndex=u,this.updateSelectedSlide(),B?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[u]),u!=j&&this.dispatchEvent("change",null,[u]),this.dispatchEvent("cellSelect")}},rt._wrapSelect=function(u){var _=this.slides.length;if(!(this.options.wrapAround&&1<_))return u;var B=L.modulo(u,_),j=Math.abs(B-this.selectedIndex),tt=Math.abs(B+_-this.selectedIndex),et=Math.abs(B-_-this.selectedIndex);!this.isDragSelect&&tt<j?u+=_:!this.isDragSelect&&et<j&&(u-=_),u<0?this.x-=this.slideableWidth:_<=u&&(this.x+=this.slideableWidth)},rt.previous=function(u,_){this.select(this.selectedIndex-1,u,_)},rt.next=function(u,_){this.select(this.selectedIndex+1,u,_)},rt.updateSelectedSlide=function(){var u=this.slides[this.selectedIndex];u&&(this.unselectSelectedSlide(),(this.selectedSlide=u).select(),this.selectedCells=u.cells,this.selectedElements=u.getCellElements(),this.selectedCell=u.cells[0],this.selectedElement=this.selectedElements[0])},rt.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},rt.selectInitialIndex=function(){var u=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(u&&"string"==typeof u&&this.queryCell(u))return void this.selectCell(u,!1,!0);var _=0;u&&this.slides[u]&&(_=u),this.select(_,!1,!0)}},rt.selectCell=function(u,_,B){var L=this.queryCell(u);if(L){var j=this.getCellSlideIndex(L);this.select(j,_,B)}},rt.getCellSlideIndex=function(u){for(var _=0;_<this.slides.length;_++)if(-1!=this.slides[_].cells.indexOf(u))return _},rt.getCell=function(u){for(var _=0;_<this.cells.length;_++){var B=this.cells[_];if(B.element==u)return B}},rt.getCells=function(u){u=L.makeArray(u);var _=[];return u.forEach((function(u){var B=this.getCell(u);B&&_.push(B)}),this),_},rt.getCellElements=function(){return this.cells.map((function(u){return u.element}))},rt.getParentCell=function(u){return this.getCell(u)||(u=L.getParent(u,".flickity-slider > *"),this.getCell(u))},rt.getAdjacentCellElements=function(u,_){if(!u)return this.selectedSlide.getCellElements();_=void 0===_?this.selectedIndex:_;var B=this.slides.length;if(B<=1+2*u)return this.getCellElements();for(var j=[],tt=_-u;tt<=_+u;tt++){var et=this.options.wrapAround?L.modulo(tt,B):tt,it=this.slides[et];it&&(j=j.concat(it.getCellElements()))}return j},rt.queryCell=function(u){if("number"==typeof u)return this.cells[u];if("string"==typeof u){if(u.match(/^[#\.]?[\d\/]/))return;u=this.element.querySelector(u)}return this.getCell(u)},rt.uiChange=function(){this.emitEvent("uiChange")},rt.childUIPointerDown=function(u){"touchstart"!=u.type&&u.preventDefault(),this.focus()},rt.onresize=function(){this.watchCSS(),this.resize()},L.debounceMethod(f,"onresize",150),rt.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=L.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var u=this.selectedElements&&this.selectedElements[0];this.selectCell(u,!1,!0)}},rt.watchCSS=function(){this.options.watchCSS&&(-1!=at(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},rt.onkeydown=function(u){var _=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!_){var B=f.keyboardHandlers[u.keyCode];B&&B.call(this)}},f.keyboardHandlers={37:function(){var u=this.options.rightToLeft?"next":"previous";this.uiChange(),this[u]()},39:function(){var u=this.options.rightToLeft?"previous":"next";this.uiChange(),this[u]()}},rt.focus=function(){var _=u.pageYOffset;this.element.focus({preventScroll:!0}),u.pageYOffset!=_&&u.scrollTo(u.pageXOffset,_)},rt.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(u){u.destroy()})),this.element.removeChild(this.viewport),c(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},rt.destroy=function(){this.deactivate(),u.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),it&&this.$element&&it.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete ot[this.guid]},L.extend(rt,et),f.data=function(u){var _=(u=L.getQueryElement(u))&&u.flickityGUID;return _&&ot[_]},L.htmlInit(f,"flickity"),it&&it.bridget&&it.bridget("flickity",f),f.setJQuery=function(u){it=u},f.Cell=j,f.Slide=tt,f})),function(u,_){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],(function(B){return _(u,B)})):"object"==typeof module&&module.exports?module.exports=_(u,require("ev-emitter")):u.Unipointer=_(u,u.EvEmitter)}(window,(function(u,_){function e(){}var B=e.prototype=Object.create(_.prototype);B.bindStartEvent=function(u){this._bindStartEvent(u,!0)},B.unbindStartEvent=function(u){this._bindStartEvent(u,!1)},B._bindStartEvent=function(_,B){var L=(B=void 0===B||B)?"addEventListener":"removeEventListener",j="mousedown";u.PointerEvent?j="pointerdown":"ontouchstart"in u&&(j="touchstart"),_[L](j,this)},B.handleEvent=function(u){var _="on"+u.type;this[_]&&this[_](u)},B.getTouch=function(u){for(var _=0;_<u.length;_++){var B=u[_];if(B.identifier==this.pointerIdentifier)return B}},B.onmousedown=function(u){var _=u.button;_&&0!==_&&1!==_||this._pointerDown(u,u)},B.ontouchstart=function(u){this._pointerDown(u,u.changedTouches[0])},B.onpointerdown=function(u){this._pointerDown(u,u)},B._pointerDown=function(u,_){u.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==_.pointerId?_.pointerId:_.identifier,this.pointerDown(u,_))},B.pointerDown=function(u,_){this._bindPostStartEvents(u),this.emitEvent("pointerDown",[u,_])};var L={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return B._bindPostStartEvents=function(_){if(_){var B=L[_.type];B.forEach((function(_){u.addEventListener(_,this)}),this),this._boundPointerEvents=B}},B._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(_){u.removeEventListener(_,this)}),this),delete this._boundPointerEvents)},B.onmousemove=function(u){this._pointerMove(u,u)},B.onpointermove=function(u){u.pointerId==this.pointerIdentifier&&this._pointerMove(u,u)},B.ontouchmove=function(u){var _=this.getTouch(u.changedTouches);_&&this._pointerMove(u,_)},B._pointerMove=function(u,_){this.pointerMove(u,_)},B.pointerMove=function(u,_){this.emitEvent("pointerMove",[u,_])},B.onmouseup=function(u){this._pointerUp(u,u)},B.onpointerup=function(u){u.pointerId==this.pointerIdentifier&&this._pointerUp(u,u)},B.ontouchend=function(u){var _=this.getTouch(u.changedTouches);_&&this._pointerUp(u,_)},B._pointerUp=function(u,_){this._pointerDone(),this.pointerUp(u,_)},B.pointerUp=function(u,_){this.emitEvent("pointerUp",[u,_])},B._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},B._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},B.pointerDone=function(){},B.onpointercancel=function(u){u.pointerId==this.pointerIdentifier&&this._pointerCancel(u,u)},B.ontouchcancel=function(u){var _=this.getTouch(u.changedTouches);_&&this._pointerCancel(u,_)},B._pointerCancel=function(u,_){this._pointerDone(),this.pointerCancel(u,_)},B.pointerCancel=function(u,_){this.emitEvent("pointerCancel",[u,_])},e.getPointerPoint=function(u){return{x:u.pageX,y:u.pageY}},e})),function(u,_){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],(function(B){return _(u,B)})):"object"==typeof module&&module.exports?module.exports=_(u,require("unipointer")):u.Unidragger=_(u,u.Unipointer)}(window,(function(u,_){function e(){}var B=e.prototype=Object.create(_.prototype);B.bindHandles=function(){this._bindHandles(!0)},B.unbindHandles=function(){this._bindHandles(!1)},B._bindHandles=function(_){for(var B=(_=void 0===_||_)?"addEventListener":"removeEventListener",L=_?this._touchActionValue:"",j=0;j<this.handles.length;j++){var tt=this.handles[j];this._bindStartEvent(tt,_),tt[B]("click",this),u.PointerEvent&&(tt.style.touchAction=L)}},B._touchActionValue="none",B.pointerDown=function(u,_){this.okayPointerDown(u)&&(this.pointerDownPointer=_,u.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(u),this.emitEvent("pointerDown",[u,_]))};var L={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},j={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return B.okayPointerDown=function(u){var _=L[u.target.nodeName],B=j[u.target.type],tt=!_||B;return tt||this._pointerReset(),tt},B.pointerDownBlur=function(){var u=document.activeElement;u&&u.blur&&u!=document.body&&u.blur()},B.pointerMove=function(u,_){var B=this._dragPointerMove(u,_);this.emitEvent("pointerMove",[u,_,B]),this._dragMove(u,_,B)},B._dragPointerMove=function(u,_){var B={x:_.pageX-this.pointerDownPointer.pageX,y:_.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(B)&&this._dragStart(u,_),B},B.hasDragStarted=function(u){return 3<Math.abs(u.x)||3<Math.abs(u.y)},B.pointerUp=function(u,_){this.emitEvent("pointerUp",[u,_]),this._dragPointerUp(u,_)},B._dragPointerUp=function(u,_){this.isDragging?this._dragEnd(u,_):this._staticClick(u,_)},B._dragStart=function(u,_){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(u,_)},B.dragStart=function(u,_){this.emitEvent("dragStart",[u,_])},B._dragMove=function(u,_,B){this.isDragging&&this.dragMove(u,_,B)},B.dragMove=function(u,_,B){u.preventDefault(),this.emitEvent("dragMove",[u,_,B])},B._dragEnd=function(u,_){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(u,_)},B.dragEnd=function(u,_){this.emitEvent("dragEnd",[u,_])},B.onclick=function(u){this.isPreventingClicks&&u.preventDefault()},B._staticClick=function(u,_){this.isIgnoringMouseUp&&"mouseup"==u.type||(this.staticClick(u,_),"mouseup"!=u.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},B.staticClick=function(u,_){this.emitEvent("staticClick",[u,_])},e.getPointerPoint=_.getPointerPoint,e})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],(function(B,L,j){return _(u,B,L,j)})):"object"==typeof module&&module.exports?module.exports=_(u,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):u.Flickity=_(u,u.Flickity,u.Unidragger,u.fizzyUIUtils)}(window,(function(u,_,B,L){L.extend(_.defaults,{draggable:">1",dragThreshold:3}),_.createMethods.push("_createDrag");var j=_.prototype;L.extend(j,B.prototype),j._touchActionValue="pan-y";var tt="createTouch"in document,et=!1;j._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),tt&&!et&&(u.addEventListener("touchmove",(function(){})),et=!0)},j.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},j.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},j.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},j.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},j.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},j._uiChangeDrag=function(){delete this.isFreeScrolling},j.pointerDown=function(_,B){this.isDraggable?this.okayPointerDown(_)&&(this._pointerDownPreventDefault(_),this.pointerDownFocus(_),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),u.addEventListener("scroll",this),this._pointerDownDefault(_,B)):this._pointerDownDefault(_,B)},j._pointerDownDefault=function(u,_){this.pointerDownPointer={pageX:_.pageX,pageY:_.pageY},this._bindPostStartEvents(u),this.dispatchEvent("pointerDown",u,[_])};var it={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:u.pageXOffset,y:u.pageYOffset}}return j.pointerDownFocus=function(u){it[u.target.nodeName]||this.focus()},j._pointerDownPreventDefault=function(u){var _="touchstart"==u.type,B="touch"==u.pointerType,L=it[u.target.nodeName];_||B||L||u.preventDefault()},j.hasDragStarted=function(u){return Math.abs(u.x)>this.options.dragThreshold},j.pointerUp=function(u,_){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",u,[_]),this._dragPointerUp(u,_)},j.pointerDone=function(){u.removeEventListener("scroll",this),delete this.pointerDownScroll},j.dragStart=function(_,B){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),u.removeEventListener("scroll",this),this.dispatchEvent("dragStart",_,[B]))},j.pointerMove=function(u,_){var B=this._dragPointerMove(u,_);this.dispatchEvent("pointerMove",u,[_,B]),this._dragMove(u,_,B)},j.dragMove=function(u,_,B){if(this.isDraggable){u.preventDefault(),this.previousDragX=this.dragX;var L=this.options.rightToLeft?-1:1;this.options.wrapAround&&(B.x=B.x%this.slideableWidth);var j=this.dragStartPosition+B.x*L;if(!this.options.wrapAround&&this.slides.length){var tt=Math.max(-this.slides[0].target,this.dragStartPosition);j=tt<j?.5*(j+tt):j;var et=Math.min(-this.getLastSlide().target,this.dragStartPosition);j=j<et?.5*(j+et):j}this.dragX=j,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",u,[_,B])}},j.dragEnd=function(u,_){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var B=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var L=this.getRestingPosition();this.isFreeScrolling=-L>this.slides[0].target&&-L<this.getLastSlide().target}else this.options.freeScroll||B!=this.selectedIndex||(B+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(B),delete this.isDragSelect,this.dispatchEvent("dragEnd",u,[_])}},j.dragEndRestingSelect=function(){var u=this.getRestingPosition(),_=Math.abs(this.getSlideDistance(-u,this.selectedIndex)),B=this._getClosestResting(u,_,1),L=this._getClosestResting(u,_,-1);return B.distance<L.distance?B.index:L.index},j._getClosestResting=function(u,_,B){for(var L=this.selectedIndex,j=1/0,tt=this.options.contain&&!this.options.wrapAround?function(u,_){return u<=_}:function(u,_){return u<_};tt(_,j)&&(L+=B,j=_,null!==(_=this.getSlideDistance(-u,L)));)_=Math.abs(_);return{distance:j,index:L-B}},j.getSlideDistance=function(u,_){var B=this.slides.length,j=this.options.wrapAround&&1<B,tt=j?L.modulo(_,B):_,et=this.slides[tt];if(!et)return null;var it=j?this.slideableWidth*Math.floor(_/B):0;return u-(et.target+it)},j.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var u=this.getSlideDistance(-this.dragX,this.selectedIndex),_=this.previousDragX-this.dragX;return 0<u&&0<_?1:u<0&&_<0?-1:0},j.staticClick=function(u,_){var B=this.getParentCell(u.target),L=B&&B.element,j=B&&this.cells.indexOf(B);this.dispatchEvent("staticClick",u,[_,L,j])},j.onscroll=function(){var u=l(),_=this.pointerDownScroll.x-u.x,B=this.pointerDownScroll.y-u.y;(3<Math.abs(_)||3<Math.abs(B))&&this._pointerDone()},_})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],(function(B,L,j){return _(u,B,L,j)})):"object"==typeof module&&module.exports?module.exports=_(u,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):_(u,u.Flickity,u.Unipointer,u.fizzyUIUtils)}(window,(function(u,_,B,L){"use strict";var j="http://www.w3.org/2000/svg";function o(u,_){this.direction=u,this.parent=_,this._create()}(o.prototype=Object.create(B.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var u=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==u;var _=this.element=document.createElement("button");_.className="flickity-button flickity-prev-next-button",_.className+=this.isPrevious?" previous":" next",_.setAttribute("type","button"),this.disable(),_.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var B=this.createSVG();_.appendChild(B),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var u=document.createElementNS(j,"svg");u.setAttribute("class","flickity-button-icon"),u.setAttribute("viewBox","0 0 100 100");var _=document.createElementNS(j,"path"),B=function(u){return"string"!=typeof u?"M "+u.x0+",50 L "+u.x1+","+(u.y1+50)+" L "+u.x2+","+(u.y2+50)+" L "+u.x3+",50  L "+u.x2+","+(50-u.y2)+" L "+u.x1+","+(50-u.y1)+" Z":u}(this.parent.options.arrowShape);return _.setAttribute("d",B),_.setAttribute("class","arrow"),this.isLeft||_.setAttribute("transform","translate(100, 100) rotate(180) "),u.appendChild(_),u},o.prototype.handleEvent=L.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var u=this.isPrevious?"previous":"next";this.parent[u]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var u=this.parent.slides;if(this.parent.options.wrapAround&&1<u.length)this.enable();else{var _=u.length?u.length-1:0,B=this.isPrevious?0:_;this[this.parent.selectedIndex==B?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},L.extend(_.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),_.createMethods.push("_createPrevNextButtons");var tt=_.prototype;return tt._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},tt.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},tt.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},_.PrevNextButton=o,_})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],(function(B,L,j){return _(u,B,L,j)})):"object"==typeof module&&module.exports?module.exports=_(u,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):_(u,u.Flickity,u.Unipointer,u.fizzyUIUtils)}(window,(function(u,_,B,L){function s(u){this.parent=u,this._create()}(s.prototype=Object.create(B.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var u=this.parent.slides.length-this.dots.length;0<u?this.addDots(u):u<0&&this.removeDots(-u)},s.prototype.addDots=function(u){for(var _=document.createDocumentFragment(),B=[],L=this.dots.length,j=L+u,tt=L;tt<j;tt++){var et=document.createElement("li");et.className="dot",et.setAttribute("aria-label","Page dot "+(tt+1)),_.appendChild(et),B.push(et)}this.holder.appendChild(_),this.dots=this.dots.concat(B)},s.prototype.removeDots=function(u){this.dots.splice(this.dots.length-u,u).forEach((function(u){this.holder.removeChild(u)}),this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(u){var _=u.target;if("LI"==_.nodeName){this.parent.uiChange();var B=this.dots.indexOf(_);this.parent.select(B)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},_.PageDots=s,L.extend(_.defaults,{pageDots:!0}),_.createMethods.push("_createPageDots");var j=_.prototype;return j._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},j.activatePageDots=function(){this.pageDots.activate()},j.updateSelectedPageDots=function(){this.pageDots.updateSelected()},j.updatePageDots=function(){this.pageDots.setDots()},j.deactivatePageDots=function(){this.pageDots.deactivate()},_.PageDots=s,_})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],(function(u,B,L){return _(u,B,L)})):"object"==typeof module&&module.exports?module.exports=_(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):_(u.EvEmitter,u.fizzyUIUtils,u.Flickity)}(window,(function(u,_,B){function n(u){this.parent=u,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(u.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){if("playing"==this.state){var u=this.parent.options.autoPlay;u="number"==typeof u?u:3e3;var _=this;this.clear(),this.timeout=setTimeout((function(){_.parent.next(!0),_.tick()}),u)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},_.extend(B.defaults,{pauseAutoPlayOnHover:!0}),B.createMethods.push("_createPlayer");var L=B.prototype;return L._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},L.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},L.playPlayer=function(){this.player.play()},L.stopPlayer=function(){this.player.stop()},L.pausePlayer=function(){this.player.pause()},L.unpausePlayer=function(){this.player.unpause()},L.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},L.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},L.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},B.Player=n,B})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],(function(B,L){return _(u,B,L)})):"object"==typeof module&&module.exports?module.exports=_(u,require("./flickity"),require("fizzy-ui-utils")):_(u,u.Flickity,u.fizzyUIUtils)}(window,(function(u,_,B){var L=_.prototype;return L.insert=function(u,_){var B=this._makeCells(u);if(B&&B.length){var L=this.cells.length;_=void 0===_?L:_;var j=function(u){var _=document.createDocumentFragment();return u.forEach((function(u){_.appendChild(u.element)})),_}(B),tt=_==L;if(tt)this.slider.appendChild(j);else{var et=this.cells[_].element;this.slider.insertBefore(j,et)}if(0===_)this.cells=B.concat(this.cells);else if(tt)this.cells=this.cells.concat(B);else{var it=this.cells.splice(_,L-_);this.cells=this.cells.concat(B).concat(it)}this._sizeCells(B),this.cellChange(_,!0)}},L.append=function(u){this.insert(u,this.cells.length)},L.prepend=function(u){this.insert(u,0)},L.remove=function(u){var _=this.getCells(u);if(_&&_.length){var L=this.cells.length-1;_.forEach((function(u){u.remove();var _=this.cells.indexOf(u);L=Math.min(_,L),B.removeFrom(this.cells,u)}),this),this.cellChange(L,!0)}},L.cellSizeChange=function(u){var _=this.getCell(u);if(_){_.getSize();var B=this.cells.indexOf(_);this.cellChange(B)}},L.cellChange=function(u,_){var B=this.selectedElement;this._positionCells(u),this._getWrapShiftCells(),this.setGallerySize();var L=this.getCell(B);L&&(this.selectedIndex=this.getCellSlideIndex(L)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[u]),this.select(this.selectedIndex),_&&this.positionSliderAtSelected()},_})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],(function(B,L){return _(u,B,L)})):"object"==typeof module&&module.exports?module.exports=_(u,require("./flickity"),require("fizzy-ui-utils")):_(u,u.Flickity,u.fizzyUIUtils)}(window,(function(u,_,B){"use strict";_.createMethods.push("_createLazyload");var L=_.prototype;function s(u,_){this.img=u,this.flickity=_,this.load()}return L._createLazyload=function(){this.on("select",this.lazyLoad)},L.lazyLoad=function(){var u=this.options.lazyLoad;if(u){var _="number"==typeof u?u:0,L=this.getAdjacentCellElements(_),j=[];L.forEach((function(u){var _=function(u){if("IMG"==u.nodeName){var _=u.getAttribute("data-flickity-lazyload"),L=u.getAttribute("data-flickity-lazyload-src"),j=u.getAttribute("data-flickity-lazyload-srcset");if(_||L||j)return[u]}var tt=u.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return B.makeArray(tt)}(u);j=j.concat(_)})),j.forEach((function(u){new s(u,this)}),this)}},s.prototype.handleEvent=B.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var u=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),_=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=u,_&&this.img.setAttribute("srcset",_),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},s.prototype.onload=function(u){this.complete(u,"flickity-lazyloaded")},s.prototype.onerror=function(u){this.complete(u,"flickity-lazyerror")},s.prototype.complete=function(u,_){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var B=this.flickity.getParentCell(this.img),L=B&&B.element;this.flickity.cellSizeChange(L),this.img.classList.add(_),this.flickity.dispatchEvent("lazyLoad",u,L)},_.LazyLoader=s,_})),function(u,_){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],_):"object"==typeof module&&module.exports&&(module.exports=_(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,(function(u){return u})),function(u,_){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],_):"object"==typeof module&&module.exports?module.exports=_(require("flickity"),require("fizzy-ui-utils")):u.Flickity=_(u.Flickity,u.fizzyUIUtils)}(window,(function(u,_){u.createMethods.push("_createAsNavFor");var B=u.prototype;return B._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var u=this.options.asNavFor;if(u){var _=this;setTimeout((function(){_.setNavCompanion(u)}))}},B.setNavCompanion=function(B){B=_.getQueryElement(B);var L=u.data(B);if(L&&L!=this){this.navCompanion=L;var j=this;this.onNavCompanionSelect=function(){j.navCompanionSelect()},L.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},B.navCompanionSelect=function(u){var _=this.navCompanion&&this.navCompanion.selectedCells;if(_){var B=_[0],L=this.navCompanion.cells.indexOf(B),j=L+_.length-1,tt=Math.floor(function(u,_,B){return(_-u)*B+u}(L,j,this.navCompanion.cellAlign));if(this.selectCell(tt,!1,u),this.removeNavSelectedElements(),!(tt>=this.cells.length)){var et=this.cells.slice(L,1+j);this.navSelectedElements=et.map((function(u){return u.element})),this.changeNavSelectedClass("add")}}},B.changeNavSelectedClass=function(u){this.navSelectedElements.forEach((function(_){_.classList[u]("is-nav-selected")}))},B.activateAsNavFor=function(){this.navCompanionSelect(!0)},B.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},B.onNavStaticClick=function(u,_,B,L){"number"==typeof L&&this.navCompanion.selectCell(L)},B.deactivateAsNavFor=function(){this.removeNavSelectedElements()},B.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},u})),function(u,_){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],(function(B){return _(u,B)})):"object"==typeof module&&module.exports?module.exports=_(u,require("ev-emitter")):u.imagesLoaded=_(u,u.EvEmitter)}("undefined"!=typeof window?window:this,(function(u,_){var B=u.jQuery,L=u.console;function r(u,_){for(var B in _)u[B]=_[B];return u}var j=Array.prototype.slice;function l(u,_,tt){if(!(this instanceof l))return new l(u,_,tt);var et=u;"string"==typeof u&&(et=document.querySelectorAll(u)),et?(this.elements=function(u){return Array.isArray(u)?u:"object"==typeof u&&"number"==typeof u.length?j.call(u):[u]}(et),this.options=r({},this.options),"function"==typeof _?tt=_:r(this.options,_),tt&&this.on("always",tt),this.getImages(),B&&(this.jqDeferred=new B.Deferred),setTimeout(this.check.bind(this))):L.error("Bad element for imagesLoaded "+(et||u))}(l.prototype=Object.create(_.prototype)).options={},l.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},l.prototype.addElementImages=function(u){"IMG"==u.nodeName&&this.addImage(u),!0===this.options.background&&this.addElementBackgroundImages(u);var _=u.nodeType;if(_&&tt[_]){for(var B=u.querySelectorAll("img"),L=0;L<B.length;L++){var j=B[L];this.addImage(j)}if("string"==typeof this.options.background){var et=u.querySelectorAll(this.options.background);for(L=0;L<et.length;L++){var it=et[L];this.addElementBackgroundImages(it)}}}};var tt={1:!0,9:!0,11:!0};function i(u){this.img=u}function n(u,_){this.url=u,this.element=_,this.img=new Image}return l.prototype.addElementBackgroundImages=function(u){var _=getComputedStyle(u);if(_)for(var B=/url\((['"])?(.*?)\1\)/gi,L=B.exec(_.backgroundImage);null!==L;){var j=L&&L[2];j&&this.addBackground(j,u),L=B.exec(_.backgroundImage)}},l.prototype.addImage=function(u){var _=new i(u);this.images.push(_)},l.prototype.addBackground=function(u,_){var B=new n(u,_);this.images.push(B)},l.prototype.check=function(){var u=this;function e(_,B,L){setTimeout((function(){u.progress(_,B,L)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(u){u.once("progress",e),u.check()})):this.complete()},l.prototype.progress=function(u,_,B){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!u.isLoaded,this.emitEvent("progress",[this,u,_]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,u),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&L&&L.log("progress: "+B,u,_)},l.prototype.complete=function(){var u=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(u,[this]),this.emitEvent("always",[this]),this.jqDeferred){var _=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[_](this)}},(i.prototype=Object.create(_.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(u,_){this.isLoaded=u,this.emitEvent("progress",[this,this.img,_])},i.prototype.handleEvent=function(u){var _="on"+u.type;this[_]&&this[_](u)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(u,_){this.isLoaded=u,this.emitEvent("progress",[this,this.element,_])},l.makeJQueryPlugin=function(_){(_=_||u.jQuery)&&((B=_).fn.imagesLoaded=function(u,_){return new l(this,u,_).jqDeferred.promise(B(this))})},l.makeJQueryPlugin(),l})),function(u,_){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],(function(B,L){return _(u,B,L)})):"object"==typeof module&&module.exports?module.exports=_(u,require("flickity"),require("imagesloaded")):u.Flickity=_(u,u.Flickity,u.imagesLoaded)}(window,(function(u,_,B){"use strict";_.createMethods.push("_createImagesLoaded");var L=_.prototype;return L._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},L.imagesLoaded=function(){if(this.options.imagesLoaded){var u=this;B(this.slider).on("progress",(function(_,B){var L=u.getParentCell(B.img);u.cellSizeChange(L&&L.element),u.options.freeScroll||u.positionSliderAtSelected()}))}},_})),function(u,_,B,L){u.fn.CanvasJSChart=function(u){if(u){var _=this.first();return u=new CanvasJS.Chart(this[0],u),_.children(".canvasjs-chart-container").data("canvasjsChartRef",u),u.render(),this}return this.first().children(".canvasjs-chart-container").data("canvasjsChartRef")}}(jQuery,window,document),function(){function na(u,_){u.prototype=function cb(u){function m(){}return m.prototype=u,new m}(_.prototype),u.prototype.constructor=u,u.base=_.prototype}function Va(u,_,B){return"millisecond"===B?u.setMilliseconds(u.getMilliseconds()+1*_):"second"===B?u.setSeconds(u.getSeconds()+1*_):"minute"===B?u.setMinutes(u.getMinutes()+1*_):"hour"===B?u.setHours(u.getHours()+1*_):"day"===B?u.setDate(u.getDate()+1*_):"week"===B?u.setDate(u.getDate()+7*_):"month"===B?u.setMonth(u.getMonth()+1*_):"year"===B&&u.setFullYear(u.getFullYear()+1*_),u}function Y(u,_){var B=!1;for(0>u&&(B=!0,u*=-1),u=""+u,_=_||1;u.length<_;)u="0"+u;return B?"-"+u:u}function Ea(u){if(!u)return u;for(var _=/\s/,B=(u=u.replace(/^\s\s*/,"")).length;_.test(u.charAt(--B)););return u.slice(0,B+1)}function Aa(u){u.roundRect=function(u,_,B,L,j,tt,et,it){et&&(this.fillStyle=et),it&&(this.strokeStyle=it),void 0===j&&(j=5),this.lineWidth=tt,this.beginPath(),this.moveTo(u+j,_),this.lineTo(u+B-j,_),this.quadraticCurveTo(u+B,_,u+B,_+j),this.lineTo(u+B,_+L-j),this.quadraticCurveTo(u+B,_+L,u+B-j,_+L),this.lineTo(u+j,_+L),this.quadraticCurveTo(u,_+L,u,_+L-j),this.lineTo(u,_+j),this.quadraticCurveTo(u,_,u+j,_),this.closePath(),et&&this.fill(),it&&0<tt&&this.stroke()}}function Pa(u,_){return u-_}function Q(u){var _=((16711680&u)>>16).toString(16),B=((65280&u)>>8).toString(16);return u=((255&u)>>0).toString(16),"#"+(_=2>_.length?"0"+_:_)+(B=2>B.length?"0"+B:B)+(2>u.length?"0"+u:u)}function db(u,_){var B,L=this.length>>>0;for(0>(B=0>(B=Number(_)||0)?Math.ceil(B):Math.floor(B))&&(B+=L);B<L;B++)if(B in this&&this[B]===u)return B;return-1}function s(u){return null==u}function Ba(u){return u.indexOf||(u.indexOf=db),u}function eb(u){et.fSDec&&u[X("`eeDwdouMhrudods")](X("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){et._fTWm&&et._fTWm(u)}))}function Wa(u,_,B){var L=u+"_"+_+"_"+(B=B||"normal"),j=mt[L];if(isNaN(j)){try{if(u="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+u+"; font-size:"+_+"px; font-weight:"+B+";",!gt){var tt=document.body;(gt=document.createElement("span")).innerHTML="";var et=document.createTextNode("Mpgyi");gt.appendChild(et),tt.appendChild(gt)}gt.style.display="",gt.setAttribute("style",u),j=Math.round(gt.offsetHeight),gt.style.display="none"}catch(u){j=Math.ceil(1.1*_)}j=Math.max(j,_),mt[L]=j}return j}function N(u,_){var B=[];if(B={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[u||"solid"])for(var L=0;L<B.length;L++)B[L]*=_;else B=[];return B}function J(u,_,B,L,j){return L=L||[],j=s(j)?!!xt&&{passive:!1,capture:!1}:j,L.push([u,_,B,j]),u.addEventListener?(u.addEventListener(_,B,j),B):!!u.attachEvent&&(L=function(_){(_=_||window.event).preventDefault=_.preventDefault||function(){_.returnValue=!1},_.stopPropagation=_.stopPropagation||function(){_.cancelBubble=!0},B.call(u,_)},u.attachEvent("on"+_,L),L)}function Ya(u,_,B){for(u*=kt,_*=kt,u=B.getImageData(u,_,2,2).data,_=!0,B=0;4>B;B++)if(u[B]!==u[B+4]|u[B]!==u[B+8]|u[B]!==u[B+12]){_=!1;break}return _?u[0]<<16|u[1]<<8|u[2]:0}function ka(u,_,B){return u in _?_[u]:B[u]}function La(u,_,B){if(it&&bt){var L=u.getContext("2d");yt=L.webkitBackingStorePixelRatio||L.mozBackingStorePixelRatio||L.msBackingStorePixelRatio||L.oBackingStorePixelRatio||L.backingStorePixelRatio||1,kt=vt/yt,u.width=_*kt,u.height=B*kt,vt!==yt&&(u.style.width=_+"px",u.style.height=B+"px",L.scale(kt,kt))}else u.width=_,u.height=B}function hb(u){if(!Mt){var _=!1,B=!1;void 0===at.Chart.creditHref?(u.creditHref=X("iuuqr;..b`ow`rkr/bnl."),u.creditText=X("B`ow`rKR/bnl")):(_=u.updateOption("creditText"),B=u.updateOption("creditHref")),u.creditHref&&u.creditText&&(u._creditLink||(u._creditLink=document.createElement("a"),u._creditLink.setAttribute("class","canvasjs-chart-credit"),u._creditLink.setAttribute("title","JavaScript Charts"),u._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(u.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),u._creditLink.setAttribute("tabIndex",-1),u._creditLink.setAttribute("target","_blank")),(0===u.renderCount||_||B)&&(u._creditLink.setAttribute("href",u.creditHref),u._creditLink.innerHTML=u.creditText),u._creditLink&&u.creditHref&&u.creditText?(u._creditLink.parentElement||u._canvasJSContainer.appendChild(u._creditLink),u._creditLink.style.top=u.height-14+"px"):u._creditLink.parentElement&&u._canvasJSContainer.removeChild(u._creditLink))}}function sa(u,_){tt&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var B=document.createElement("canvas");return B.setAttribute("class","canvasjs-chart-canvas"),La(B,u,_),it||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(B),B}function oa(u,_){for(var B in _)u.style[B]=_[B]}function ua(u,_,B){_.getAttribute("state")||(_.style.backgroundColor=u.toolbar.backgroundColor,_.style.color=u.toolbar.fontColor,_.style.border="none",oa(_,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),_.getAttribute("state")!==B&&(_.setAttribute("state",B),_.setAttribute("type","button"),oa(_,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),_.setAttribute("title",u._cultureInfo[B+"Text"]),_.innerHTML="<img style='height:95%; pointer-events: none;' src='"+Tt[B].image+"' alt='"+u._cultureInfo[B+"Text"]+"' />")}function Ka(){for(var u=null,_=0;_<arguments.length;_++)(u=arguments[_]).style&&(u.style.display="inline")}function ta(){for(var u=null,_=0;_<arguments.length;_++)(u=arguments[_])&&u.style&&(u.style.display="none")}function Ra(u,_,B,L,j){return null==u?void 0===B?_:B:(u=parseFloat(u.toString())*(0<=u.toString().indexOf("%")?_/100:1),void 0!==L&&(u=Math.min(L,u),void 0!==j&&(u=Math.max(j,u))),!isNaN(u)&&u<=_&&0<=u?u:void 0===B?_:B)}function V(u,_,B,L,j){this._defaultsKey=u,this._themeOptionsKey=_,this._index=L,this.parent=j,this._eventListeners=[],u={},this.theme&&s(this.parent)&&s(_)&&s(L)?u=s(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[_]&&(null===L?u=this.parent.themeOptions[_]:0<this.parent.themeOptions[_].length&&(L=Math.min(this.parent.themeOptions[_].length-1,L),u=this.parent.themeOptions[_][L])),this.themeOptions=u,this.options=B||{_isPlaceholder:!0},this.setOptions(this.options,u)}function Ca(u,_,B,L,j){void 0===j&&(j=0),this._padding=j,this._x1=u,this._y1=_,this._x2=B,this._y2=L,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function ia(u,_){ia.base.constructor.call(this,"TextBlock",null,_,null,null),this.ctx=u,this._isDirty=!0,this._wrappedText=null,this._initialize()}function Sa(u,_){Sa.base.constructor.call(this,"Toolbar","toolbar",_,null,u),this.chart=u,this.canvas=u.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function xa(u,_){if(xa.base.constructor.call(this,"Title","title",_,null,u),this.chart=u,this.canvas=u.canvas,this.ctx=this.chart.ctx,this.optionsName="title",s(this.options.margin)&&u.options.subtitles)for(var B=u.options.subtitles,L=0;L<B.length;L++)if((s(B[L].horizontalAlign)&&"center"===this.horizontalAlign||B[L].horizontalAlign===this.horizontalAlign)&&(s(B[L].verticalAlign)&&"top"===this.verticalAlign||B[L].verticalAlign===this.verticalAlign)&&!B[L].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Ha(u,_,B){Ha.base.constructor.call(this,"Subtitle","subtitles",_,B,u),this.chart=u,this.canvas=u.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Ta(){this.pool=[]}function Ia(u){var _;u&&st[u]&&(_=st[u]),Ia.base.constructor.call(this,"CultureInfo",null,_,null,null)}var u,_,B,L,j,tt=!1,et={},it=!!document.createElement("canvas").getContext,at={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:it?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:it?"transparent":null,borderColor:it?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:it?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:it?"transparent":null,titleBorderColor:it?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:it?"transparent":null,labelBorderColor:it?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:it?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:it?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:it?"grey":null,labelBorderColor:it?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:it?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:it?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:it?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},st={en:{}},nt=it?"Trebuchet MS, Helvetica, sans-serif":"Arial",ot=it?"Impact, Charcoal, sans-serif":"Arial",rt={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},lt={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:ot,fontSize:32,fontColor:_="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ot,fontSize:ct=14,fontColor:_,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:nt,indexLabelFontSize:ct,indexLabelFontColor:_,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:nt,titleFontSize:dt=20,titleFontColor:_,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:u="#666666",tickThickness:1,tickColor:u,gridThickness:0,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j=L="#000000",color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:_,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u,tickThickness:1,tickColor:u,gridThickness:0,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:_,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u,tickThickness:1,tickColor:u,gridThickness:1,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:_,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u,tickThickness:1,tickColor:u,gridThickness:1,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:nt,fontSize:14,fontColor:_,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:nt,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=_="#F5F5F5",u="#FFFFFF",L="#40BAF1",j="#F5F5F5";var ht={colorSet:"colorSet2",title:{fontFamily:nt,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:nt,fontSize:ct=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:nt,indexLabelFontSize:ct,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:nt,titleFontSize:dt=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:nt,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:nt,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=_="#F5F5F5",ot={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:ot,fontSize:32,fontColor:_,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ot,fontSize:ct=14,fontColor:_,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:nt,indexLabelFontSize:ct,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:nt,titleFontSize:dt=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u="#FFFFFF",tickThickness:1,tickColor:u,gridThickness:0,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j="#F5F5F5",color:L="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u,tickThickness:1,tickColor:u,gridThickness:0,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u,tickThickness:1,tickColor:u,gridThickness:1,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u,tickThickness:1,tickColor:u,gridThickness:1,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:nt,fontSize:14,fontColor:_,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:nt,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},B=_="#FAFAFA";var dt,ct,pt={light1:lt,light2:ht,dark1:ot,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:nt,fontSize:32,fontColor:_,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:nt,fontSize:ct=14,fontColor:_,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:nt,indexLabelFontSize:ct,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:nt,titleFontSize:dt=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u="#FFFFFF",tickThickness:1,tickColor:u,gridThickness:0,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j="#F5F5F5",color:L="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:u,tickThickness:1,tickColor:u,gridThickness:0,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:u,tickThickness:1,tickColor:u,gridThickness:1,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:nt,titleFontSize:dt,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:nt,labelFontSize:ct,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:u,tickThickness:1,tickColor:u,gridThickness:1,gridColor:u,stripLines:[{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:nt,labelFontSize:ct,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:nt,fontSize:14,fontColor:_,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:nt,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:lt,theme2:ht,theme3:lt},ut={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};et.fSDec=function(u){for(var _="",B=0;B<u.length;B++)_+=String.fromCharCode(Math.ceil(u.length/57/5)^u.charCodeAt(B));return _},et.obj={trVs:"B`ow`rKR!Ush`m",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq",msTxt:"ld`rtsdUdyu"},delete at[et.fSDec("Bi`su")][et.fSDec("bsdehuIsdg")],et.pro={sCH:at[et.fSDec("Bi`su")][et.fSDec("bsdehuIsdg")]},et.pos=["cm","cs","um"],et._fTWm=function(u){if(void 0===et.pro.sCH&&!wt)try{var _,B,L=(new Date).getMonth()%3,j=u[et.fSDec(et.obj.cntx)];j[et.fSDec(et.obj.txtBl)]=et.fSDec(et.obj.tp),j[et.fSDec(et.obj.fnt)]=11+et.fSDec(et.obj.fntStr),j[et.fSDec(et.obj.fSy)]=et.fSDec(et.obj.grClr),_="cm"===et.pos[L]||"um"===et.pos[L]?0:u.width-j[et.fSDec(et.obj.msTxt)](et.fSDec(et.obj.trVs)).width,B="um"===et.pos[L]?0:u.height-11,j[et.fSDec(et.obj.fTx)](et.fSDec(et.obj.trVs),_,B),"cs"===et.pos[L]&&(u[et.fSDec("^bsdehuMhoj")].style.right=et.fSDec("`tun"))}catch(u){}};var xt=function(){var u=!1;try{var _=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return u=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,_),window.removeEventListener("test",null,_))}catch(_){u=!1}return u}(),mt={},gt=null,kb=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},lb=function(u,_,B){return _=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=_?12:11,Math.round(_*(u/400)))},ft=function(){var u=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,_="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="Sun Mon Tue Wed Thu Fri Sat".split(" "),L="January February March April May June July August September October November December".split(" "),j="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tt=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,et=/[^-+\dA-Z]/g;return function(it,at,st){var nt=st?st.days:_,ot=st?st.months:L,rt=st?st.shortDays:B,lt=st?st.shortMonths:j;st="";var ht=!1;if(it=it&&it.getTime?it:it?new Date(it):new Date,isNaN(it))throw SyntaxError("invalid date");"UTC:"===at.slice(0,4)&&(at=at.slice(4),ht=!0);var dt=it[(st=ht?"getUTC":"get")+"Date"](),ct=it[st+"Day"](),pt=it[st+"Month"](),ut=it[st+"FullYear"](),xt=it[st+"Hours"](),mt=it[st+"Minutes"](),gt=it[st+"Seconds"](),ft=it[st+"Milliseconds"](),bt=ht?0:it.getTimezoneOffset();return at.replace(u,(function(u){switch(u){case"D":return dt;case"DD":return Y(dt,2);case"DDD":return rt[ct];case"DDDD":return nt[ct];case"M":return pt+1;case"MM":return Y(pt+1,2);case"MMM":return lt[pt];case"MMMM":return ot[pt];case"Y":return parseInt(String(ut).slice(-2));case"YY":return Y(String(ut).slice(-2),2);case"YYY":return Y(String(ut).slice(-3),3);case"YYYY":return Y(ut,4);case"h":return xt%12||12;case"hh":return Y(xt%12||12,2);case"H":return xt;case"HH":return Y(xt,2);case"m":return mt;case"mm":return Y(mt,2);case"s":return gt;case"ss":return Y(gt,2);case"f":return Y(String(ft),3).slice(0,1);case"ff":return Y(String(ft),3).slice(0,2);case"fff":return Y(String(ft),3).slice(0,3);case"t":return 12>xt?"a":"p";case"tt":return 12>xt?"am":"pm";case"T":return 12>xt?"A":"P";case"TT":return 12>xt?"AM":"PM";case"K":return ht?"UTC":(String(it).match(tt)||[""]).pop().replace(et,"");case"z":return(0<bt?"-":"+")+Math.floor(Math.abs(bt)/60);case"zz":return(0<bt?"-":"+")+Y(Math.floor(Math.abs(bt)/60),2);case"zzz":return(0<bt?"-":"+")+Y(Math.floor(Math.abs(bt)/60),2)+Y(Math.abs(bt)%60,2);default:return u.slice(1,u.length-1)}}))}}(),ea=function(u,_,B){if(null===u)return"";if(!isFinite(u))return u;var L=0>(u=Number(u));L&&(u*=-1);var j=B?B.decimalSeparator:".",tt=B?B.digitGroupSeparator:",",et="";_=String(_),et=1;var it=B="",at=-1,st=[],nt=[],ot=0,rt=0,lt=0,ht=!1,dt=0;it=_.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),_=null;for(var ct=0;it&&ct<it.length;ct++)if("."===(_=it[ct])&&0>at)at=ct;else{if("%"===_)et*=100;else{if("‰"===_){et*=1e3;continue}if(","===_[0]&&"."===_[_.length-1]){et/=Math.pow(1e3,_.length-1),at=ct+_.length-1;continue}"E"!==_[0]&&"e"!==_[0]||"0"!==_[_.length-1]||(ht=!0)}0>at?(st.push(_),"#"===_||"0"===_?ot++:","===_&&lt++):(nt.push(_),"#"!==_&&"0"!==_||rt++)}for(ht&&(_=Math.floor(u),it=-Math.floor(Math.log(u)/Math.LN10+1),dt=0===u?0:0===_?-(ot+it):String(_).length-ot,et/=Math.pow(10,dt)),0>at&&(at=ct),_=(et=(u*et).toFixed(rt)).split("."),et=(_[0]+"").split(""),u=(_[1]+"").split(""),et&&"0"===et[0]&&et.shift(),ht=it=ct=rt=at=0;0<st.length;)if("#"===(_=st.pop())||"0"===_)if(++at===ot){var pt=et;if(et=[],"0"===_)for(_=ot-rt-(pt?pt.length:0);0<_;)pt.unshift("0"),_--;for(;0<pt.length;)B=pt.pop()+B,0==++ht%it&&ct===lt&&0<pt.length&&(B=tt+B)}else 0<et.length?(B=et.pop()+B,rt++,ht++):"0"===_&&(B="0"+B,rt++,ht++),0==ht%it&&ct===lt&&0<et.length&&(B=tt+B);else"E"!==_[0]&&"e"!==_[0]||"0"!==_[_.length-1]||!/[eE][+-]*[0]+/.test(_)?","===_?(ct++,it=ht,ht=0,0<et.length&&(B=tt+B)):B=1<_.length&&('"'===_[0]&&'"'===_[_.length-1]||"'"===_[0]&&"'"===_[_.length-1])?_.slice(1,_.length-1)+B:_+B:B+=(_=0>dt?_.replace("+","").replace("-",""):_.replace("-","")).replace(/[0]+/,(function(u){return Y(dt,u.length)}));for(tt="",st=!1;0<nt.length;)"#"===(_=nt.shift())||"0"===_?0<u.length&&0!==Number(u.join(""))?(tt+=u.shift(),st=!0):"0"===_&&(tt+="0",st=!0):1<_.length&&('"'===_[0]&&'"'===_[_.length-1]||"'"===_[0]&&"'"===_[_.length-1])?tt+=_.slice(1,_.length-1):"E"!==_[0]&&"e"!==_[0]||"0"!==_[_.length-1]||!/[eE][+-]*[0]+/.test(_)?tt+=_:tt+=(_=0>dt?_.replace("+","").replace("-",""):_.replace("-","")).replace(/[0]+/,(function(u){return Y(dt,u.length)}));return B+=(st?j:"")+tt,L?"-"+B:B},Na=function(u){var _=0,B=0;return(u=u||window.event).offsetX||0===u.offsetX?(_=u.offsetX,B=u.offsetY):u.layerX||0==u.layerX?(_=u.layerX,B=u.layerY):(_=u.pageX-u.target.offsetLeft,B=u.pageY-u.target.offsetTop),{x:_,y:B}},bt=!0,vt=window.devicePixelRatio||1,yt=1,kt=bt?vt/yt:1,ca=function(u,_,B,L,j,tt,et,it,at,st,nt,ot,rt){void 0===rt&&(rt=1),et=et||0,it=it||"black";var lt=15<L-_&&15<j-B?8:.35*Math.min(L-_,j-B);u.beginPath(),u.moveTo(_,B),u.save(),u.fillStyle=tt,u.globalAlpha=rt,u.fillRect(_,B,L-_,j-B),u.globalAlpha=1,0<et&&(rt=0==et%2?0:.5,u.beginPath(),u.lineWidth=et,u.strokeStyle=it,u.moveTo(_,B),u.rect(_-rt,B-rt,L-_+2*rt,j-B+2*rt),u.stroke()),u.restore(),!0===at&&(u.save(),u.beginPath(),u.moveTo(_,B),u.lineTo(_+lt,B+lt),u.lineTo(L-lt,B+lt),u.lineTo(L,B),u.closePath(),(et=u.createLinearGradient((L+_)/2,B+lt,(L+_)/2,B)).addColorStop(0,tt),et.addColorStop(1,"rgba(255, 255, 255, .4)"),u.fillStyle=et,u.fill(),u.restore()),!0===st&&(u.save(),u.beginPath(),u.moveTo(_,j),u.lineTo(_+lt,j-lt),u.lineTo(L-lt,j-lt),u.lineTo(L,j),u.closePath(),(et=u.createLinearGradient((L+_)/2,j-lt,(L+_)/2,j)).addColorStop(0,tt),et.addColorStop(1,"rgba(255, 255, 255, .4)"),u.fillStyle=et,u.fill(),u.restore()),!0===nt&&(u.save(),u.beginPath(),u.moveTo(_,B),u.lineTo(_+lt,B+lt),u.lineTo(_+lt,j-lt),u.lineTo(_,j),u.closePath(),(et=u.createLinearGradient(_+lt,(j+B)/2,_,(j+B)/2)).addColorStop(0,tt),et.addColorStop(1,"rgba(255, 255, 255, 0.1)"),u.fillStyle=et,u.fill(),u.restore()),!0===ot&&(u.save(),u.beginPath(),u.moveTo(L,B),u.lineTo(L-lt,B+lt),u.lineTo(L-lt,j-lt),u.lineTo(L,j),(et=u.createLinearGradient(L-lt,(j+B)/2,L,(j+B)/2)).addColorStop(0,tt),et.addColorStop(1,"rgba(255, 255, 255, 0.1)"),u.fillStyle=et,et.addColorStop(0,tt),et.addColorStop(1,"rgba(255, 255, 255, 0.1)"),u.fillStyle=et,u.fill(),u.closePath(),u.restore())},X=function(u){for(var _="",B=0;B<u.length;B++)_+=String.fromCharCode(Math.ceil(u.length/57/5)^u.charCodeAt(B));return _},wt=window&&window[X("mnb`uhno")]&&window[X("mnb`uhno")].href&&window[X("mnb`uhno")].href.indexOf&&(-1!==window[X("mnb`uhno")].href.indexOf(X("b`ow`rkr/bnl"))||-1!==window[X("mnb`uhno")].href.indexOf(X("gdonqhy/bnl"))||-1!==window[X("mnb`uhno")].href.indexOf(X("gheemd"))),Mt=wt&&-1===window[X("mnb`uhno")].href.indexOf(X("gheemd")),Tt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};V.prototype.setOptions=function(u,_){if(at[this._defaultsKey]){var B,L=at[this._defaultsKey];for(B in L)"publicProperties"!==B&&L.hasOwnProperty(B)&&(this[B]=u&&B in u?u[B]:_&&B in _?_[B]:L[B])}else tt&&window.console},V.prototype.get=function(u){var _=at[this._defaultsKey];return"options"===u?this.options&&this.options._isPlaceholder?null:this.options:_.hasOwnProperty(u)||_.publicProperties&&_.publicProperties.hasOwnProperty(u)?this[u]:void(window.console&&window.console.log('Property "'+u+"\" doesn't exist. Please check for typo."))},V.prototype.set=function(u,_,B){B=void 0===B||B;var L=at[this._defaultsKey];if("options"===u)this.createUserOptions(_);else{if(!(L.hasOwnProperty(u)||L.publicProperties&&L.publicProperties.hasOwnProperty(u)&&"readWrite"===L.publicProperties[u]))return void(window.console&&(L.publicProperties&&L.publicProperties.hasOwnProperty(u)&&"readOnly"===L.publicProperties[u]?window.console.log('Property "'+u+'" is read-only.'):window.console.log('Property "'+u+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[u]=_}B&&(this.stockChart||this.chart||this).render()},V.prototype.addTo=function(u,_,B,L){L=void 0===L||L;var j=at[this._defaultsKey];j.hasOwnProperty(u)||j.publicProperties&&j.publicProperties.hasOwnProperty(u)&&"readWrite"===j.publicProperties[u]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[u]&&(this.options[u]=[]),u=this.options[u],B=null==B?u.length:B,u.splice(B,0,_),L&&(this.stockChart||this.chart||this).render()):window.console&&(j.publicProperties&&j.publicProperties.hasOwnProperty(u)&&"readOnly"===j.publicProperties[u]?window.console.log('Property "'+u+'" is read-only.'):window.console.log('Property "'+u+"\" doesn't exist. Please check for typo."))},V.prototype.createUserOptions=function(u){if(void 0!==u||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var _=this.parent.options[this.optionsName],B=_.length;this.options._isPlaceholder||(Ba(_),B=_.indexOf(this.options)),this.options=void 0===u?{}:u,_[B]=this.options}else this.options=void 0===u?{}:u,u=this.parent.options,this.optionsName?_=this.optionsName:(_=this._defaultsKey)&&0!==_.length?(B=_.charAt(0).toLowerCase(),1<_.length&&(B=B.concat(_.slice(1))),_=B):_=void 0,u[_]=this.options},V.prototype.remove=function(u){if(u=void 0===u||u,this.isOptionsInArray){var _=this.parent.options[this.optionsName];Ba(_);var B=_.indexOf(this.options);0<=B&&_.splice(B,1)}else delete this.parent.options[this.optionsName];u&&(this.stockChart||this.chart||this).render()},V.prototype.updateOption=function(u){!at[this._defaultsKey]&&tt&&window.console;var _=at[this._defaultsKey],B={},L=this[u],j=this._themeOptionsKey,et=this._index;return this.theme&&s(this.parent)&&s(j)&&s(et)?B=s(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[j]&&(null===et?B=this.parent.themeOptions[j]:0<this.parent.themeOptions[j].length&&(B=Math.min(this.parent.themeOptions[j].length-1,et),B=this.parent.themeOptions[j][B])),this.themeOptions=B,u in _&&(L=u in this.options?this.options[u]:B&&u in B?B[u]:_[u]),L!==this[u]&&(this[u]=L,!0)},V.prototype.trackChanges=function(u){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[u]=this.options[u]},V.prototype.isBeingTracked=function(u){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[u]},V.prototype.hasOptionChanged=function(u){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[u]!==this.options[u]},V.prototype.addEventListener=function(u,_,B){u&&_&&(this._eventListeners[u]=this._eventListeners[u]||[],this._eventListeners[u].push({context:B||this,eventHandler:_}))},V.prototype.removeEventListener=function(u,_){if(u&&_&&this._eventListeners[u])for(var B=this._eventListeners[u],L=0;L<B.length;L++)if(B[L].eventHandler===_){B[L].splice(L,1);break}},V.prototype.removeAllEventListeners=function(){this._eventListeners=[]},V.prototype.dispatchEvent=function(u,_,B){if(u&&this._eventListeners[u]){_=_||{};for(var L=this._eventListeners[u],j=0;j<L.length;j++)L[j].eventHandler.call(L[j].context,_)}"function"==typeof this[u]&&this[u].call(B||this.chart,_)},Ca.prototype.registerSpace=function(u,_){"top"===u?this._topOccupied+=_.height:"bottom"===u?this._bottomOccupied+=_.height:"left"===u?this._leftOccupied+=_.width:"right"===u&&(this._rightOccupied+=_.width)},Ca.prototype.unRegisterSpace=function(u,_){"top"===u?this._topOccupied-=_.height:"bottom"===u?this._bottomOccupied-=_.height:"left"===u?this._leftOccupied-=_.width:"right"===u&&(this._rightOccupied-=_.width)},Ca.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},Ca.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},na(ia,V),ia.prototype._initialize=function(){s(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=s(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=s(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=s(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=s(this.padding.left)?0:0|Number(this.padding.left))},ia.prototype.render=function(u){if(0!==this.fontSize){u&&this.ctx.save();var _=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var B=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+B),"middle"===this.textBaseline&&(B=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var L=0,j=this.topPadding,tt=null;for(this.ctx.roundRect||Aa(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,B,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,B=0;B<this._wrappedText.lines.length;B++)tt=this._wrappedText.lines[B],"right"===this.horizontalAlign||"right"===this.textAlign?L=this.width-tt.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?L=this.leftPadding:"center"!==this.horizontalAlign&&"center"!==this.textAlign||(L=(this.width-(this.leftPadding+this.rightPadding))/2-tt.width/2+this.leftPadding),this.ctx.fillText(tt.text,L,j),j+=tt.height;this.ctx.font=_,u&&this.ctx.restore()}},ia.prototype.setText=function(u){this.text=u,this._isDirty=!0,this._wrappedText=null},ia.prototype.measureText=function(){if(this._lineHeight=Wa(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},ia.prototype._getLineWithWidth=function(u,_,B){if(!(u=String(u)))return{text:"",width:0};var L=B=0,j=u.length-1,tt=1/0;for(this.ctx.font=this._getFontString();L<=j;){tt=Math.floor((L+j)/2);var et=u.substr(0,tt+1);if((B=this.ctx.measureText(et).width)<_)L=tt+1;else{if(!(B>_))break;j=tt-1}}return B>_&&1<et.length&&(et=et.substr(0,et.length-1),B=this.ctx.measureText(et).width),_=!0,et.length!==u.length&&" "!==u[et.length]||(_=!1),_&&(1<(u=et.split(" ")).length&&u.pop(),et=u.join(" "),B=this.ctx.measureText(et).width),{text:et,width:B}},ia.prototype._wrapText=function(){var u=new String(Ea(String(this.text))),_=[],B=this.ctx.font,L=0,j=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)j=L=0;else for(;0<u.length;){var tt=this.maxHeight-(this.topPadding+this.bottomPadding),et=this._getLineWithWidth(u,this.maxWidth-(this.leftPadding+this.rightPadding),!1);et.height=this._lineHeight,_.push(et);var it=j;j=Math.max(j,et.width),L+=et.height,u=Ea(u.slice(et.text.length,u.length)),tt&&L>tt&&(L-=(et=_.pop()).height,j=it)}this._wrappedText={lines:_,width:j,height:L},this.width=j+(this.leftPadding+this.rightPadding),this.height=L+(this.topPadding+this.bottomPadding),this.ctx.font=B},ia.prototype._getFontString=function(){var u;u=this.fontStyle?this.fontStyle+" ":"",u+=this.fontWeight?this.fontWeight+" ":"",u+=this.fontSize?this.fontSize+"px ":"";var _=this.fontFamily?this.fontFamily+"":"";return!it&&_&&"'"!==(_=_.split(",")[0])[0]&&'"'!==_[0]&&(_="'"+_+"'"),u+_},na(Sa,V),na(xa,V),xa.prototype.setLayout=function(){if(this.text){var u,_,B,L=this.dockInsidePlotArea?this.chart.plotArea:this.chart,j=L.layoutManager.getFreeSpace(),tt=j.x1,et=j.y1,it=0,at=0,st=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=j.width-4-st*("center"===this.horizontalAlign?2:1)),at=.5*j.height-this.margin-2,it=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=j.height-4),at=.5*j.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=j.width-4),at=.5*j.height-4)),s(this.padding)||"number"!=typeof this.padding?s(this.padding)||"object"!=typeof this.padding||(B=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,B+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):B=2*this.padding,this.wrap||(at=Math.min(at,1.5*this.fontSize+B)),B=(at=new ia(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:at,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(et=j.y1+2,_="top"):"bottom"===this.verticalAlign&&(et=j.y2-2-B.height,_="bottom"),"left"===this.horizontalAlign?tt=j.x1+2:"center"===this.horizontalAlign?tt=j.x1+j.width/2-B.width/2:"right"===this.horizontalAlign&&(tt=j.x2-2-B.width-st),u=this.horizontalAlign,this.width=B.width,this.height=B.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(tt=j.x1+2,et=j.y2-2-(this.maxWidth/2-B.width/2),it=-90,_="left",this.width=B.height,this.height=B.width):"right"===this.horizontalAlign?(tt=j.x2-2,et=j.y1+2+(this.maxWidth/2-B.width/2),it=90,_="right",this.width=B.height,this.height=B.width):"center"===this.horizontalAlign&&(et=L.y1+(L.height/2-B.height/2),tt=L.x1+(L.width/2-B.width/2),_="center",this.width=B.width,this.height=B.height),u="center"),at.x=tt,at.y=et,at.angle=it,at.horizontalAlign=u,this._textBlock=at,L.layoutManager.registerSpace(_,{width:this.width+("left"===_||"right"===_?this.margin+2:0),height:this.height+("top"===_||"bottom"===_?this.margin+2:0)}),this.bounds={x1:tt,y1:et,x2:tt+this.width,y2:et+this.height},this.ctx.textBaseline="top"}},xa.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},na(Ha,V),Ha.prototype.setLayout=xa.prototype.setLayout,Ha.prototype.render=xa.prototype.render,Ta.prototype.get=function(u,_){var B=null;return 0<this.pool.length?La(B=this.pool.pop(),u,_):B=sa(u,_),B},Ta.prototype.release=function(u){this.pool.push(u)},na(Ia,V);var Ct={addTheme:function(u,_){pt[u]=_},addColorSet:function(u,_){rt[u]=_},addCultureInfo:function(u,_){st[u]=_},formatNumber:function(u,_,B){if(st[B=B||"en"])return ea(u,_||"#,##0.##",new Ia(B));throw"Unknown Culture Name"},formatDate:function(u,_,B){if(st[B=B||"en"])return ft(u,_||"DD MMM YYYY",new Ia(B));throw"Unknown Culture Name"}};"undefined"!=typeof module&&void 0!==module.exports?module.exports=Ct:"function"==typeof define&&define.amd?define([],(function(){return Ct})):(window.CanvasJS&&window.console&&window.console.log("CanvasJS namespace already exists. If you are loading both chart and stockchart scripts, just load stockchart alone as it includes all chart features."),window.CanvasJS=window.CanvasJS?window.CanvasJS:Ct),(nt=Ct.Chart=function(){function h(u,_){return u.x-_.x}function m(u,_,B){_=_||{},s(B)?(this.predefinedThemes=pt,this.optionsName=this.parent=this.index=null):(this.parent=B.parent,this.index=B.index,this.predefinedThemes=B.predefinedThemes,this.optionsName=B.optionsName,this.stockChart=B.stockChart,this.panel=u,this.isOptionsInArray=B.isOptionsInArray),this.theme=s(_.theme)||s(this.predefinedThemes[_.theme])?"light1":_.theme,m.base.constructor.call(this,"Chart",this.optionsName,_,this.index,this.parent);var L=this;this._containerId=u,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Ta,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",_=u=0,u=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,_=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=u,this.height=_,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=void 0!==rt[this.colorSet]?rt[this.colorSet]:rt.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",it||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=sa(u,_),this._preRenderCanvas=sa(u,_),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",Aa(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",Aa(this._preRenderCtx),it?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=sa(u,_),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=sa(u,_),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",Aa(this.overlaidCanvasCtx)),this._eventManager=new da(this),this.windowResizeHandler=J(window,"resize",(function(){L._updateSize()&&L.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},J(this.overlaidCanvas,"click",(function(u){L._mouseEventHandler(u)}),this.allDOMEventHandlers),J(this.overlaidCanvas,"mousemove",(function(u){L._mouseEventHandler(u)}),this.allDOMEventHandlers),J(this.overlaidCanvas,"mouseup",(function(u){L._mouseEventHandler(u)}),this.allDOMEventHandlers),J(this.overlaidCanvas,"mousedown",(function(u){L._mouseEventHandler(u),ta(L._dropdownMenu)}),this.allDOMEventHandlers),J(this.overlaidCanvas,"mouseout",(function(u){L._mouseEventHandler(u)}),this.allDOMEventHandlers),J(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(u){L._touchEventHandler(u)}),this.allDOMEventHandlers),J(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(u){L._touchEventHandler(u)}),this.allDOMEventHandlers),J(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(u){L._touchEventHandler(u)}),this.allDOMEventHandlers),J(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(u){L._touchEventHandler(u)}),this.allDOMEventHandlers),this.toolTip=new Y(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function w(u,_){for(var B,L=[],j=0;j<u.length;j++)if(0==j)L.push(u[0]);else{var tt,et,it;tt=0==(it=j-1)?0:it-1,et=it===u.length-1?it:it+1,B=Math.abs((u[et].x-u[tt].x)/(0==u[et].x-u[it].x?.01:u[et].x-u[it].x))*(_-1)/2+1;var at=(u[et].x-u[tt].x)/B;B=(u[et].y-u[tt].y)/B,L[L.length]=u[it].x>u[tt].x&&0<at||u[it].x<u[tt].x&&0>at?{x:u[it].x+at/3,y:u[it].y+B/3}:{x:u[it].x,y:u[it].y+B/9},tt=0===(it=j)?0:it-1,et=it===u.length-1?it:it+1,B=Math.abs((u[et].x-u[tt].x)/(0==u[it].x-u[tt].x?.01:u[it].x-u[tt].x))*(_-1)/2+1,at=(u[et].x-u[tt].x)/B,B=(u[et].y-u[tt].y)/B,L[L.length]=u[it].x>u[tt].x&&0<at||u[it].x<u[tt].x&&0>at?{x:u[it].x-at/3,y:u[it].y-B/3}:{x:u[it].x,y:u[it].y-B/9},L[L.length]=u[j]}return L}function y(u,_,B,L,j,tt,et,it,at,st){var nt=0;st?(et.color=tt,it.color=tt):st=1,nt=at?Math.abs(j-B):Math.abs(L-_),nt=0<et.trimLength?Math.abs(nt*et.trimLength/100):Math.abs(nt-et.length),at?(B+=nt/2,j-=nt/2):(_+=nt/2,L-=nt/2),nt=1==Math.round(et.thickness)%2?.5:0;var ot=1==Math.round(it.thickness)%2?.5:0;u.save(),u.globalAlpha=st,u.strokeStyle=it.color||tt,u.lineWidth=it.thickness||2,u.setLineDash&&u.setLineDash(N(it.dashType,it.thickness)),u.beginPath(),at&&0<it.thickness?(u.moveTo(L-et.thickness/2,Math.round((B+j)/2)-ot),u.lineTo(_+et.thickness/2,Math.round((B+j)/2)-ot)):0<it.thickness&&(u.moveTo(Math.round((_+L)/2)-ot,B+et.thickness/2),u.lineTo(Math.round((_+L)/2)-ot,j-et.thickness/2)),u.stroke(),u.strokeStyle=et.color||tt,u.lineWidth=et.thickness||2,u.setLineDash&&u.setLineDash(N(et.dashType,et.thickness)),u.beginPath(),at&&0<et.thickness?(u.moveTo(L-nt,B),u.lineTo(L-nt,j),u.moveTo(_+nt,B),u.lineTo(_+nt,j)):0<et.thickness&&(u.moveTo(_,B+nt),u.lineTo(L,B+nt),u.moveTo(_,j-nt),u.lineTo(L,j-nt)),u.stroke(),u.restore()}function F(u,_){F.base.constructor.call(this,"Legend","legend",_,null,u),this.chart=u,this.canvas=u.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Wa(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function H(u,_,B,L){for(H.base.constructor.call(this,"DataSeries","data",_,B,u),this.chart=u,this.canvas=u.canvas,this._ctx=u.canvas.ctx,this.index=B,this.noDataPointsInPlotArea=0,this.id=L,this.chart._eventManager.objectMap[L]={id:L,objectType:"dataSeries",dataSeriesIndex:B},u=_.dataPoints?_.dataPoints.length:0,this.dataPointEOs=[],_=0;_<u;_++)this.dataPointEOs[_]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function D(u,_,B,L,j,tt){if(D.base.constructor.call(this,"Axis",_,B,L,u),this.chart=u,this.canvas=u.canvas,this.ctx=u.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===j?("left"===tt||"bottom"===tt?(this.optionsName="axisX",s(this.chart.sessionVariables.axisX[L])&&(this.chart.sessionVariables.axisX[L]={}),this.sessionVariables=this.chart.sessionVariables.axisX[L]):(this.optionsName="axisX2",s(this.chart.sessionVariables.axisX2[L])&&(this.chart.sessionVariables.axisX2[L]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[L]),this.options.interval||(this.intervalType=null)):"left"===tt||"bottom"===tt?(this.optionsName="axisY",s(this.chart.sessionVariables.axisY[L])&&(this.chart.sessionVariables.axisY[L]={}),this.sessionVariables=this.chart.sessionVariables.axisY[L]):(this.optionsName="axisY2",s(this.chart.sessionVariables.axisY2[L])&&(this.chart.sessionVariables.axisY2[L]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[L]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=j,"axisX"!==j||B&&void 0!==B.gridThickness||(this.gridThickness=0),this._position=tt,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new Z(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(u=0;u<this.options.stripLines.length;u++)this.stripLines.push(new M(this.chart,this.options.stripLines[u],u,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new $(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function Z(u,_,B,L){if(Z.base.constructor.call(this,"ScaleBreaks","scaleBreaks",_,null,L),this.id=B,this.chart=u,this.ctx=this.chart.ctx,this.axis=L,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(u=0;u<this.options.customBreaks.length;u++)this.customBreaks.push(new U(this.chart,"customBreaks",this.options.customBreaks[u],u,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[u].startValue&&"number"==typeof this.customBreaks[u].endValue&&this.customBreaks[u].endValue!==this.customBreaks[u].startValue&&this._appliedBreaks.push(this.customBreaks[u]);for(this._appliedBreaks.sort((function(u,_){return u.startValue-_.startValue})),u=0;u<this._appliedBreaks.length-1;u++)this._appliedBreaks[u].endValue>=this._appliedBreaks[u+1].startValue&&(this._appliedBreaks[u].endValue=Math.max(this._appliedBreaks[u].endValue,this._appliedBreaks[u+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+u+" and "+(u+1)+" are overlapping."),this._appliedBreaks.splice(u,2),u--)}}function U(u,_,B,L,j,tt){U.base.constructor.call(this,"Break",_,B,L,tt),this.id=j,this.chart=u,this.ctx=this.chart.ctx,this.scaleBreaks=tt,this.optionsName=_,this.isOptionsInArray=!0,this.type=B.type?this.type:tt.type,this.fillOpacity=s(B.fillOpacity)?tt.fillOpacity:this.fillOpacity,this.lineThickness=s(B.lineThickness)?tt.lineThickness:this.lineThickness,this.color=B.color?this.color:tt.color,this.lineColor=B.lineColor?this.lineColor:tt.lineColor,this.lineDashType=B.lineDashType?this.lineDashType:tt.lineDashType,!s(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!s(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(u=this.startValue,this.startValue=this.endValue,this.endValue=u),this.spacing=void 0===B.spacing?tt.spacing:B.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=tt.spacing),this.size=tt.parent.logarithmic?1:0}function M(u,_,B,L,j){M.base.constructor.call(this,"StripLine","stripLines",_,B,j),this.id=L,this.chart=u,this.ctx=this.chart.ctx,this.label=this.label,this.axis=j,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=j.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function $(u,_,B){$.base.constructor.call(this,"Crosshair","crosshair",_,null,B),this.chart=u,this.ctx=this.chart.ctx,this.axis=B,this.optionsName="crosshair",this._thicknessType="pixel"}function Y(u,_){Y.base.constructor.call(this,"ToolTip","toolTip",_,null,u),this.chart=u,this.canvas=u.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function da(u){this.chart=u,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=sa(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function ha(u){this.chart=u,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}na(m,V),m.prototype.destroy=function(){var u=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var _=0;_<u.length;_++){var B=u[_][0],L=u[_][1],j=u[_][2],tt=(tt=u[_][3])||!1;B.removeEventListener?B.removeEventListener(L,j,tt):B.detachEvent&&B.detachEvent("on"+L,j)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},m.prototype._updateOptions=function(){var u=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=void 0!==rt[this.colorSet]?rt[this.colorSet]:rt.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new Ia(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&it,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled||this.panEnabled){if(!this._zoomButton){var _=!1;ta(this._zoomButton=document.createElement("button")),ua(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,J(this._zoomButton,"touchstart",(function(u){_=!0}),this.allDOMEventHandlers),J(this._zoomButton,"click",(function(){u.zoomEnabled?(u.zoomEnabled=!1,u.panEnabled=!0,ua(u,u._zoomButton,"zoom")):(u.zoomEnabled=!0,u.panEnabled=!1,ua(u,u._zoomButton,"pan")),u.render()}),this.allDOMEventHandlers),J(this._zoomButton,"mouseover",(function(){_?_=!1:(oa(u._zoomButton,{backgroundColor:u.toolbar.backgroundColorOnHover,color:u.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&oa(u._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),J(this._zoomButton,"mouseout",(function(){_||(oa(u._zoomButton,{backgroundColor:u.toolbar.backgroundColor,color:u.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&oa(u._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(_=!1,ta(this._resetButton=document.createElement("button")),ua(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),J(this._resetButton,"touchstart",(function(u){_=!0}),this.allDOMEventHandlers),J(this._resetButton,"click",(function(){if(u.toolTip.hide(),u.toolTip.dispatchEvent("hidden",{chart:u,toolTip:u.toolTip},u.toolTip),u.zoomEnabled||u.panEnabled?(u.zoomEnabled=!0,u.panEnabled=!1,ua(u,u._zoomButton,"pan"),u._defaultCursor="default",u.overlaidCanvas.style.cursor=u._defaultCursor):(u.zoomEnabled=!1,u.panEnabled=!1),u.sessionVariables.axisX)for(var _=0;_<u.sessionVariables.axisX.length;_++)u.sessionVariables.axisX[_].newViewportMinimum=null,u.sessionVariables.axisX[_].newViewportMaximum=null;if(u.sessionVariables.axisX2)for(_=0;_<u.sessionVariables.axisX2.length;_++)u.sessionVariables.axisX2[_].newViewportMinimum=null,u.sessionVariables.axisX2[_].newViewportMaximum=null;if(u.sessionVariables.axisY)for(_=0;_<u.sessionVariables.axisY.length;_++)u.sessionVariables.axisY[_].newViewportMinimum=null,u.sessionVariables.axisY[_].newViewportMaximum=null;if(u.sessionVariables.axisY2)for(_=0;_<u.sessionVariables.axisY2.length;_++)u.sessionVariables.axisY2[_].newViewportMinimum=null,u.sessionVariables.axisY2[_].newViewportMaximum=null;u.resetOverlayedCanvas(),ta(u._zoomButton,u._resetButton),u.stockChart&&(u.stockChart._rangeEventParameter={stockChart:u.stockChart,source:"chart",index:u.stockChart.charts.indexOf(u),minimum:null,maximum:null}),u._dispatchRangeEvent("rangeChanging","reset"),u.stockChart&&(u.stockChart._rangeEventParameter.type="rangeChanging",u.stockChart.dispatchEvent("rangeChanging",u.stockChart._rangeEventParameter,u.stockChart)),u.render(),u.syncCharts&&u.syncCharts(null,null),u._dispatchRangeEvent("rangeChanged","reset"),u.stockChart&&(u.stockChart._rangeEventParameter.type="rangeChanged",u.stockChart.dispatchEvent("rangeChanged",u.stockChart._rangeEventParameter,u.stockChart))}),this.allDOMEventHandlers),J(this._resetButton,"mouseover",(function(){_||(oa(u._resetButton,{backgroundColor:u.toolbar.backgroundColorOnHover,color:u.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&oa(u._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),J(this._resetButton,"mouseout",(function(){_||(oa(u._resetButton,{backgroundColor:u.toolbar.backgroundColor,color:u.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&oa(u._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=u._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(u._zoomButton.getAttribute("state")===u._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Ka(u._zoomButton,u._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var B in function gb(u){if(u._menuButton)u.exportEnabled?Ka(u._menuButton):ta(u._menuButton);else if(u.exportEnabled&&it){var _=!1;u._menuButton=document.createElement("button"),ua(u,u._menuButton,"menu"),u._toolBar.appendChild(u._menuButton),J(u._menuButton,"touchstart",(function(u){_=!0}),u.allDOMEventHandlers),J(u._menuButton,"click",(function(){"none"!==u._dropdownMenu.style.display||u._dropDownCloseTime&&500>=(new Date).getTime()-u._dropDownCloseTime.getTime()||(u._dropdownMenu.style.display="block",u._menuButton.blur(),u._dropdownMenu.focus())}),u.allDOMEventHandlers,!0),J(u._menuButton,"mouseover",(function(){_||(oa(u._menuButton,{backgroundColor:u.toolbar.backgroundColorOnHover,color:u.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&oa(u._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),u.allDOMEventHandlers,!0),J(u._menuButton,"mouseout",(function(){_||(oa(u._menuButton,{backgroundColor:u.toolbar.backgroundColor,color:u.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&oa(u._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),u.allDOMEventHandlers,!0)}if(!u._dropdownMenu&&u.exportEnabled&&it){_=!1,u._dropdownMenu=document.createElement("div"),u._dropdownMenu.setAttribute("tabindex",-1);var B=-1!==u.theme.indexOf("dark")?"black":"#888888";u._dropdownMenu.style.cssText="position: absolute; z-index: 1; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+u.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+B,u._dropdownMenu.style.display="none",u._toolBar.appendChild(u._dropdownMenu),J(u._dropdownMenu,"blur",(function(){ta(u._dropdownMenu),u._dropDownCloseTime=new Date}),u.allDOMEventHandlers,!0),(B=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",B.innerHTML=u._cultureInfo.printText,B.style.backgroundColor=u.toolbar.backgroundColor,B.style.color=u.toolbar.fontColor,u._dropdownMenu.appendChild(B),J(B,"touchstart",(function(u){_=!0}),u.allDOMEventHandlers),J(B,"mouseover",(function(){_||(this.style.backgroundColor=u.toolbar.backgroundColorOnHover,this.style.color=u.toolbar.fontColorOnHover)}),u.allDOMEventHandlers,!0),J(B,"mouseout",(function(){_||(this.style.backgroundColor=u.toolbar.backgroundColor,this.style.color=u.toolbar.fontColor)}),u.allDOMEventHandlers,!0),J(B,"click",(function(){u.print(),ta(u._dropdownMenu)}),u.allDOMEventHandlers,!0),(B=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",B.innerHTML=u._cultureInfo.saveJPGText,B.style.backgroundColor=u.toolbar.backgroundColor,B.style.color=u.toolbar.fontColor,u._dropdownMenu.appendChild(B),J(B,"touchstart",(function(u){_=!0}),u.allDOMEventHandlers),J(B,"mouseover",(function(){_||(this.style.backgroundColor=u.toolbar.backgroundColorOnHover,this.style.color=u.toolbar.fontColorOnHover)}),u.allDOMEventHandlers,!0),J(B,"mouseout",(function(){_||(this.style.backgroundColor=u.toolbar.backgroundColor,this.style.color=u.toolbar.fontColor)}),u.allDOMEventHandlers,!0),J(B,"click",(function(){u.exportChart({format:"jpeg",fileName:u.exportFileName}),ta(u._dropdownMenu)}),u.allDOMEventHandlers,!0),(B=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",B.innerHTML=u._cultureInfo.savePNGText,B.style.backgroundColor=u.toolbar.backgroundColor,B.style.color=u.toolbar.fontColor,u._dropdownMenu.appendChild(B),J(B,"touchstart",(function(u){_=!0}),u.allDOMEventHandlers),J(B,"mouseover",(function(){_||(this.style.backgroundColor=u.toolbar.backgroundColorOnHover,this.style.color=u.toolbar.fontColorOnHover)}),u.allDOMEventHandlers,!0),J(B,"mouseout",(function(){_||(this.style.backgroundColor=u.toolbar.backgroundColor,this.style.color=u.toolbar.fontColor)}),u.allDOMEventHandlers,!0),J(B,"click",(function(){u.exportChart({format:"png",fileName:u.exportFileName}),ta(u._dropdownMenu)}),u.allDOMEventHandlers,!0)}}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?ua(u,u._zoomButton,"zoom"):ua(u,u._zoomButton,"pan"),u._resetButton.getAttribute("state")!==u._cultureInfo.resetText&&ua(u,u._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(B)&&this.toolTip.updateOption(B)},m.prototype._updateSize=function(){var u;u=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var _=0,B=0;if(this.options.width?_=this.width:this.width=_=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?B=this.height:this.height=B=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==_*kt||this.canvas.height!==B*kt){for(var L=0;L<u.length;L++)La(u[L],_,B);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},u=!0}else u=!1;return u},m.prototype._initialize=function(){this.isNavigator=!s(this.parent)&&!s(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new Sa(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new ha(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=it&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new Ca(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var u=0,_=null;if(this.options.data){for(var B=0;B<this.options.data.length;B++)if(u++,!this.options.data[B].type||0<=m._supportedChartTypes.indexOf(this.options.data[B].type)){var L=new H(this,this.options.data[B],u-1,++this._eventManager.lastObjectId);"error"===L.type&&(L.linkedDataSeriesIndex=s(this.options.data[B].linkedDataSeriesIndex)?B-1:this.options.data[B].linkedDataSeriesIndex,0>L.linkedDataSeriesIndex||L.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof L.linkedDataSeriesIndex||"error"===this.options.data[L.linkedDataSeriesIndex].type)&&(L.linkedDataSeriesIndex=null),null===L.name&&(L.name="DataSeries "+u),null===L.color?1<this.options.data.length?(L._colorSet=[this.selectedColorSet[L.index%this.selectedColorSet.length]],L.color=this.selectedColorSet[L.index%this.selectedColorSet.length]):L._colorSet="line"===L.type||"stepLine"===L.type||"spline"===L.type||"area"===L.type||"stepArea"===L.type||"splineArea"===L.type||"stackedArea"===L.type||"stackedArea100"===L.type||"rangeArea"===L.type||"rangeSplineArea"===L.type||"candlestick"===L.type||"ohlc"===L.type||"waterfall"===L.type||"boxAndWhisker"===L.type?[this.selectedColorSet[0]]:this.selectedColorSet:L._colorSet=[L.color],null===L.markerSize&&(("line"===L.type||"stepLine"===L.type||"spline"===L.type||0<=L.type.toLowerCase().indexOf("area"))&&L.dataPoints&&L.dataPoints.length<this.width/16||"scatter"===L.type)&&(L.markerSize=8),"bubble"!==L.type&&"scatter"!==L.type||!L.dataPoints||(L.dataPoints.some?L.dataPoints.some((function(u){return u.x}))&&L.dataPoints.sort(h):L.dataPoints.sort(h)),this.data.push(L);var j,tt=L.axisPlacement;if(_=_||tt,"normal"===tt?"xySwapped"===this.plotInfo.axisPlacement?j='You cannot combine "'+L.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?j='You cannot combine "'+L.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===tt?"normal"===this.plotInfo.axisPlacement?j='You cannot combine "'+L.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?j='You cannot combine "'+L.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===tt?"normal"===this.plotInfo.axisPlacement?j='You cannot combine "'+L.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?j='You cannot combine "'+L.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===tt&&"none"===this.plotInfo.axisPlacement&&(j='You cannot combine "'+L.type+'" with pie chart'),j&&window.console)return void window.console.log(j)}for(B=0;B<this.data.length;B++){if("none"==_&&"error"===this.data[B].type&&window.console)return void window.console.log('You cannot combine "'+L.type+'" with error chart');"error"===this.data[B].type&&(this.data[B].axisPlacement=this.plotInfo.axisPlacement=_||"normal",this.data[B]._linkedSeries=null===this.data[B].linkedDataSeriesIndex?null:this.data[this.data[B].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},m._supportedChartTypes=Ba("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),m.prototype.setLayout=function(){for(var u=this._plotAreaElements,_=0;_<this.data.length;_++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[_].axisYType||"primary"===this.data[_].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var B=0;B<this.options.axisY.length;B++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[B]=new D(this,"axisY",this.options.axisY[B],B,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[B]=new D(this,"axisY",this.options.axisY[B],B,"axisY","bottom"));this.data[_].axisY=this.axisY[0<=this.data[_].axisYIndex&&this.data[_].axisYIndex<this.axisY.length?this.data[_].axisYIndex:0],this.axisY[0<=this.data[_].axisYIndex&&this.data[_].axisYIndex<this.axisY.length?this.data[_].axisYIndex:0].dataSeries.push(this.data[_])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new D(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new D(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[_].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[_]);if("secondary"===this.data[_].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(B=0;B<this.options.axisY2.length;B++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[B]=new D(this,"axisY2",this.options.axisY2[B],B,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[B]=new D(this,"axisY2",this.options.axisY2[B],B,"axisY","top"));this.data[_].axisY=this.axisY2[0<=this.data[_].axisYIndex&&this.data[_].axisYIndex<this.axisY2.length?this.data[_].axisYIndex:0],this.axisY2[0<=this.data[_].axisYIndex&&this.data[_].axisYIndex<this.axisY2.length?this.data[_].axisYIndex:0].dataSeries.push(this.data[_])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new D(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new D(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[_].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[_]);if(!this.data[_].axisXType||"primary"===this.data[_].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(B=0;B<this.options.axisX.length;B++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[B]=new D(this,"axisX",this.options.axisX[B],B,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[B]=new D(this,"axisX",this.options.axisX[B],B,"axisX","left"));this.data[_].axisX=this.axisX[0<=this.data[_].axisXIndex&&this.data[_].axisXIndex<this.axisX.length?this.data[_].axisXIndex:0],this.axisX[0<=this.data[_].axisXIndex&&this.data[_].axisXIndex<this.axisX.length?this.data[_].axisXIndex:0].dataSeries.push(this.data[_])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new D(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new D(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[_].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[_]);if("secondary"===this.data[_].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(B=0;B<this.options.axisX2.length;B++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[B]=new D(this,"axisX2",this.options.axisX2[B],B,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[B]=new D(this,"axisX2",this.options.axisX2[B],B,"axisX","right"));this.data[_].axisX=this.axisX2[0<=this.data[_].axisXIndex&&this.data[_].axisXIndex<this.axisX2.length?this.data[_].axisXIndex:0],this.axisX2[0<=this.data[_].axisXIndex&&this.data[_].axisXIndex<this.axisX2.length?this.data[_].axisXIndex:0].dataSeries.push(this.data[_])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new D(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new D(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[_].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[_])}if(this.axisY){for(B=1;B<this.axisY.length;B++)void 0===this.axisY[B].options.gridThickness&&(this.axisY[B].gridThickness=0);for(B=0;B<this.axisY.length-1;B++)void 0===this.axisY[B].options.margin&&(this.axisY[B].margin=10)}if(this.axisY2){for(B=1;B<this.axisY2.length;B++)void 0===this.axisY2[B].options.gridThickness&&(this.axisY2[B].gridThickness=0);for(B=0;B<this.axisY2.length-1;B++)void 0===this.axisY2[B].options.margin&&(this.axisY2[B].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(B=0;B<this.axisX.length;B++)void 0===this.axisX[B].options.gridThickness&&(this.axisX[B].gridThickness=0);if(this.axisX2)for(B=0;B<this.axisX2.length;B++)void 0===this.axisX2[B].options.gridThickness&&(this.axisX2[B].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),B=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(_=0;_<this._axes.length;_++)if(null!==this._axes[_].viewportMinimum||null!==this._axes[_].viewportMaximum){B=!0;break}if(B?(Ka(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(ta(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),eb(this),this._processData(),this.options.title&&(this.title=new xa(this,this.options.title),this.title.dockInsidePlotArea?u.push(this.title):this.title.setLayout()),this.options.subtitles)for(_=0;_<this.options.subtitles.length;_++)B=new Ha(this,this.options.subtitles[_],_),this.subtitles.push(B),B.dockInsidePlotArea?u.push(B):B.setLayout();for(this.legend=new F(this,this.options.legend),_=0;_<this.data.length;_++)(this.data[_].showInLegend||"pie"===this.data[_].type||"doughnut"===this.data[_].type||"funnel"===this.data[_].type||"pyramid"===this.data[_].type)&&this.legend.dataSeries.push(this.data[_]);for(this.legend.dockInsidePlotArea?u.push(this.legend):this.legend.setLayout(),_=0;_<this._axes.length;_++)if(this._axes[_].scaleBreaks&&this._axes[_].scaleBreaks._appliedBreaks.length){it?(this._breaksCanvas=sa(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=sa(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||D.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},m.prototype.renderElements=function(){var _=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var B=0;B<this.subtitles.length;B++)this.subtitles[B].dockInsidePlotArea||this.subtitles[B].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)D.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(B=0;B<_.length;B++)_[B].setLayout(),_[B].render();var L,j=[];if(this.animatedRender){var et=sa(this.width,this.height);et.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(hb(this),_=this.ctx.miterLimit,this.ctx.miterLimit=3,it&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),B=0;B<this.plotInfo.plotTypes.length;B++)for(var at=this.plotInfo.plotTypes[B],st=0;st<at.plotUnits.length;st++){var nt=at.plotUnits[st],ot=null;nt.targetCanvas=null,this.animatedRender&&(nt.targetCanvas=sa(this.width,this.height),nt.targetCanvasCtx=nt.targetCanvas.getContext("2d"),L=nt.targetCanvasCtx.miterLimit,nt.targetCanvasCtx.miterLimit=3),"line"===nt.type?ot=this.renderLine(nt):"stepLine"===nt.type?ot=this.renderStepLine(nt):"spline"===nt.type?ot=this.renderSpline(nt):"column"===nt.type?ot=this.renderColumn(nt):"bar"===nt.type?ot=this.renderBar(nt):"area"===nt.type?ot=this.renderArea(nt):"stepArea"===nt.type?ot=this.renderStepArea(nt):"splineArea"===nt.type?ot=this.renderSplineArea(nt):"stackedColumn"===nt.type?ot=this.renderStackedColumn(nt):"stackedColumn100"===nt.type?ot=this.renderStackedColumn100(nt):"stackedBar"===nt.type?ot=this.renderStackedBar(nt):"stackedBar100"===nt.type?ot=this.renderStackedBar100(nt):"stackedArea"===nt.type?ot=this.renderStackedArea(nt):"stackedArea100"===nt.type?ot=this.renderStackedArea100(nt):"bubble"===nt.type?ot=ot=this.renderBubble(nt):"scatter"===nt.type?ot=this.renderScatter(nt):"pie"===nt.type||"doughnut"===nt.type?this.renderPie(nt):"funnel"===nt.type||"pyramid"===nt.type?ot=this.renderFunnel(nt):"candlestick"===nt.type||"ohlc"===nt.type?ot=this.renderCandlestick(nt):"rangeColumn"===nt.type?ot=this.renderRangeColumn(nt):"error"===nt.type?ot=this.renderError(nt):"rangeBar"===nt.type?ot=this.renderRangeBar(nt):"rangeArea"===nt.type?ot=this.renderRangeArea(nt):"rangeSplineArea"===nt.type?ot=this.renderRangeSplineArea(nt):"waterfall"===nt.type?ot=this.renderWaterfall(nt):"boxAndWhisker"===nt.type&&(ot=this.renderBoxAndWhisker(nt));for(var rt=0;rt<nt.dataSeriesIndexes.length;rt++)this._dataInRenderedOrder.push(this.data[nt.dataSeriesIndexes[rt]]);this.animatedRender&&(nt.targetCanvasCtx.miterLimit=L,ot&&j.push(ot))}this.ctx.miterLimit=_,this.animatedRender&&this._breaksCanvasCtx&&j.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(L=sa(this.width,this.height).getContext("2d"),j.push(this.renderIndexLabels(L)));var lt=this;if(0<j.length)lt.disableToolTip=!0,lt._animator.animate(200,lt.animationDuration,(function(u){lt.ctx.clearRect(0,0,lt.width,lt.height),lt.ctx.drawImage(et,0,0,Math.floor(lt.width*kt),Math.floor(lt.height*kt),0,0,lt.width,lt.height);for(var _=0;_<j.length;_++)ot=j[_],1>u&&void 0!==ot.startTimePercent?u>=ot.startTimePercent&&ot.animationCallback(ot.easingFunction(u-ot.startTimePercent,0,1,1-ot.startTimePercent),ot):ot.animationCallback(ot.easingFunction(u,0,1,1),ot);lt.dispatchEvent("dataAnimationIterationEnd",{chart:lt})}),(function(){j=[];for(var u=0;u<lt.plotInfo.plotTypes.length;u++)for(var _=lt.plotInfo.plotTypes[u],B=0;B<_.plotUnits.length;B++)_.plotUnits[B].targetCanvas=null;et=null,lt.disableToolTip=!1,lt.dispatchEvent("dataAnimationEnd",{chart:lt})}));else{if(lt._breaksCanvas)if(it)lt.plotArea.ctx.drawImage(lt._breaksCanvas,0,0,this.width,this.height);else for(rt=0;rt<lt._axes.length;rt++)lt._axes[rt].createMask();0<lt._indexLabels.length&&lt.renderIndexLabels(),lt.dispatchEvent("dataAnimationIterationEnd",{chart:lt}),lt.dispatchEvent("dataAnimationEnd",{chart:lt})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||ta(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,tt&&(lt=this,setTimeout((function(){var u=document.getElementById("ghostCanvasCopy");u&&(La(u,lt.width,lt.height),u.getContext("2d").drawImage(lt._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),rt=0;rt<this._axes.length;rt++)this._axes[rt].maskCanvas&&(delete this._axes[rt].maskCanvas,delete this._axes[rt].maskCtx)},m.prototype.render=function(u){u&&(this.options=u),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},m.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},m.prototype.categoriseDataSeries=function(){for(var u="",_=0;_<this.data.length;_++)if((u=this.data[_]).dataPoints&&0!==u.dataPoints.length&&u.visible&&0<=m._supportedChartTypes.indexOf(u.type)){for(var B=null,L=!1,j=null,tt=!1,et=0;et<this.plotInfo.plotTypes.length;et++)if(this.plotInfo.plotTypes[et].type===u.type){L=!0,B=this.plotInfo.plotTypes[et];break}for(L||(B={type:u.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(B)),et=0;et<B.plotUnits.length;et++)if(B.plotUnits[et].axisYType===u.axisYType&&B.plotUnits[et].axisXType===u.axisXType&&B.plotUnits[et].axisYIndex===u.axisYIndex&&B.plotUnits[et].axisXIndex===u.axisXIndex){tt=!0,j=B.plotUnits[et];break}tt||(j={type:u.type,previousDataSeriesCount:0,index:B.plotUnits.length,plotType:B,axisXType:u.axisXType,axisYType:u.axisYType,axisYIndex:u.axisYIndex,axisXIndex:u.axisXIndex,axisY:"primary"===u.axisYType?this.axisY[0<=u.axisYIndex&&u.axisYIndex<this.axisY.length?u.axisYIndex:0]:this.axisY2[0<=u.axisYIndex&&u.axisYIndex<this.axisY2.length?u.axisYIndex:0],axisX:"primary"===u.axisXType?this.axisX[0<=u.axisXIndex&&u.axisXIndex<this.axisX.length?u.axisXIndex:0]:this.axisX2[0<=u.axisXIndex&&u.axisXIndex<this.axisX2.length?u.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},B.plotUnits.push(j)),B.totalDataSeries++,j.dataSeriesIndexes.push(_),u.plotUnit=j}for(_=0;_<this.plotInfo.plotTypes.length;_++)for(B=this.plotInfo.plotTypes[_],et=u=0;et<B.plotUnits.length;et++)B.plotUnits[et].previousDataSeriesCount=u,u+=B.plotUnits[et].dataSeriesIndexes.length},m.prototype.assignIdToDataPoints=function(){for(var u=0;u<this.data.length;u++){var _=this.data[u];if(_.dataPoints)for(var B=_.dataPoints.length,L=0;L<B;L++)_.dataPointIds[L]=++this._eventManager.lastObjectId}},m.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var u=0;u<this.plotInfo.plotTypes.length;u++)for(var _=this.plotInfo.plotTypes[u],B=0;B<_.plotUnits.length;B++){var L=_.plotUnits[B];"line"===L.type||"stepLine"===L.type||"spline"===L.type||"column"===L.type||"area"===L.type||"stepArea"===L.type||"splineArea"===L.type||"bar"===L.type||"bubble"===L.type||"scatter"===L.type?this._processMultiseriesPlotUnit(L):"stackedColumn"===L.type||"stackedBar"===L.type||"stackedArea"===L.type?this._processStackedPlotUnit(L):"stackedColumn100"===L.type||"stackedBar100"===L.type||"stackedArea100"===L.type?this._processStacked100PlotUnit(L):"candlestick"===L.type||"ohlc"===L.type||"rangeColumn"===L.type||"rangeBar"===L.type||"rangeArea"===L.type||"rangeSplineArea"===L.type||"error"===L.type||"boxAndWhisker"===L.type?this._processMultiYPlotUnit(L):"waterfall"===L.type&&this._processSpecificPlotUnit(L)}this.calculateAutoBreaks()},m.prototype._processMultiseriesPlotUnit=function(u){if(u.dataSeriesIndexes&&!(1>u.dataSeriesIndexes.length))for(var _,B,L=u.axisY.dataInfo,j=u.axisX.dataInfo,tt=!1,et=0;et<u.dataSeriesIndexes.length;et++){var it,at=this.data[u.dataSeriesIndexes[et]],st=0,nt=!1,ot=!1;if("normal"===at.axisPlacement||"xySwapped"===at.axisPlacement)var rt=u.axisX.sessionVariables.newViewportMinimum?u.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:u.axisX.logarithmic?0:-1/0,lt=u.axisX.sessionVariables.newViewportMaximum?u.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((at.dataPoints[st].x&&at.dataPoints[st].x.getTime||"dateTime"===at.xValueType)&&(tt=!0),st=0;st<at.dataPoints.length;st++){if(void 0===at.dataPoints[st].x&&(at.dataPoints[st].x=st+(u.axisX.logarithmic?1:0)),at.dataPoints[st].x.getTime?(tt=!0,_=at.dataPoints[st].x.getTime()):_=at.dataPoints[st].x,B=at.dataPoints[st].y,_<j.min&&(j.min=_),_>j.max&&(j.max=_),B<L.min&&"number"==typeof B&&(L.min=B),B>L.max&&"number"==typeof B&&(L.max=B),0<st){if(u.axisX.logarithmic){var ht=_/at.dataPoints[st-1].x;1>ht&&(ht=1/ht),j.minDiff>ht&&1!==ht&&(j.minDiff=ht)}else 0>(ht=_-at.dataPoints[st-1].x)&&(ht*=-1),j.minDiff>ht&&0!==ht&&(j.minDiff=ht);null!==B&&null!==at.dataPoints[st-1].y&&(u.axisY.logarithmic?(1>(ht=B/at.dataPoints[st-1].y)&&(ht=1/ht),L.minDiff>ht&&1!==ht&&(L.minDiff=ht)):(0>(ht=B-at.dataPoints[st-1].y)&&(ht*=-1),L.minDiff>ht&&0!==ht&&(L.minDiff=ht)))}if(_<rt&&!nt)null!==B&&(it=_);else{if(!nt&&(nt=!0,0<st)){st-=2;continue}if(_>lt&&!ot)ot=!0;else if(_>lt&&ot)continue;at.dataPoints[st].label&&(u.axisX.labels[_]=at.dataPoints[st].label),_<j.viewPortMin&&(j.viewPortMin=_),_>j.viewPortMax&&(j.viewPortMax=_),null===B?j.viewPortMin===_&&it<_&&(j.viewPortMin=it):(B<L.viewPortMin&&"number"==typeof B&&(L.viewPortMin=B),B>L.viewPortMax&&"number"==typeof B&&(L.viewPortMax=B))}}at.axisX.valueType=at.xValueType=tt?"dateTime":"number"}},m.prototype._processStackedPlotUnit=function(u){if(u.dataSeriesIndexes&&!(1>u.dataSeriesIndexes.length)){for(var _,B,L=u.axisY.dataInfo,j=u.axisX.dataInfo,tt=!1,et=[],it=[],at=1/0,st=-1/0,nt=0;nt<u.dataSeriesIndexes.length;nt++){var ot,rt=this.data[u.dataSeriesIndexes[nt]],lt=0,ht=!1,dt=!1;if("normal"===rt.axisPlacement||"xySwapped"===rt.axisPlacement)var ct=u.axisX.sessionVariables.newViewportMinimum?u.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,pt=u.axisX.sessionVariables.newViewportMaximum?u.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((rt.dataPoints[lt].x&&rt.dataPoints[lt].x.getTime||"dateTime"===rt.xValueType)&&(tt=!0),lt=0;lt<rt.dataPoints.length;lt++){if(void 0===rt.dataPoints[lt].x&&(rt.dataPoints[lt].x=lt+(u.axisX.logarithmic?1:0)),rt.dataPoints[lt].x.getTime?(tt=!0,_=rt.dataPoints[lt].x.getTime()):_=rt.dataPoints[lt].x,B=s(rt.dataPoints[lt].y)?0:rt.dataPoints[lt].y,_<j.min&&(j.min=_),_>j.max&&(j.max=_),0<lt){if(u.axisX.logarithmic){var ut=_/rt.dataPoints[lt-1].x;1>ut&&(ut=1/ut),j.minDiff>ut&&1!==ut&&(j.minDiff=ut)}else 0>(ut=_-rt.dataPoints[lt-1].x)&&(ut*=-1),j.minDiff>ut&&0!==ut&&(j.minDiff=ut);null!==B&&null!==rt.dataPoints[lt-1].y&&(u.axisY.logarithmic?0<B&&(1>(ut=B/rt.dataPoints[lt-1].y)&&(ut=1/ut),L.minDiff>ut&&1!==ut&&(L.minDiff=ut)):(0>(ut=B-rt.dataPoints[lt-1].y)&&(ut*=-1),L.minDiff>ut&&0!==ut&&(L.minDiff=ut)))}if(_<ct&&!ht)null!==rt.dataPoints[lt].y&&(ot=_);else{if(!ht&&(ht=!0,0<lt)){lt-=2;continue}if(_>pt&&!dt)dt=!0;else if(_>pt&&dt)continue;rt.dataPoints[lt].label&&(u.axisX.labels[_]=rt.dataPoints[lt].label),_<j.viewPortMin&&(j.viewPortMin=_),_>j.viewPortMax&&(j.viewPortMax=_),null===rt.dataPoints[lt].y?j.viewPortMin===_&&ot<_&&(j.viewPortMin=ot):(u.yTotals[_]=(u.yTotals[_]?u.yTotals[_]:0)+B,u.yAbsTotals[_]=(u.yAbsTotals[_]?u.yAbsTotals[_]:0)+Math.abs(B),0<=B?et[_]?et[_]+=B:(et[_]=B,at=Math.min(B,at)):it[_]?it[_]+=B:(it[_]=B,st=Math.max(B,st)))}}u.axisY.scaleBreaks&&u.axisY.scaleBreaks.autoCalculate&&1<=u.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(L.dataPointYPositiveSums?(L.dataPointYPositiveSums.push.apply(L.dataPointYPositiveSums,et),L.dataPointYNegativeSums.push.apply(L.dataPointYPositiveSums,it)):(L.dataPointYPositiveSums=et,L.dataPointYNegativeSums=it)),rt.axisX.valueType=rt.xValueType=tt?"dateTime":"number"}for(lt in et)et.hasOwnProperty(lt)&&!isNaN(lt)&&((u=et[lt])<L.min&&(L.min=Math.min(u,at)),u>L.max&&(L.max=u),lt<j.viewPortMin||lt>j.viewPortMax||(u<L.viewPortMin&&(L.viewPortMin=Math.min(u,at)),u>L.viewPortMax&&(L.viewPortMax=u)));for(lt in it)it.hasOwnProperty(lt)&&!isNaN(lt)&&((u=it[lt])<L.min&&(L.min=u),u>L.max&&(L.max=Math.max(u,st)),lt<j.viewPortMin||lt>j.viewPortMax||(u<L.viewPortMin&&(L.viewPortMin=u),u>L.viewPortMax&&(L.viewPortMax=Math.max(u,st))))}},m.prototype._processStacked100PlotUnit=function(u){if(u.dataSeriesIndexes&&!(1>u.dataSeriesIndexes.length)){for(var _,B,L=u.axisY.dataInfo,j=u.axisX.dataInfo,tt=!1,et=!1,it=!1,at=[],st=0;st<u.dataSeriesIndexes.length;st++){var nt,ot=this.data[u.dataSeriesIndexes[st]],rt=0,lt=!1,ht=!1;if("normal"===ot.axisPlacement||"xySwapped"===ot.axisPlacement)var dt=u.axisX.sessionVariables.newViewportMinimum?u.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,ct=u.axisX.sessionVariables.newViewportMaximum?u.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((ot.dataPoints[rt].x&&ot.dataPoints[rt].x.getTime||"dateTime"===ot.xValueType)&&(tt=!0),rt=0;rt<ot.dataPoints.length;rt++){if(void 0===ot.dataPoints[rt].x&&(ot.dataPoints[rt].x=rt+(u.axisX.logarithmic?1:0)),ot.dataPoints[rt].x.getTime?(tt=!0,_=ot.dataPoints[rt].x.getTime()):_=ot.dataPoints[rt].x,B=s(ot.dataPoints[rt].y)?null:ot.dataPoints[rt].y,_<j.min&&(j.min=_),_>j.max&&(j.max=_),0<rt){if(u.axisX.logarithmic){var pt=_/ot.dataPoints[rt-1].x;1>pt&&(pt=1/pt),j.minDiff>pt&&1!==pt&&(j.minDiff=pt)}else 0>(pt=_-ot.dataPoints[rt-1].x)&&(pt*=-1),j.minDiff>pt&&0!==pt&&(j.minDiff=pt);s(B)||null===ot.dataPoints[rt-1].y||(u.axisY.logarithmic?0<B&&(1>(pt=B/ot.dataPoints[rt-1].y)&&(pt=1/pt),L.minDiff>pt&&1!==pt&&(L.minDiff=pt)):(0>(pt=B-ot.dataPoints[rt-1].y)&&(pt*=-1),L.minDiff>pt&&0!==pt&&(L.minDiff=pt)))}if(_<dt&&!lt)null!==B&&(nt=_);else{if(!lt&&(lt=!0,0<rt)){rt-=2;continue}if(_>ct&&!ht)ht=!0;else if(_>ct&&ht)continue;ot.dataPoints[rt].label&&(u.axisX.labels[_]=ot.dataPoints[rt].label),_<j.viewPortMin&&(j.viewPortMin=_),_>j.viewPortMax&&(j.viewPortMax=_),null===B?j.viewPortMin===_&&nt<_&&(j.viewPortMin=nt):(u.yTotals[_]=(u.yTotals[_]?u.yTotals[_]:0)+B,u.yAbsTotals[_]=(u.yAbsTotals[_]?u.yAbsTotals[_]:0)+Math.abs(B),0<=B?et=!0:0>B&&(it=!0),at[_]=at[_]?at[_]+Math.abs(B):Math.abs(B))}}ot.axisX.valueType=ot.xValueType=tt?"dateTime":"number"}u.axisY.logarithmic?(L.max=s(L.viewPortMax)?99*Math.pow(u.axisY.logarithmBase,-.05):Math.max(L.viewPortMax,99*Math.pow(u.axisY.logarithmBase,-.05)),L.min=s(L.viewPortMin)?1:Math.min(L.viewPortMin,1)):et&&!it?(L.max=s(L.viewPortMax)?99:Math.max(L.viewPortMax,99),L.min=s(L.viewPortMin)?1:Math.min(L.viewPortMin,1)):et&&it?(L.max=s(L.viewPortMax)?99:Math.max(L.viewPortMax,99),L.min=s(L.viewPortMin)?-99:Math.min(L.viewPortMin,-99)):!et&&it&&(L.max=s(L.viewPortMax)?-1:Math.max(L.viewPortMax,-1),L.min=s(L.viewPortMin)?-99:Math.min(L.viewPortMin,-99)),L.viewPortMin=L.min,L.viewPortMax=L.max,u.dataPointYSums=at}},m.prototype._processMultiYPlotUnit=function(u){if(u.dataSeriesIndexes&&!(1>u.dataSeriesIndexes.length))for(var _,B,L,j,tt=u.axisY.dataInfo,et=u.axisX.dataInfo,it=!1,at=0;at<u.dataSeriesIndexes.length;at++){var st,nt,ot,rt=this.data[u.dataSeriesIndexes[at]],lt=0,ht=!1,dt=!1;if("normal"===rt.axisPlacement||"xySwapped"===rt.axisPlacement)var ct=u.axisX.sessionVariables.newViewportMinimum?u.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:u.axisX.logarithmic?0:-1/0,pt=u.axisX.sessionVariables.newViewportMaximum?u.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((rt.dataPoints[lt].x&&rt.dataPoints[lt].x.getTime||"dateTime"===rt.xValueType)&&(it=!0),lt=0;lt<rt.dataPoints.length;lt++){if(void 0===rt.dataPoints[lt].x&&(rt.dataPoints[lt].x=lt+(u.axisX.logarithmic?1:0)),rt.dataPoints[lt].x.getTime?(it=!0,_=rt.dataPoints[lt].x.getTime()):_=rt.dataPoints[lt].x,(B=rt.dataPoints[lt].y)&&B.length){L=Math.min.apply(null,B),j=Math.max.apply(null,B),nt=!0;for(var ut=0;ut<B.length;ut++)null===B.k&&(nt=!1);nt&&(ht||(ot=st),st=_)}if(_<et.min&&(et.min=_),_>et.max&&(et.max=_),L<tt.min&&(tt.min=L),j>tt.max&&(tt.max=j),0<lt&&(u.axisX.logarithmic?(1>(nt=_/rt.dataPoints[lt-1].x)&&(nt=1/nt),et.minDiff>nt&&1!==nt&&(et.minDiff=nt)):(0>(nt=_-rt.dataPoints[lt-1].x)&&(nt*=-1),et.minDiff>nt&&0!==nt&&(et.minDiff=nt)),B&&null!==B[0]&&rt.dataPoints[lt-1].y&&null!==rt.dataPoints[lt-1].y[0]&&(u.axisY.logarithmic?(1>(nt=B[0]/rt.dataPoints[lt-1].y[0])&&(nt=1/nt),tt.minDiff>nt&&1!==nt&&(tt.minDiff=nt)):(0>(nt=B[0]-rt.dataPoints[lt-1].y[0])&&(nt*=-1),tt.minDiff>nt&&0!==nt&&(tt.minDiff=nt)))),!(_<ct)||ht){if(!ht&&(ht=!0,0<lt)){lt-=2,st=ot;continue}if(_>pt&&!dt)dt=!0;else if(_>pt&&dt)continue;if(rt.dataPoints[lt].label&&(u.axisX.labels[_]=rt.dataPoints[lt].label),_<et.viewPortMin&&(et.viewPortMin=_),_>et.viewPortMax&&(et.viewPortMax=_),et.viewPortMin===_&&B)for(ut=0;ut<B.length;ut++)if(null===B[ut]&&st<_){et.viewPortMin=st;break}null===B?et.viewPortMin===_&&st<_&&(et.viewPortMin=st):(L<tt.viewPortMin&&(tt.viewPortMin=L),j>tt.viewPortMax&&(tt.viewPortMax=j))}}rt.axisX.valueType=rt.xValueType=it?"dateTime":"number"}},m.prototype._processSpecificPlotUnit=function(u){if("waterfall"===u.type&&u.dataSeriesIndexes&&!(1>u.dataSeriesIndexes.length))for(var _,B,L=u.axisY.dataInfo,j=u.axisX.dataInfo,tt=!1,et=0;et<u.dataSeriesIndexes.length;et++){var it=this.data[u.dataSeriesIndexes[et]],at=0,st=!1,nt=!1,ot=_=0;if("normal"===it.axisPlacement||"xySwapped"===it.axisPlacement)var rt=u.axisX.sessionVariables.newViewportMinimum?u.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:u.axisX.logarithmic?0:-1/0,lt=u.axisX.sessionVariables.newViewportMaximum?u.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((it.dataPoints[at].x&&it.dataPoints[at].x.getTime||"dateTime"===it.xValueType)&&(tt=!0),at=0;at<it.dataPoints.length;at++)void 0!==it.dataPoints[at].isCumulativeSum&&!0===it.dataPoints[at].isCumulativeSum?(it.dataPointEOs[at].cumulativeSumYStartValue=0,it.dataPointEOs[at].cumulativeSum=0===at?0:it.dataPointEOs[at-1].cumulativeSum,it.dataPoints[at].y=0===at?0:it.dataPointEOs[at-1].cumulativeSum):void 0!==it.dataPoints[at].isIntermediateSum&&!0===it.dataPoints[at].isIntermediateSum?(it.dataPointEOs[at].cumulativeSumYStartValue=ot,it.dataPointEOs[at].cumulativeSum=0===at?0:it.dataPointEOs[at-1].cumulativeSum,it.dataPoints[at].y=0===at?0:_,ot=0===at?0:it.dataPointEOs[at-1].cumulativeSum,_=0):(B="number"!=typeof it.dataPoints[at].y?0:it.dataPoints[at].y,it.dataPointEOs[at].cumulativeSumYStartValue=0===at?0:it.dataPointEOs[at-1].cumulativeSum,it.dataPointEOs[at].cumulativeSum=0===at?B:it.dataPointEOs[at-1].cumulativeSum+B,_+=B);for(at=0;at<it.dataPoints.length;at++)if(void 0===it.dataPoints[at].x&&(it.dataPoints[at].x=at+(u.axisX.logarithmic?1:0)),it.dataPoints[at].x.getTime?(tt=!0,_=it.dataPoints[at].x.getTime()):_=it.dataPoints[at].x,B=it.dataPoints[at].y,_<j.min&&(j.min=_),_>j.max&&(j.max=_),it.dataPointEOs[at].cumulativeSum<L.min&&(L.min=it.dataPointEOs[at].cumulativeSum),it.dataPointEOs[at].cumulativeSum>L.max&&(L.max=it.dataPointEOs[at].cumulativeSum),0<at&&(u.axisX.logarithmic?(1>(ot=_/it.dataPoints[at-1].x)&&(ot=1/ot),j.minDiff>ot&&1!==ot&&(j.minDiff=ot)):(0>(ot=_-it.dataPoints[at-1].x)&&(ot*=-1),j.minDiff>ot&&0!==ot&&(j.minDiff=ot)),null!==B&&null!==it.dataPoints[at-1].y&&(u.axisY.logarithmic?(1>(B=it.dataPointEOs[at].cumulativeSum/it.dataPointEOs[at-1].cumulativeSum)&&(B=1/B),L.minDiff>B&&1!==B&&(L.minDiff=B)):(0>(B=it.dataPointEOs[at].cumulativeSum-it.dataPointEOs[at-1].cumulativeSum)&&(B*=-1),L.minDiff>B&&0!==B&&(L.minDiff=B)))),!(_<rt)||st){if(!st&&(st=!0,0<at)){at-=2;continue}if(_>lt&&!nt)nt=!0;else if(_>lt&&nt)continue;it.dataPoints[at].label&&(u.axisX.labels[_]=it.dataPoints[at].label),_<j.viewPortMin&&(j.viewPortMin=_),_>j.viewPortMax&&(j.viewPortMax=_),0<at&&(it.dataPointEOs[at-1].cumulativeSum<L.viewPortMin&&(L.viewPortMin=it.dataPointEOs[at-1].cumulativeSum),it.dataPointEOs[at-1].cumulativeSum>L.viewPortMax&&(L.viewPortMax=it.dataPointEOs[at-1].cumulativeSum)),it.dataPointEOs[at].cumulativeSum<L.viewPortMin&&(L.viewPortMin=it.dataPointEOs[at].cumulativeSum),it.dataPointEOs[at].cumulativeSum>L.viewPortMax&&(L.viewPortMax=it.dataPointEOs[at].cumulativeSum)}it.axisX.valueType=it.xValueType=tt?"dateTime":"number"}},m.prototype.calculateAutoBreaks=function(){function a(u,_,B,L){return L?(1>=(B=Math.pow(Math.min(B*u/_,_/u),.2))&&(B=Math.pow(1>u?1/u:Math.min(_/u,u),.25)),{startValue:u*B,endValue:_/B}):(0>=(B=.2*Math.min(B-_+u,_-u))&&(B=.25*Math.min(_-u,Math.abs(u))),{startValue:u+B,endValue:_-B})}function d(u){if(u.dataSeriesIndexes&&!(1>u.dataSeriesIndexes.length)){var B=u.axisX.scaleBreaks&&u.axisX.scaleBreaks.autoCalculate&&1<=u.axisX.scaleBreaks.maxNumberOfAutoBreaks,L=u.axisY.scaleBreaks&&u.axisY.scaleBreaks.autoCalculate&&1<=u.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(B||L)for(var j,tt,et=u.axisY.dataInfo,it=(ot=u.axisX.dataInfo).min,at=ot.max,st=et.min,nt=et.max,ot=ot._dataRanges,rt=(et=et._dataRanges,0),lt=0;lt<u.dataSeriesIndexes.length;lt++){var ht=_.data[u.dataSeriesIndexes[lt]];if(!(4>ht.dataPoints.length))for(rt=0;rt<ht.dataPoints.length;rt++)if(B&&(tt=(at+1-it)*Math.max(parseFloat(u.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(j=ht.dataPoints[rt].x.getTime?ht.dataPoints[rt].x.getTime():ht.dataPoints[rt].x)<ot[tt=Math.floor((j-it)/tt)].min&&(ot[tt].min=j),j>ot[tt].max&&(ot[tt].max=j)),L){var dt=(nt+1-st)*Math.max(parseFloat(u.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((j="waterfall"===u.type?ht.dataPointEOs[rt].cumulativeSum:ht.dataPoints[rt].y)&&j.length)for(var ct=0;ct<j.length;ct++)tt=Math.floor((j[ct]-st)/dt),j[ct]<et[tt].min&&(et[tt].min=j[ct]),j[ct]>et[tt].max&&(et[tt].max=j[ct]);else s(j)||(j<et[tt=Math.floor((j-st)/dt)].min&&(et[tt].min=j),j>et[tt].max&&(et[tt].max=j))}}}}function c(u){if(u.dataSeriesIndexes&&!(1>u.dataSeriesIndexes.length)&&u.axisX.scaleBreaks&&u.axisX.scaleBreaks.autoCalculate&&1<=u.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var B,L=u.axisX.dataInfo,j=L.min,tt=L.max,et=L._dataRanges,it=0,at=0;at<u.dataSeriesIndexes.length;at++){var st=_.data[u.dataSeriesIndexes[at]];if(!(4>st.dataPoints.length))for(it=0;it<st.dataPoints.length;it++)B=(tt+1-j)*Math.max(parseFloat(u.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(L=st.dataPoints[it].x.getTime?st.dataPoints[it].x.getTime():st.dataPoints[it].x)<et[B=Math.floor((L-j)/B)].min&&(et[B].min=L),L>et[B].max&&(et[B].max=L)}}for(var u,_=this,B=!1,L=0;L<this._axes.length;L++)if(this._axes[L].scaleBreaks&&this._axes[L].scaleBreaks.autoCalculate&&1<=this._axes[L].scaleBreaks.maxNumberOfAutoBreaks){B=!0,this._axes[L].dataInfo._dataRanges=[];for(var j=0;j<100/Math.max(parseFloat(this._axes[L].scaleBreaks.collapsibleThreshold)||10,10);j++)this._axes[L].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(B){for(L=0;L<this.plotInfo.plotTypes.length;L++)for(B=this.plotInfo.plotTypes[L],j=0;j<B.plotUnits.length;j++)"line"===(u=B.plotUnits[j]).type||"stepLine"===u.type||"spline"===u.type||"column"===u.type||"area"===u.type||"stepArea"===u.type||"splineArea"===u.type||"bar"===u.type||"bubble"===u.type||"scatter"===u.type||"candlestick"===u.type||"ohlc"===u.type||"rangeColumn"===u.type||"rangeBar"===u.type||"rangeArea"===u.type||"rangeSplineArea"===u.type||"waterfall"===u.type||"error"===u.type||"boxAndWhisker"===u.type?d(u):0<=u.type.indexOf("stacked")&&c(u);for(L=0;L<this._axes.length;L++)if(this._axes[L].dataInfo._dataRanges){var tt=this._axes[L].dataInfo.min;u=(this._axes[L].dataInfo.max+1-tt)*Math.max(parseFloat(this._axes[L].scaleBreaks.collapsibleThreshold)||10,10)/100;var et,it,at=this._axes[L].dataInfo._dataRanges;if(B=[],this._axes[L].dataInfo.dataPointYPositiveSums){var st=this._axes[L].dataInfo.dataPointYPositiveSums;for(j in et=at,st)if(st.hasOwnProperty(j)&&!isNaN(j)&&!s(it=st[j])){var nt=Math.floor((it-tt)/u);it<et[nt].min&&(et[nt].min=it),it>et[nt].max&&(et[nt].max=it)}delete this._axes[L].dataInfo.dataPointYPositiveSums}if(this._axes[L].dataInfo.dataPointYNegativeSums){for(j in et=at,st=this._axes[L].dataInfo.dataPointYNegativeSums)st.hasOwnProperty(j)&&!isNaN(j)&&(s(it=-1*st[j])||(it<et[nt=Math.floor((it-tt)/u)].min&&(et[nt].min=it),it>et[nt].max&&(et[nt].max=it)));delete this._axes[L].dataInfo.dataPointYNegativeSums}for(j=0;j<at.length-1;j++)if(et=at[j].max,isFinite(et))for(;j<at.length-1;){if(tt=at[j+1].min,isFinite(tt)){(it=tt-et)>u&&B.push({diff:it,start:et,end:tt});break}j++}if(this._axes[L].scaleBreaks.customBreaks)for(j=0;j<this._axes[L].scaleBreaks.customBreaks.length;j++)for(u=0;u<B.length;u++)(this._axes[L].scaleBreaks.customBreaks[j].startValue<=B[u].start&&B[u].start<=this._axes[L].scaleBreaks.customBreaks[j].endValue||this._axes[L].scaleBreaks.customBreaks[j].startValue<=B[u].start&&B[u].start<=this._axes[L].scaleBreaks.customBreaks[j].endValue||B[u].start<=this._axes[L].scaleBreaks.customBreaks[j].startValue&&this._axes[L].scaleBreaks.customBreaks[j].startValue<=B[u].end||B[u].start<=this._axes[L].scaleBreaks.customBreaks[j].endValue&&this._axes[L].scaleBreaks.customBreaks[j].endValue<=B[u].end)&&(B.splice(u,1),u--);for(B.sort((function(u,_){return _.diff-u.diff})),j=0;j<Math.min(B.length,this._axes[L].scaleBreaks.maxNumberOfAutoBreaks);j++)u=a(B[j].start,B[j].end,this._axes[L].logarithmic?this._axes[L].dataInfo.max/this._axes[L].dataInfo.min:this._axes[L].dataInfo.max-this._axes[L].dataInfo.min,this._axes[L].logarithmic),this._axes[L].scaleBreaks.autoBreaks.push(new U(this,"autoBreaks",u,j,++this._eventManager.lastObjectId,this._axes[L].scaleBreaks)),this._axes[L].scaleBreaks._appliedBreaks.push(this._axes[L].scaleBreaks.autoBreaks[this._axes[L].scaleBreaks.autoBreaks.length-1]);this._axes[L].scaleBreaks._appliedBreaks.sort((function(u,_){return u.startValue-_.startValue}))}}},m.prototype.renderCrosshairs=function(u){for(var _=0;_<this.axisX.length;_++)this.axisX[_]!=u&&this.axisX[_].crosshair&&this.axisX[_].crosshair.enabled&&!this.axisX[_].crosshair._hidden&&this.axisX[_].showCrosshair(this.axisX[_].crosshair._updatedValue);for(_=0;_<this.axisX2.length;_++)this.axisX2[_]!=u&&this.axisX2[_].crosshair&&this.axisX2[_].crosshair.enabled&&!this.axisX2[_].crosshair._hidden&&this.axisX2[_].showCrosshair(this.axisX2[_].crosshair._updatedValue);for(_=0;_<this.axisY.length;_++)this.axisY[_]!=u&&this.axisY[_].crosshair&&this.axisY[_].crosshair.enabled&&!this.axisY[_].crosshair._hidden&&this.axisY[_].showCrosshair(this.axisY[_].crosshair._updatedValue);for(_=0;_<this.axisY2.length;_++)this.axisY2[_]!=u&&this.axisY2[_].crosshair&&this.axisY2[_].crosshair.enabled&&!this.axisY2[_].crosshair._hidden&&this.axisY2[_].showCrosshair(this.axisY2[_].crosshair._updatedValue)},m.prototype.getDataPointAtXY=function(u,_,B){B=B||!1;for(var L=[],j=this._dataInRenderedOrder.length-1;0<=j;j--){var tt;(tt=this._dataInRenderedOrder[j].getDataPointAtXY(u,_,B))&&L.push(tt)}for(u=null,_=!1,B=0;B<L.length;B++)if(("line"===L[B].dataSeries.type||"stepLine"===L[B].dataSeries.type||"area"===L[B].dataSeries.type||"stepArea"===L[B].dataSeries.type)&&(j=ka("markerSize",L[B].dataPoint,L[B].dataSeries)||8,L[B].distance<=j/2)){_=!0;break}for(B=0;B<L.length;B++)_&&"line"!==L[B].dataSeries.type&&"stepLine"!==L[B].dataSeries.type&&"area"!==L[B].dataSeries.type&&"stepArea"!==L[B].dataSeries.type||(u?L[B].distance<=u.distance&&(u=L[B]):u=L[B]);return u},m.prototype.getObjectAtXY=function(u,_,B){var L=null;if(B=this.getDataPointAtXY(u,_,B||!1))L=B.dataSeries.dataPointIds[B.dataPointIndex];else if(it)L=Ya(u,_,this._eventManager.ghostCtx);else for(B=0;B<this.legend.items.length;B++){var j=this.legend.items[B];u>=j.x1&&u<=j.x2&&_>=j.y1&&_<=j.y2&&(L=j.id)}return L},m.prototype.getAutoFontSize=lb,m.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},m.prototype.clearCanvas=kb,m.prototype.attachEvent=function(u){this._events.push(u)},m.prototype._touchEventHandler=function(u){if(u.changedTouches&&this.interactivityEnabled){var _=[],B=u.changedTouches,L=B?B[0]:u,j=null;switch(u.type){case"touchstart":case"MSPointerDown":_=["mousemove","mousedown"],this._lastTouchData=Na(L),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":_=["mousemove"];break;case"touchend":case"MSPointerUp":var tt=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;_="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>tt?["mouseup","click"]:["mouseup"];break;default:return}if(!(B&&1<B.length)){(j=Na(L)).time=new Date;try{var et=j.y-this._lastTouchData.y;tt=j.time-this._lastTouchData.time,(1<Math.abs(et)&&this._lastTouchData.scroll||5<Math.abs(et)&&250>tt)&&(this._lastTouchData.scroll=!0)}catch(u){}if(this._lastTouchEventType=u.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(B=0;B<_.length;B++)j=_[B],(et=document.createEvent("MouseEvent")).initMouseEvent(j,!0,!0,window,1,L.screenX,L.screenY,L.clientX,L.clientY,!1,!1,!1,!1,0,null),L.target.dispatchEvent(et),(!s(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<tt||"click"===j)&&(u.preventManipulation&&u.preventManipulation(),u.preventDefault&&u.cancelable&&u.preventDefault())}}},m.prototype._dispatchRangeEvent=function(u,_){var B={chart:this};B.type=u,B.trigger=_;var L=[];this.axisX&&0<this.axisX.length&&L.push("axisX"),this.axisX2&&0<this.axisX2.length&&L.push("axisX2"),this.axisY&&0<this.axisY.length&&L.push("axisY"),this.axisY2&&0<this.axisY2.length&&L.push("axisY2");for(var j=0;j<L.length;j++)if(s(B[L[j]])&&(B[L[j]]=[]),"axisY"===L[j])for(var tt=0;tt<this.axisY.length;tt++)B[L[j]].push({viewportMinimum:this[L[j]][tt].sessionVariables.newViewportMinimum,viewportMaximum:this[L[j]][tt].sessionVariables.newViewportMaximum});else if("axisY2"===L[j])for(tt=0;tt<this.axisY2.length;tt++)B[L[j]].push({viewportMinimum:this[L[j]][tt].sessionVariables.newViewportMinimum,viewportMaximum:this[L[j]][tt].sessionVariables.newViewportMaximum});else if("axisX"===L[j])for(tt=0;tt<this.axisX.length;tt++)B[L[j]].push({viewportMinimum:this[L[j]][tt].sessionVariables.newViewportMinimum,viewportMaximum:this[L[j]][tt].sessionVariables.newViewportMaximum});else if("axisX2"===L[j])for(tt=0;tt<this.axisX2.length;tt++)B[L[j]].push({viewportMinimum:this[L[j]][tt].sessionVariables.newViewportMinimum,viewportMaximum:this[L[j]][tt].sessionVariables.newViewportMaximum});this.dispatchEvent(u,B,this)},m.prototype._mouseEventHandler=function(u){void 0===u.target&&u.srcElement&&(u.target=u.srcElement);var _,B,L=Na(u),j=u.type;if(u.which?B=3==u.which:u.button&&(B=2==u.button),m.capturedEventParam&&(_=m.capturedEventParam,"mouseup"===j&&(m.capturedEventParam=null,_.chart.overlaidCanvas.releaseCapture?_.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",_.chart._mouseEventHandler,!1)),_.hasOwnProperty(j)&&("mouseup"!==j||_.chart.overlaidCanvas.releaseCapture?u.target!==_.chart.overlaidCanvas&&it||_[j].call(_.context,L.x,L.y):u.target!==_.chart.overlaidCanvas&&(_.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(u.preventManipulation&&u.preventManipulation(),u.preventDefault&&u.preventDefault(),tt&&window.console&&(window.console.log(j+" --\x3e x: "+L.x+"; y:"+L.y),B&&window.console.log(u.which),"mouseup"===j&&window.console.log("mouseup")),!B){if(!m.capturedEventParam&&this._events){for(var et=0;et<this._events.length;et++)if(this._events[et].hasOwnProperty(j)){if(B=(_=this._events[et]).bounds,L.x>=B.x1&&L.x<=B.x2&&L.y>=B.y1&&L.y<=B.y2){_[j].call(_.context,L.x,L.y),"mousedown"===j&&!0===_.capture?(m.capturedEventParam=_,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===j&&(_.chart.overlaidCanvas.releaseCapture?_.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}_=null}u.target.style.cursor=_&&_.cursor?_.cursor:this._defaultCursor}if(j=this.plotArea,L.x<j.x1||L.x>j.x2||L.y<j.y1||L.y>j.y2)if(this.toolTip&&this.toolTip.enabled){for(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip),et=0;et<this.axisX.length;et++)this.axisX[et].crosshair&&this.axisX[et].crosshair.enabled&&this.axisX[et].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[et].options},this.axisX[et].crosshair);for(et=0;et<this.axisX2.length;et++)this.axisX2[et].crosshair&&this.axisX2[et].crosshair.enabled&&this.axisX2[et].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[et].options},this.axisX2[et].crosshair);for(et=0;et<this.axisY.length;et++)this.axisY[et].crosshair&&this.axisY[et].crosshair.enabled&&this.axisY[et].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[et].options},this.axisY[et].crosshair);for(et=0;et<this.axisY2.length;et++)this.axisY2[et].crosshair&&this.axisY2[et].crosshair.enabled&&this.axisY2[et].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[et].options},this.axisY2[et].crosshair)}else this.resetOverlayedCanvas();this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(u)}},m.prototype._plotAreaMouseDown=function(u,_){this.isDrag=!0,this.dragStartPoint={x:u,y:_}},m.prototype._plotAreaMouseUp=function(u,_){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var B=_-this.dragStartPoint.y,L=u-this.dragStartPoint.x,j=0<=this.zoomType.indexOf("x"),tt=0<=this.zoomType.indexOf("y"),et=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var it=tt;tt=j,j=it}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(j=tt=0;j<this._axes.length;j++)(B=this._axes[j]).logarithmic?B.viewportMinimum<B.minimum?(tt=B.minimum/B.viewportMinimum,B.sessionVariables.newViewportMinimum=B.viewportMinimum*tt,B.sessionVariables.newViewportMaximum=B.viewportMaximum*tt,et=!0):B.viewportMaximum>B.maximum&&(tt=B.viewportMaximum/B.maximum,B.sessionVariables.newViewportMinimum=B.viewportMinimum/tt,B.sessionVariables.newViewportMaximum=B.viewportMaximum/tt,et=!0):B.viewportMinimum<B.minimum?(tt=B.minimum-B.viewportMinimum,B.sessionVariables.newViewportMinimum=B.viewportMinimum+tt,B.sessionVariables.newViewportMaximum=B.viewportMaximum+tt,et=!0):B.viewportMaximum>B.maximum&&(tt=B.viewportMaximum-B.maximum,B.sessionVariables.newViewportMinimum=B.viewportMinimum-tt,B.sessionVariables.newViewportMaximum=B.viewportMaximum-tt,et=!0);else if((!j||2<Math.abs(L))&&(!tt||2<Math.abs(B))&&this.zoomEnabled){if(!this.dragStartPoint)return;B=j?this.dragStartPoint.x:this.plotArea.x1,L=tt?this.dragStartPoint.y:this.plotArea.y1,j=j?u:this.plotArea.x2,tt=tt?_:this.plotArea.y2,2<Math.abs(B-j)&&2<Math.abs(L-tt)&&this._zoomPanToSelectedRegion(B,L,j,tt)&&(et=!0)}et&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),et&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(Ka(this._zoomButton,this._resetButton),ua(this,this._zoomButton,"pan"),ua(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(et=0;et<this.axisX.length;et++)this.axisX[et].crosshair&&this.axisX[et].crosshair.enabled&&this.axisX[et].renderCrosshair(u,_);if(this.axisX2&&0<this.axisX2.length)for(et=0;et<this.axisX2.length;et++)this.axisX2[et].crosshair&&this.axisX2[et].crosshair.enabled&&this.axisX2[et].renderCrosshair(u,_);if(this.axisY&&0<this.axisY.length)for(et=0;et<this.axisY.length;et++)this.axisY[et].crosshair&&this.axisY[et].crosshair.enabled&&this.axisY[et].renderCrosshair(u,_);if(this.axisY2&&0<this.axisY2.length)for(et=0;et<this.axisY2.length;et++)this.axisY2[et].crosshair&&this.axisY2[et].crosshair.enabled&&this.axisY2[et].renderCrosshair(u,_)}},m.prototype._plotAreaMouseMove=function(u,_){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var B=0,L=0,j=B=null,tt=(j=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),et=this;if("xySwapped"===this.plotInfo.axisPlacement&&(B=tt,tt=j,j=B),B=this.dragStartPoint.x-u,L=this.dragStartPoint.y-_,2<Math.abs(B)&&8>Math.abs(B)&&(this.panEnabled||this.zoomEnabled)?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(u,_),(!j||2<Math.abs(B)||!tt||2<Math.abs(L))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)j={x1:j?this.plotArea.x1+B:this.plotArea.x1,y1:tt?this.plotArea.y1+L:this.plotArea.y1,x2:j?this.plotArea.x2+B:this.plotArea.x2,y2:tt?this.plotArea.y2+L:this.plotArea.y2},clearTimeout(et._panTimerId),et._panTimerId=setTimeout(function(B,L,j,tt){return function(){et._zoomPanToSelectedRegion(B,L,j,tt,!0)&&(et._dispatchRangeEvent("rangeChanging","pan"),et.stockChart&&et.stockChart.navigator&&et.stockChart.navigator.enabled&&(et.stockChart._rangeEventParameter.type="rangeChanging",et.stockChart.dispatchEvent("rangeChanging",et.stockChart._rangeEventParameter,et.stockChart)),et.render(),et._dispatchRangeEvent("rangeChanged","pan"),et.stockChart&&et.stockChart.navigator&&et.stockChart.navigator.enabled&&(et.stockChart._rangeEventParameter.type="rangeChanged",et.stockChart.dispatchEvent("rangeChanged",et.stockChart._rangeEventParameter,et.stockChart)),et.dragStartPoint.x=u,et.dragStartPoint.y=_)}}(j.x1,j.y1,j.x2,j.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),B=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896",L=j?this.dragStartPoint.x:this.plotArea.x1;var it=tt?this.dragStartPoint.y:this.plotArea.y1,at=j?u-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,st=tt?_-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(L,it,j?u:this.plotArea.x2-this.plotArea.x1,tt?_:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(L,it,at,st),this.overlaidCanvasCtx.globalAlpha=B}}else if(this.toolTip.mouseMoveHandler(u,_),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(j=0;j<this.axisX.length;j++)this.axisX[j].crosshair&&this.axisX[j].crosshair.enabled&&this.axisX[j].renderCrosshair(u,_);if(this.axisX2&&0<this.axisX2.length)for(j=0;j<this.axisX2.length;j++)this.axisX2[j].crosshair&&this.axisX2[j].crosshair.enabled&&this.axisX2[j].renderCrosshair(u,_);if(this.axisY&&0<this.axisY.length)for(j=0;j<this.axisY.length;j++)this.axisY[j].crosshair&&this.axisY[j].crosshair.enabled&&this.axisY[j].renderCrosshair(u,_);if(this.axisY2&&0<this.axisY2.length)for(j=0;j<this.axisY2.length;j++)this.axisY2[j].crosshair&&this.axisY2[j].crosshair.enabled&&this.axisY2[j].renderCrosshair(u,_)}},m.prototype._zoomPanToSelectedRegion=function(u,_,B,L,j){if(_=(u=this.validateRegion(u,_,B,L,j)).axesWithValidRange,B=u.axesRanges,u.isValid)for(L=0;L<_.length;L++)j=B[L],_[L].setViewPortRange(j.val1,j.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(j.val1,j.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:j.val1,maximum:j.val2});return u.isValid},m.prototype.validateRegion=function(u,_,B,L,j){j=j||!1;for(var tt=0<=this.zoomType.indexOf("x"),et=0<=this.zoomType.indexOf("y"),it=!1,at=[],st=[],nt=[],ot=0;ot<this._axes.length;ot++)("axisX"===this._axes[ot].type&&tt||"axisY"===this._axes[ot].type&&et)&&st.push(this._axes[ot]);for(et=0;et<st.length;et++){if(tt=!1,(ht=(ot=st[et]).convertPixelToValue({x:u,y:_}))>(lt=ot.convertPixelToValue({x:B,y:L})))var rt=lt,lt=ht,ht=rt;if(ot.scaleBreaks)for(rt=0;!tt&&rt<ot.scaleBreaks._appliedBreaks.length;rt++)tt=ot.scaleBreaks._appliedBreaks[rt].startValue<=ht&&ot.scaleBreaks._appliedBreaks[rt].endValue>=lt;if(isFinite(ot.dataInfo.minDiff))if(rt=ot.getApparentDifference(ht,lt,null,!0),tt||!(this.panEnabled&&ot.scaleBreaks&&ot.scaleBreaks._appliedBreaks.length)&&(ot.logarithmic&&rt<Math.pow(ot.dataInfo.minDiff,3)||!ot.logarithmic&&rt<3*Math.abs(ot.dataInfo.minDiff))||ht<ot.minimum||lt>ot.maximum){if(!j){it=!1;break}}else at.push(ot),nt.push({val1:ht,val2:lt}),it=!0}return{isValid:it,axesWithValidRange:at,axesRanges:nt}},m.prototype.preparePlotArea=function(){var u=this.plotArea;if(!it&&(0<u.x1||0<u.y1)&&u.ctx.translate(u.x1,u.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var _=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var B=this.axisY[0];u.x1=_.x1<_.x2?_.x1:B.lineCoordinates.x1,u.y1=_.y1<B.lineCoordinates.y1?_.y1:B.lineCoordinates.y1,u.x2=_.x2>B.lineCoordinates.x2?_.x2:B.lineCoordinates.x2,u.y2=_.y2>_.y1?_.y2:B.lineCoordinates.y2,u.width=u.x2-u.x1,u.height=u.y2-u.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(B=this.axisY2[0],u.x1=_.x1<_.x2?_.x1:B.lineCoordinates.x1,u.y1=_.y1<B.lineCoordinates.y1?_.y1:B.lineCoordinates.y1,u.x2=_.x2>B.lineCoordinates.x2?_.x2:B.lineCoordinates.x2,u.y2=_.y2>_.y1?_.y2:B.lineCoordinates.y2,u.width=u.x2-u.x1,u.height=u.y2-u.y1)}else _=this.layoutManager.getFreeSpace(),u.x1=_.x1,u.x2=_.x2,u.y1=_.y1,u.y2=_.y2,u.width=_.width,u.height=_.height;it||(u.canvas.width=u.width,u.canvas.height=u.height,u.canvas.style.left=u.x1+"px",u.canvas.style.top=u.y1+"px",(0<u.x1||0<u.y1)&&u.ctx.translate(-u.x1,-u.y1)),u.layoutManager=new Ca(u.x1,u.y1,u.x2,u.y2,2)},m.prototype.renderIndexLabels=function(_){var B=_||this.plotArea.ctx,L=this.plotArea,j=0,tt=0,et=0,at=et=tt=0,st=0,nt=j=0,ot=0;for(_=0;_<this._indexLabels.length;_++){var rt,lt,ht=this._indexLabels[_],dt=ht.chartType.toLowerCase(),ct=(at=ka("indexLabelFontColor",ht.dataPoint,ht.dataSeries),ka("indexLabelFontSize",ht.dataPoint,ht.dataSeries)),pt=(st=ka("indexLabelFontFamily",ht.dataPoint,ht.dataSeries),nt=ka("indexLabelFontStyle",ht.dataPoint,ht.dataSeries),ot=ka("indexLabelFontWeight",ht.dataPoint,ht.dataSeries),ka("indexLabelBackgroundColor",ht.dataPoint,ht.dataSeries));rt=ka("indexLabelMaxWidth",ht.dataPoint,ht.dataSeries),lt=ka("indexLabelWrap",ht.dataPoint,ht.dataSeries);var ut=ka("indexLabelLineDashType",ht.dataPoint,ht.dataSeries),xt=ka("indexLabelLineColor",ht.dataPoint,ht.dataSeries),mt=s(ht.dataPoint.indexLabelLineThickness)?s(ht.dataSeries.options.indexLabelLineThickness)?0:ht.dataSeries.options.indexLabelLineThickness:ht.dataPoint.indexLabelLineThickness,gt=(j=0<mt?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),ft=null;(0<=ht.dataSeries.type.indexOf("stacked")||"pie"===ht.dataSeries.type||"doughnut"===ht.dataSeries.type)&&(gt=this.getPercentAndTotal(ht.dataSeries,ht.dataPoint)),(ht.dataSeries.indexLabelFormatter||ht.dataPoint.indexLabelFormatter)&&(ft={chart:this,dataSeries:ht.dataSeries,dataPoint:ht.dataPoint,index:ht.indexKeyword,total:gt.total,percent:gt.percent});var bt=ht.dataPoint.indexLabelFormatter?ht.dataPoint.indexLabelFormatter(ft):ht.dataPoint.indexLabel?this.replaceKeywordsWithValue(ht.dataPoint.indexLabel,ht.dataPoint,ht.dataSeries,null,ht.indexKeyword):ht.dataSeries.indexLabelFormatter?ht.dataSeries.indexLabelFormatter(ft):ht.dataSeries.indexLabel?this.replaceKeywordsWithValue(ht.dataSeries.indexLabel,ht.dataPoint,ht.dataSeries,null,ht.indexKeyword):null;if(null!==bt&&""!==bt){gt=ka("indexLabelPlacement",ht.dataPoint,ht.dataSeries),ft=ka("indexLabelOrientation",ht.dataPoint,ht.dataSeries);var vt=ht.direction,yt=(tt=ht.dataSeries.axisX,et=ht.dataSeries.axisY,!1);if((pt=new ia(B,{x:0,y:0,maxWidth:rt||.5*this.width,maxHeight:lt?5*ct:1.5*ct,angle:"horizontal"===ft?0:-90,text:bt,padding:0,backgroundColor:pt,horizontalAlign:"left",fontSize:ct,fontFamily:st,fontWeight:ot,fontColor:at,fontStyle:nt,textBaseline:"middle"})).measureText(),ht.dataSeries.indexLabelMaxWidth=pt.maxWidth,"stackedarea100"===dt){if(ht.point.x<L.x1||ht.point.x>L.x2||ht.point.y<L.y1-1||ht.point.y>L.y2+1)continue}else if("rangearea"===dt||"rangesplinearea"===dt){if(ht.dataPoint.x<tt.viewportMinimum||ht.dataPoint.x>tt.viewportMaximum||Math.max.apply(null,ht.dataPoint.y)<et.viewportMinimum||Math.min.apply(null,ht.dataPoint.y)>et.viewportMaximum)continue}else if(0<=dt.indexOf("line")||0<=dt.indexOf("area")||0<=dt.indexOf("bubble")||0<=dt.indexOf("scatter")){if(ht.dataPoint.x<tt.viewportMinimum||ht.dataPoint.x>tt.viewportMaximum||ht.dataPoint.y<et.viewportMinimum||ht.dataPoint.y>et.viewportMaximum)continue}else if(0<=dt.indexOf("column")||"waterfall"===dt||"error"===dt&&!ht.axisSwapped){if(ht.dataPoint.x<tt.viewportMinimum||ht.dataPoint.x>tt.viewportMaximum||ht.bounds.y1>L.y2||ht.bounds.y2<L.y1)continue}else if(0<=dt.indexOf("bar")||"error"===dt){if(ht.dataPoint.x<tt.viewportMinimum||ht.dataPoint.x>tt.viewportMaximum||ht.bounds.x1>L.x2||ht.bounds.x2<L.x1)continue}else if("candlestick"===dt||"ohlc"===dt){if(ht.dataPoint.x<tt.viewportMinimum||ht.dataPoint.x>tt.viewportMaximum||Math.max.apply(null,ht.dataPoint.y)<et.viewportMinimum||Math.min.apply(null,ht.dataPoint.y)>et.viewportMaximum)continue}else if(ht.dataPoint.x<tt.viewportMinimum||ht.dataPoint.x>tt.viewportMaximum)continue;at=st=2,"horizontal"===ft?(nt=pt.width,ot=pt.height):(ot=pt.width,nt=pt.height),"normal"===this.plotInfo.axisPlacement?(0<=dt.indexOf("line")||0<=dt.indexOf("area")?(gt="auto",st=4):0<=dt.indexOf("stacked")?"auto"===gt&&(gt="inside"):"bubble"!==dt&&"scatter"!==dt||(gt="inside"),rt=ht.point.x-("horizontal"===ft?nt/2:nt/2-ct/2),"inside"!==gt?(tt=L.y1,et=L.y2,0<vt?(lt=ht.point.y+("horizontal"===ft?ct/2:0)-ot-st-j)<tt&&(yt=(lt="auto"===gt?Math.max(ht.point.y,tt)+ct/2+st:tt+ct/2+st)+ot>ht.point.y):(lt=ht.point.y+ct/2+st+j)>et-ot&&(yt=(lt="auto"===gt?Math.min(ht.point.y,et)+ct/2-ot-st:et+ct/2-ot)<ht.point.y)):(tt=Math.max(ht.bounds.y1,L.y1),et=Math.min(ht.bounds.y2,L.y2-ot+ct/2),j=0<=dt.indexOf("range")||"error"===dt?0<vt?Math.max(ht.bounds.y1,L.y1)+ct/2+st:Math.min(ht.bounds.y2,L.y2)+ct/2-ot+st:(Math.max(ht.bounds.y1,L.y1)+Math.min(ht.bounds.y2,L.y2))/2-ot/2+ct/2+("horizontal"===ft?st:0),0<vt?(lt=Math.max(ht.point.y,j))<tt&&("bubble"===dt||"scatter"===dt)&&(lt=Math.max(ht.point.y-ot-st,L.y1+st)):(lt=Math.min(ht.point.y,j))>et-ot-st&&("bubble"===dt||"scatter"===dt)&&(lt=Math.min(ht.point.y+st,L.y2-ot-st)),lt=Math.min(lt,et))):(0<=dt.indexOf("line")||0<=dt.indexOf("area")||0<=dt.indexOf("scatter")?(gt="auto",at=4):0<=dt.indexOf("stacked")?"auto"===gt&&(gt="inside"):"bubble"===dt&&(gt="inside"),lt=ht.point.y+ct/2-ot/2+st,"inside"!==gt?(tt=L.x1,et=L.x2,0>vt?(rt=ht.point.x-("horizontal"===ft?nt:nt-ct/2)-at-j)<tt&&(yt=(rt="auto"===gt?Math.max(ht.point.x,tt)+at:tt+at)+nt>ht.point.x):(rt=ht.point.x+("horizontal"===ft?0:ct/2)+at+j)>et-nt-at-j&&(yt=(rt="auto"===gt?Math.min(ht.point.x,et)-("horizontal"===ft?nt:nt/2)-at:et-nt-at)<ht.point.x)):(tt=Math.max(ht.bounds.x1,L.x1),Math.min(ht.bounds.x2,L.x2),j=0<=dt.indexOf("range")||"error"===dt?0>vt?Math.max(ht.bounds.x1,L.x1)+ct/2+at:Math.min(ht.bounds.x2,L.x2)-nt/2-at+("horizontal"===ft?0:ct/2):(Math.max(ht.bounds.x1,L.x1)+Math.min(ht.bounds.x2,L.x2))/2+("horizontal"===ft?0:ct/2),rt=0>vt?Math.max(ht.point.x,j)-("horizontal"===ft?nt/2:0):Math.min(ht.point.x,j)-nt/2,rt=Math.max(rt,tt))),"vertical"===ft&&(lt+=ot-ct/2),pt.x=rt,pt.y=lt,pt.render(!0),mt&&"inside"!==gt&&(0>dt.indexOf("bar")&&("error"!==dt||!ht.axisSwapped)&&ht.point.x>L.x1&&ht.point.x<L.x2||!yt)&&(0>dt.indexOf("column")&&("error"!==dt||ht.axisSwapped)&&ht.point.y>L.y1&&ht.point.y<L.y2||!yt)&&(B.lineWidth=mt,B.strokeStyle=xt||"gray",B.setLineDash&&B.setLineDash(N(ut,mt)),B.beginPath(),B.moveTo(ht.point.x,ht.point.y),0<=dt.indexOf("bar")||"error"===dt&&ht.axisSwapped?B.lineTo(rt+(0<ht.direction?-at:nt+at)+("vertical"===ft?-ct/2:0),lt+("vertical"===ft?-ot/2:ot/2-ct/2)-st):0<=dt.indexOf("column")||"error"===dt&&!ht.axisSwapped?B.lineTo(rt+nt/2-("horizontal"===ft?0:ct/2),lt+("vertical"===ft?(lt-ot<ht.point.y?0:-ot)+st:(lt-ct/2<ht.point.y?ot:0)-ct/2)):B.lineTo(rt+nt/2-("horizontal"===ft?0:ct/2),lt+("vertical"===ft?lt-ot<ht.point.y?0:-ot:(lt-ct/2<ht.point.y?ot:0)-ct/2)),B.stroke())}}for(B={source:B,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0,startTimePercent:.7},_=0;_<this._indexLabels.length;_++)pt=ka("indexLabelBackgroundColor",(ht=this._indexLabels[_]).dataPoint,ht.dataSeries),ht.dataSeries.indexLabelBackgroundColor=s(pt)?it?"transparent":null:pt;return B},m.prototype.renderLine=function(B){var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt=this._eventManager.ghostCtx;j.save();var et=this.plotArea;j.beginPath(),j.rect(et.x1,et.y1,et.width,et.height),j.clip();for(var at,st=[],nt=0;nt<B.dataSeriesIndexes.length;nt++){var ot=B.dataSeriesIndexes[nt],rt=this.data[ot];j.lineWidth=rt.lineThickness;var lt=rt.dataPoints,ht="solid";if(j.setLineDash){var dt=N(rt.nullDataLineDashType,rt.lineThickness),ct=N(ht=rt.lineDashType,rt.lineThickness);j.setLineDash(ct)}var pt=rt.id;this._eventManager.objectMap[pt]={objectType:"dataSeries",dataSeriesIndex:ot},pt=Q(pt),tt.strokeStyle=pt,tt.lineWidth=0<rt.lineThickness?Math.max(rt.lineThickness,4):0,pt=rt._colorSet;var ut=pt=rt.lineColor=rt.options.lineColor?rt.options.lineColor:pt[0];j.strokeStyle=pt;var xt,mt,gt=!0,ft=0;if(j.beginPath(),0<lt.length){var bt=!1;for(ft=0;ft<lt.length;ft++)if(!((xt=lt[ft].x.getTime?lt[ft].x.getTime():lt[ft].x)<B.axisX.dataInfo.viewPortMin||xt>B.axisX.dataInfo.viewPortMax&&(!rt.connectNullData||!bt)))if("number"!=typeof lt[ft].y)0<ft&&!(rt.connectNullData||bt||gt)&&(j.stroke(),it&&tt.stroke()),bt=!0;else{xt=B.axisX.convertValueToPixel(xt),mt=B.axisY.convertValueToPixel(lt[ft].y);var vt=rt.dataPointIds[ft];if(this._eventManager.objectMap[vt]={id:vt,objectType:"dataPoint",dataSeriesIndex:ot,dataPointIndex:ft,x1:xt,y1:mt},gt||bt?(!gt&&rt.connectNullData?(j.setLineDash&&(rt.options.nullDataLineDashType||ht===rt.lineDashType&&rt.lineDashType!==rt.nullDataLineDashType)&&(j.stroke(),j.beginPath(),j.moveTo(at.x,at.y),ht=rt.nullDataLineDashType,j.setLineDash(dt)),j.lineTo(xt,mt),it&&tt.lineTo(xt,mt)):(j.beginPath(),j.moveTo(xt,mt),it&&(tt.beginPath(),tt.moveTo(xt,mt))),bt=gt=!1):(j.lineTo(xt,mt),it&&tt.lineTo(xt,mt),0==ft%500&&(j.stroke(),j.beginPath(),j.moveTo(xt,mt),it&&(tt.stroke(),tt.beginPath(),tt.moveTo(xt,mt)))),at={x:xt,y:mt},ft<lt.length-1&&(ut!==(lt[ft].lineColor||pt)||ht!==(lt[ft].lineDashType||rt.lineDashType))&&(j.stroke(),j.beginPath(),j.moveTo(xt,mt),ut=lt[ft].lineColor||pt,j.strokeStyle=ut,j.setLineDash&&(lt[ft].lineDashType?(ht=lt[ft].lineDashType,j.setLineDash(N(ht,rt.lineThickness))):(ht=rt.lineDashType,j.setLineDash(ct)))),0<lt[ft].markerSize||0<rt.markerSize){var yt=rt.getMarkerProperties(ft,xt,mt,j);st.push(yt),vt=Q(vt),it&&st.push({x:xt,y:mt,ctx:tt,type:yt.type,size:yt.size,color:vt,borderColor:vt,borderThickness:yt.borderThickness})}(lt[ft].indexLabel||rt.indexLabel||lt[ft].indexLabelFormatter||rt.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:lt[ft],dataSeries:rt,point:{x:xt,y:mt},direction:0>lt[ft].y===B.axisY.reversed?1:-1,color:pt})}j.stroke(),it&&tt.stroke()}}return _.drawMarkers(st),it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(et.x1,et.y1,et.width,et.height),tt.beginPath()),j.restore(),j.beginPath(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderStepLine=function(B){var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt=this._eventManager.ghostCtx;j.save();var et=this.plotArea;j.beginPath(),j.rect(et.x1,et.y1,et.width,et.height),j.clip();for(var at,st=[],nt=0;nt<B.dataSeriesIndexes.length;nt++){var ot=B.dataSeriesIndexes[nt],rt=this.data[ot];j.lineWidth=rt.lineThickness;var lt=rt.dataPoints,ht="solid";if(j.setLineDash){var dt=N(rt.nullDataLineDashType,rt.lineThickness),ct=N(ht=rt.lineDashType,rt.lineThickness);j.setLineDash(ct)}var pt=rt.id;this._eventManager.objectMap[pt]={objectType:"dataSeries",dataSeriesIndex:ot},pt=Q(pt),tt.strokeStyle=pt,tt.lineWidth=0<rt.lineThickness?Math.max(rt.lineThickness,4):0,pt=rt._colorSet;var ut=pt=rt.lineColor=rt.options.lineColor?rt.options.lineColor:pt[0];j.strokeStyle=pt;var xt,mt,gt=!0,ft=0;if(j.beginPath(),0<lt.length){var bt=!1;for(ft=0;ft<lt.length;ft++)if(!((xt=lt[ft].getTime?lt[ft].x.getTime():lt[ft].x)<B.axisX.dataInfo.viewPortMin||xt>B.axisX.dataInfo.viewPortMax&&(!rt.connectNullData||!bt)))if("number"!=typeof lt[ft].y)0<ft&&!(rt.connectNullData||bt||gt)&&(j.stroke(),it&&tt.stroke()),bt=!0;else{var vt=mt;xt=B.axisX.convertValueToPixel(xt),mt=B.axisY.convertValueToPixel(lt[ft].y);var yt=rt.dataPointIds[ft];this._eventManager.objectMap[yt]={id:yt,objectType:"dataPoint",dataSeriesIndex:ot,dataPointIndex:ft,x1:xt,y1:mt},gt||bt?(!gt&&rt.connectNullData?(j.setLineDash&&(rt.options.nullDataLineDashType||ht===rt.lineDashType&&rt.lineDashType!==rt.nullDataLineDashType)&&(j.stroke(),j.beginPath(),j.moveTo(at.x,at.y),ht=rt.nullDataLineDashType,j.setLineDash(dt)),j.lineTo(xt,vt),j.lineTo(xt,mt),it&&(tt.lineTo(xt,vt),tt.lineTo(xt,mt))):(j.beginPath(),j.moveTo(xt,mt),it&&(tt.beginPath(),tt.moveTo(xt,mt))),bt=gt=!1):(j.lineTo(xt,vt),it&&tt.lineTo(xt,vt),j.lineTo(xt,mt),it&&tt.lineTo(xt,mt),0==ft%500&&(j.stroke(),j.beginPath(),j.moveTo(xt,mt),it&&(tt.stroke(),tt.beginPath(),tt.moveTo(xt,mt)))),at={x:xt,y:mt},ft<lt.length-1&&(ut!==(lt[ft].lineColor||pt)||ht!==(lt[ft].lineDashType||rt.lineDashType))&&(j.stroke(),j.beginPath(),j.moveTo(xt,mt),ut=lt[ft].lineColor||pt,j.strokeStyle=ut,j.setLineDash&&(lt[ft].lineDashType?(ht=lt[ft].lineDashType,j.setLineDash(N(ht,rt.lineThickness))):(ht=rt.lineDashType,j.setLineDash(ct)))),(0<lt[ft].markerSize||0<rt.markerSize)&&(vt=rt.getMarkerProperties(ft,xt,mt,j),st.push(vt),yt=Q(yt),it&&st.push({x:xt,y:mt,ctx:tt,type:vt.type,size:vt.size,color:yt,borderColor:yt,borderThickness:vt.borderThickness})),(lt[ft].indexLabel||rt.indexLabel||lt[ft].indexLabelFormatter||rt.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:lt[ft],dataSeries:rt,point:{x:xt,y:mt},direction:0>lt[ft].y===B.axisY.reversed?1:-1,color:pt})}j.stroke(),it&&tt.stroke()}}return _.drawMarkers(st),it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(et.x1,et.y1,et.width,et.height),tt.beginPath()),j.restore(),j.beginPath(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderSpline=function(B){function d(u){if(0<(u=w(u,2)).length){j.beginPath(),it&&tt.beginPath(),j.moveTo(u[0].x,u[0].y),u[0].newStrokeStyle&&(j.strokeStyle=u[0].newStrokeStyle),u[0].newLineDashArray&&j.setLineDash(u[0].newLineDashArray),it&&tt.moveTo(u[0].x,u[0].y);for(var _=0;_<u.length-3;_+=3)j.bezierCurveTo(u[_+1].x,u[_+1].y,u[_+2].x,u[_+2].y,u[_+3].x,u[_+3].y),it&&tt.bezierCurveTo(u[_+1].x,u[_+1].y,u[_+2].x,u[_+2].y,u[_+3].x,u[_+3].y),(0<_&&0==_%3e3||u[_+3].newStrokeStyle||u[_+3].newLineDashArray)&&(j.stroke(),j.beginPath(),j.moveTo(u[_+3].x,u[_+3].y),u[_+3].newStrokeStyle&&(j.strokeStyle=u[_+3].newStrokeStyle),u[_+3].newLineDashArray&&j.setLineDash(u[_+3].newLineDashArray),it&&(tt.stroke(),tt.beginPath(),tt.moveTo(u[_+3].x,u[_+3].y)));j.stroke(),it&&tt.stroke()}}var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt=this._eventManager.ghostCtx;j.save();var et=this.plotArea;j.beginPath(),j.rect(et.x1,et.y1,et.width,et.height),j.clip();for(var at=[],st=0;st<B.dataSeriesIndexes.length;st++){var nt=B.dataSeriesIndexes[st],ot=this.data[nt];j.lineWidth=ot.lineThickness;var rt=ot.dataPoints,lt="solid";if(j.setLineDash){var ht=N(ot.nullDataLineDashType,ot.lineThickness),dt=N(lt=ot.lineDashType,ot.lineThickness);j.setLineDash(dt)}var ct=ot.id;this._eventManager.objectMap[ct]={objectType:"dataSeries",dataSeriesIndex:nt},ct=Q(ct),tt.strokeStyle=ct,tt.lineWidth=0<ot.lineThickness?Math.max(ot.lineThickness,4):0,ct=ot._colorSet;var pt=ct=ot.lineColor=ot.options.lineColor?ot.options.lineColor:ct[0];j.strokeStyle=ct;var ut,xt,mt=0,gt=[];if(j.beginPath(),0<rt.length)for(xt=!1,mt=0;mt<rt.length;mt++)if(!((ut=rt[mt].getTime?rt[mt].x.getTime():rt[mt].x)<B.axisX.dataInfo.viewPortMin||ut>B.axisX.dataInfo.viewPortMax&&(!ot.connectNullData||!xt)))if("number"!=typeof rt[mt].y)0<mt&&!xt&&(ot.connectNullData?j.setLineDash&&0<gt.length&&(ot.options.nullDataLineDashType||!rt[mt-1].lineDashType)&&(gt[gt.length-1].newLineDashArray=ht,lt=ot.nullDataLineDashType):(d(gt),gt=[])),xt=!0;else{ut=B.axisX.convertValueToPixel(ut),xt=B.axisY.convertValueToPixel(rt[mt].y);var ft=ot.dataPointIds[mt];if(this._eventManager.objectMap[ft]={id:ft,objectType:"dataPoint",dataSeriesIndex:nt,dataPointIndex:mt,x1:ut,y1:xt},gt[gt.length]={x:ut,y:xt},mt<rt.length-1&&(pt!==(rt[mt].lineColor||ct)||lt!==(rt[mt].lineDashType||ot.lineDashType))&&(pt=rt[mt].lineColor||ct,gt[gt.length-1].newStrokeStyle=pt,j.setLineDash&&(rt[mt].lineDashType?(lt=rt[mt].lineDashType,gt[gt.length-1].newLineDashArray=N(lt,ot.lineThickness)):(lt=ot.lineDashType,gt[gt.length-1].newLineDashArray=dt))),0<rt[mt].markerSize||0<ot.markerSize){var bt=ot.getMarkerProperties(mt,ut,xt,j);at.push(bt),ft=Q(ft),it&&at.push({x:ut,y:xt,ctx:tt,type:bt.type,size:bt.size,color:ft,borderColor:ft,borderThickness:bt.borderThickness})}(rt[mt].indexLabel||ot.indexLabel||rt[mt].indexLabelFormatter||ot.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:rt[mt],dataSeries:ot,point:{x:ut,y:xt},direction:0>rt[mt].y===B.axisY.reversed?1:-1,color:ct}),xt=!1}d(gt)}return _.drawMarkers(at),it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(et.x1,et.y1,et.width,et.height),tt.beginPath()),j.restore(),j.beginPath(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderColumn=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et,at=null,st=this.plotArea,nt=0,ot=_.axisY.convertValueToPixel(_.axisY.logarithmic?_.axisY.viewportMinimum:0),rt=(nt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/_.plotType.totalDataSeries*.9)<<0),lt=_.axisX.dataInfo.minDiff;for(isFinite(lt)||(lt=.3*Math.abs(_.axisX.range)),lt=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:st.width*(_.axisX.logarithmic?Math.log(lt)/Math.log(_.axisX.range):Math.abs(lt)/Math.abs(_.axisX.range))/_.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&nt>rt&&(nt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,rt)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&rt<nt&&(rt=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,nt)),lt<nt&&(lt=nt),lt>rt&&(lt=rt),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(st.x1,st.y1,st.width,st.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(st.x1,st.y1,st.width,st.height),this._eventManager.ghostCtx.clip()),rt=0;rt<_.dataSeriesIndexes.length;rt++){var ht=_.dataSeriesIndexes[rt],dt=this.data[ht],ct=dt.dataPoints;if(0<ct.length){var pt=!!(5<lt&&dt.bevelEnabled);for(nt=0;nt<ct.length;nt++)if(!((et=ct[nt].getTime?ct[nt].x.getTime():ct[nt].x)<_.axisX.dataInfo.viewPortMin||et>_.axisX.dataInfo.viewPortMax)&&"number"==typeof ct[nt].y){j=_.axisX.convertValueToPixel(et),tt=_.axisY.convertValueToPixel(ct[nt].y),j=_.axisX.reversed?j+_.plotType.totalDataSeries*lt/2-(_.previousDataSeriesCount+rt)*lt<<0:j-_.plotType.totalDataSeries*lt/2+(_.previousDataSeriesCount+rt)*lt<<0;var ut,xt=_.axisX.reversed?j-lt<<0:j+lt<<0;0<=ct[nt].y?ut=ot:(ut=tt,tt=ot),tt>ut&&(at=tt,tt=ut,ut=at),at=ct[nt].color?ct[nt].color:dt._colorSet[nt%dt._colorSet.length],ca(L,j,tt,xt,ut,at,0,null,pt&&0<=ct[nt].y,0>ct[nt].y&&pt,!1,!1,dt.fillOpacity),at=dt.dataPointIds[nt],this._eventManager.objectMap[at]={id:at,objectType:"dataPoint",dataSeriesIndex:ht,dataPointIndex:nt,x1:j,y1:tt,x2:xt,y2:ut},at=Q(at),it&&ca(this._eventManager.ghostCtx,j,tt,xt,ut,at,0,null,!1,!1,!1,!1),(ct[nt].indexLabel||dt.indexLabel||ct[nt].indexLabelFormatter||dt.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:ct[nt],dataSeries:dt,point:{x:j+(xt-j)/2,y:0>ct[nt].y===_.axisY.reversed?tt:ut},direction:0>ct[nt].y===_.axisY.reversed?1:-1,bounds:{x1:j,y1:Math.min(tt,ut),x2:xt,y2:Math.max(tt,ut)},color:at})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(st.x1,st.y1,st.width,st.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.yScaleAnimation,easingFunction:u.easing.easeOutQuart,animationBase:ot<_.axisY.bounds.y1?_.axisY.bounds.y1:ot>_.axisY.bounds.y2?_.axisY.bounds.y2:ot}}},m.prototype.renderStackedColumn=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et=null,at=this.plotArea,st=[],nt=[],ot=[],rt=[],lt=0,ht=_.axisY.convertValueToPixel(_.axisY.logarithmic?_.axisY.viewportMinimum:0);lt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,j=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var dt=_.axisX.dataInfo.minDiff;isFinite(dt)||(dt=.3*Math.abs(_.axisX.range)),dt=this.options.dataPointWidth?this.dataPointWidth:at.width*(_.axisX.logarithmic?Math.log(dt)/Math.log(_.axisX.range):Math.abs(dt)/Math.abs(_.axisX.range))/_.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&lt>j&&(lt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,j)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&j<lt&&(j=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,lt)),dt<lt&&(dt=lt),dt>j&&(dt=j),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(at.x1,at.y1,at.width,at.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.clip());for(var ct=0;ct<_.dataSeriesIndexes.length;ct++){var pt=_.dataSeriesIndexes[ct],ut=this.data[pt],xt=ut.dataPoints;if(0<xt.length){var mt=!!(5<dt&&ut.bevelEnabled);for(L.strokeStyle="#4572A7 ",lt=0;lt<xt.length;lt++)if(!((et=xt[lt].x.getTime?xt[lt].x.getTime():xt[lt].x)<_.axisX.dataInfo.viewPortMin||et>_.axisX.dataInfo.viewPortMax)&&"number"==typeof xt[lt].y){var gt,ft=(j=_.axisX.convertValueToPixel(et))-_.plotType.plotUnits.length*dt/2+_.index*dt<<0,bt=ft+dt<<0;if(_.axisY.logarithmic||_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0<xt[lt].y)ot[et]=xt[lt].y+(ot[et]?ot[et]:0),0<ot[et]&&(tt=_.axisY.convertValueToPixel(ot[et]),gt=void 0!==st[et]?st[et]:ht,st[et]=tt);else if(_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0>=xt[lt].y)rt[et]=xt[lt].y+(rt[et]?rt[et]:0),gt=_.axisY.convertValueToPixel(rt[et]),tt=void 0!==nt[et]?nt[et]:ht,nt[et]=gt;else if(tt=_.axisY.convertValueToPixel(xt[lt].y),0<=xt[lt].y){var vt=void 0!==st[et]?st[et]:0;tt-=vt,gt=ht-vt,st[et]=vt+(gt-tt)}else gt=tt+(vt=nt[et]?nt[et]:0),tt=ht+vt,nt[et]=vt+(gt-tt);et=xt[lt].color?xt[lt].color:ut._colorSet[lt%ut._colorSet.length],ca(L,ft,tt,bt,gt,et,0,null,mt&&0<=xt[lt].y,0>xt[lt].y&&mt,!1,!1,ut.fillOpacity),et=ut.dataPointIds[lt],this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:pt,dataPointIndex:lt,x1:ft,y1:tt,x2:bt,y2:gt},et=Q(et),it&&ca(this._eventManager.ghostCtx,ft,tt,bt,gt,et,0,null,!1,!1,!1,!1),(xt[lt].indexLabel||ut.indexLabel||xt[lt].indexLabelFormatter||ut.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:xt[lt],dataSeries:ut,point:{x:j,y:0<=xt[lt].y?tt:gt},direction:0>xt[lt].y===_.axisY.reversed?1:-1,bounds:{x1:ft,y1:Math.min(tt,gt),x2:bt,y2:Math.max(tt,gt)},color:et})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.yScaleAnimation,easingFunction:u.easing.easeOutQuart,animationBase:ht<_.axisY.bounds.y1?_.axisY.bounds.y1:ht>_.axisY.bounds.y2?_.axisY.bounds.y2:ht}}},m.prototype.renderStackedColumn100=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et=null,at=this.plotArea,st=[],nt=[],ot=[],rt=[],lt=0,ht=_.axisY.convertValueToPixel(_.axisY.logarithmic?_.axisY.viewportMinimum:0);lt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,j=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var dt=_.axisX.dataInfo.minDiff;isFinite(dt)||(dt=.3*Math.abs(_.axisX.range)),dt=this.options.dataPointWidth?this.dataPointWidth:at.width*(_.axisX.logarithmic?Math.log(dt)/Math.log(_.axisX.range):Math.abs(dt)/Math.abs(_.axisX.range))/_.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&lt>j&&(lt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,j)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&j<lt&&(j=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,lt)),dt<lt&&(dt=lt),dt>j&&(dt=j),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(at.x1,at.y1,at.width,at.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.clip());for(var ct=0;ct<_.dataSeriesIndexes.length;ct++){var pt=_.dataSeriesIndexes[ct],ut=this.data[pt],xt=ut.dataPoints;if(0<xt.length){var mt=!!(5<dt&&ut.bevelEnabled);for(lt=0;lt<xt.length;lt++)if(!((et=xt[lt].x.getTime?xt[lt].x.getTime():xt[lt].x)<_.axisX.dataInfo.viewPortMin||et>_.axisX.dataInfo.viewPortMax)&&"number"==typeof xt[lt].y){j=_.axisX.convertValueToPixel(et),tt=0!==_.dataPointYSums[et]?xt[lt].y/_.dataPointYSums[et]*100:0;var gt,ft=j-_.plotType.plotUnits.length*dt/2+_.index*dt<<0,bt=ft+dt<<0;if(_.axisY.logarithmic||_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0<xt[lt].y){if(ot[et]=tt+(void 0!==ot[et]?ot[et]:0),0>=ot[et])continue;tt=_.axisY.convertValueToPixel(ot[et]),gt=st[et]?st[et]:ht,st[et]=tt}else if(_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0>=xt[lt].y)rt[et]=tt+(void 0!==rt[et]?rt[et]:0),gt=_.axisY.convertValueToPixel(rt[et]),tt=nt[et]?nt[et]:ht,nt[et]=gt;else if(tt=_.axisY.convertValueToPixel(tt),0<=xt[lt].y){var vt=void 0!==st[et]?st[et]:0;tt-=vt,gt=ht-vt,_.dataSeriesIndexes.length-1===ct&&1>=Math.abs(at.y1-tt)&&(tt=at.y1),st[et]=vt+(gt-tt)}else gt=tt+(vt=void 0!==nt[et]?nt[et]:0),tt=ht+vt,_.dataSeriesIndexes.length-1===ct&&1>=Math.abs(at.y2-gt)&&(gt=at.y2),nt[et]=vt+(gt-tt);et=xt[lt].color?xt[lt].color:ut._colorSet[lt%ut._colorSet.length],ca(L,ft,tt,bt,gt,et,0,null,mt&&0<=xt[lt].y,0>xt[lt].y&&mt,!1,!1,ut.fillOpacity),et=ut.dataPointIds[lt],this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:pt,dataPointIndex:lt,x1:ft,y1:tt,x2:bt,y2:gt},et=Q(et),it&&ca(this._eventManager.ghostCtx,ft,tt,bt,gt,et,0,null,!1,!1,!1,!1),(xt[lt].indexLabel||ut.indexLabel||xt[lt].indexLabelFormatter||ut.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:xt[lt],dataSeries:ut,point:{x:j,y:0<=xt[lt].y?tt:gt},direction:0>xt[lt].y===_.axisY.reversed?1:-1,bounds:{x1:ft,y1:Math.min(tt,gt),x2:bt,y2:Math.max(tt,gt)},color:et})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.yScaleAnimation,easingFunction:u.easing.easeOutQuart,animationBase:ht<_.axisY.bounds.y1?_.axisY.bounds.y1:ht>_.axisY.bounds.y2?_.axisY.bounds.y2:ht}}},m.prototype.renderBar=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et,at=null,st=this.plotArea,nt=0,ot=_.axisY.convertValueToPixel(_.axisY.logarithmic?_.axisY.viewportMinimum:0),rt=(nt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/_.plotType.totalDataSeries*.9)<<0),lt=_.axisX.dataInfo.minDiff;for(isFinite(lt)||(lt=.3*Math.abs(_.axisX.range)),lt=this.options.dataPointWidth?this.dataPointWidth:st.height*(_.axisX.logarithmic?Math.log(lt)/Math.log(_.axisX.range):Math.abs(lt)/Math.abs(_.axisX.range))/_.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&nt>rt&&(nt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,rt)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&rt<nt&&(rt=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,nt)),lt<nt&&(lt=nt),lt>rt&&(lt=rt),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(st.x1,st.y1,st.width,st.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(st.x1,st.y1,st.width,st.height),this._eventManager.ghostCtx.clip()),rt=0;rt<_.dataSeriesIndexes.length;rt++){var ht=_.dataSeriesIndexes[rt],dt=this.data[ht],ct=dt.dataPoints;if(0<ct.length){var pt=!!(5<lt&&dt.bevelEnabled);for(L.strokeStyle="#4572A7 ",nt=0;nt<ct.length;nt++)if(!((et=ct[nt].getTime?ct[nt].x.getTime():ct[nt].x)<_.axisX.dataInfo.viewPortMin||et>_.axisX.dataInfo.viewPortMax)&&"number"==typeof ct[nt].y){tt=_.axisX.convertValueToPixel(et),j=_.axisY.convertValueToPixel(ct[nt].y),tt=_.axisX.reversed?tt+_.plotType.totalDataSeries*lt/2-(_.previousDataSeriesCount+rt)*lt<<0:tt-_.plotType.totalDataSeries*lt/2+(_.previousDataSeriesCount+rt)*lt<<0;var ut,xt=_.axisX.reversed?tt-lt<<0:tt+lt<<0;0<=ct[nt].y?ut=ot:(ut=j,j=ot),at=ct[nt].color?ct[nt].color:dt._colorSet[nt%dt._colorSet.length],ca(L,ut,tt,j,xt,at,0,null,pt,!1,!1,!1,dt.fillOpacity),at=dt.dataPointIds[nt],this._eventManager.objectMap[at]={id:at,objectType:"dataPoint",dataSeriesIndex:ht,dataPointIndex:nt,x1:ut,y1:tt,x2:j,y2:xt},at=Q(at),it&&ca(this._eventManager.ghostCtx,ut,tt,j,xt,at,0,null,!1,!1,!1,!1),(ct[nt].indexLabel||dt.indexLabel||ct[nt].indexLabelFormatter||dt.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:ct[nt],dataSeries:dt,point:{x:0<=ct[nt].y?j:ut,y:tt+(xt-tt)/2},direction:0>ct[nt].y===_.axisY.reversed?1:-1,bounds:{x1:Math.min(ut,j),y1:tt,x2:Math.max(ut,j),y2:xt},color:at})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(st.x1,st.y1,st.width,st.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.xScaleAnimation,easingFunction:u.easing.easeOutQuart,animationBase:ot<_.axisY.bounds.x1?_.axisY.bounds.x1:ot>_.axisY.bounds.x2?_.axisY.bounds.x2:ot}}},m.prototype.renderStackedBar=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et=null,at=this.plotArea,st=[],nt=[],ot=[],rt=[],lt=0,ht=_.axisY.convertValueToPixel(_.axisY.logarithmic?_.axisY.viewportMinimum:0);lt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,tt=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var dt=_.axisX.dataInfo.minDiff;isFinite(dt)||(dt=.3*Math.abs(_.axisX.range)),dt=this.options.dataPointWidth?this.dataPointWidth:at.height*(_.axisX.logarithmic?Math.log(dt)/Math.log(_.axisX.range):Math.abs(dt)/Math.abs(_.axisX.range))/_.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&lt>tt&&(lt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,tt)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&tt<lt&&(tt=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,lt)),dt<lt&&(dt=lt),dt>tt&&(dt=tt),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(at.x1,at.y1,at.width,at.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.clip());for(var ct=0;ct<_.dataSeriesIndexes.length;ct++){var pt=_.dataSeriesIndexes[ct],ut=this.data[pt],xt=ut.dataPoints;if(0<xt.length){var mt=!!(5<dt&&ut.bevelEnabled);for(L.strokeStyle="#4572A7 ",lt=0;lt<xt.length;lt++)if(!((et=xt[lt].x.getTime?xt[lt].x.getTime():xt[lt].x)<_.axisX.dataInfo.viewPortMin||et>_.axisX.dataInfo.viewPortMax)&&"number"==typeof xt[lt].y){var gt,ft=(tt=_.axisX.convertValueToPixel(et))-_.plotType.plotUnits.length*dt/2+_.index*dt<<0,bt=ft+dt<<0;if(_.axisY.logarithmic||_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0<xt[lt].y)ot[et]=xt[lt].y+(ot[et]?ot[et]:0),0<ot[et]&&(gt=st[et]?st[et]:ht,st[et]=j=_.axisY.convertValueToPixel(ot[et]));else if(_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0>=xt[lt].y)rt[et]=xt[lt].y+(rt[et]?rt[et]:0),j=nt[et]?nt[et]:ht,nt[et]=gt=_.axisY.convertValueToPixel(rt[et]);else if(j=_.axisY.convertValueToPixel(xt[lt].y),0<=xt[lt].y){var vt=st[et]?st[et]:0;gt=ht+vt,j+=vt,st[et]=vt+(j-gt)}else gt=j-(vt=nt[et]?nt[et]:0),j=ht-vt,nt[et]=vt+(j-gt);et=xt[lt].color?xt[lt].color:ut._colorSet[lt%ut._colorSet.length],ca(L,gt,ft,j,bt,et,0,null,mt,!1,!1,!1,ut.fillOpacity),et=ut.dataPointIds[lt],this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:pt,dataPointIndex:lt,x1:gt,y1:ft,x2:j,y2:bt},et=Q(et),it&&ca(this._eventManager.ghostCtx,gt,ft,j,bt,et,0,null,!1,!1,!1,!1),(xt[lt].indexLabel||ut.indexLabel||xt[lt].indexLabelFormatter||ut.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:xt[lt],dataSeries:ut,point:{x:0<=xt[lt].y?j:gt,y:tt},direction:0>xt[lt].y===_.axisY.reversed?1:-1,bounds:{x1:Math.min(gt,j),y1:ft,x2:Math.max(gt,j),y2:bt},color:et})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.xScaleAnimation,easingFunction:u.easing.easeOutQuart,animationBase:ht<_.axisY.bounds.x1?_.axisY.bounds.x1:ht>_.axisY.bounds.x2?_.axisY.bounds.x2:ht}}},m.prototype.renderStackedBar100=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et=null,at=this.plotArea,st=[],nt=[],ot=[],rt=[],lt=0,ht=_.axisY.convertValueToPixel(_.axisY.logarithmic?_.axisY.viewportMinimum:0);lt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,tt=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var dt=_.axisX.dataInfo.minDiff;isFinite(dt)||(dt=.3*Math.abs(_.axisX.range)),dt=this.options.dataPointWidth?this.dataPointWidth:at.height*(_.axisX.logarithmic?Math.log(dt)/Math.log(_.axisX.range):Math.abs(dt)/Math.abs(_.axisX.range))/_.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&lt>tt&&(lt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,tt)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&tt<lt&&(tt=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,lt)),dt<lt&&(dt=lt),dt>tt&&(dt=tt),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(at.x1,at.y1,at.width,at.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.clip());for(var ct=0;ct<_.dataSeriesIndexes.length;ct++){var pt=_.dataSeriesIndexes[ct],ut=this.data[pt],xt=ut.dataPoints;if(0<xt.length){var mt=!!(5<dt&&ut.bevelEnabled);for(L.strokeStyle="#4572A7 ",lt=0;lt<xt.length;lt++)if(!((et=xt[lt].x.getTime?xt[lt].x.getTime():xt[lt].x)<_.axisX.dataInfo.viewPortMin||et>_.axisX.dataInfo.viewPortMax)&&"number"==typeof xt[lt].y){var gt;tt=_.axisX.convertValueToPixel(et),gt=0!==_.dataPointYSums[et]?xt[lt].y/_.dataPointYSums[et]*100:0;var ft=tt-_.plotType.plotUnits.length*dt/2+_.index*dt<<0,bt=ft+dt<<0;if(_.axisY.logarithmic||_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0<xt[lt].y){if(ot[et]=gt+(ot[et]?ot[et]:0),0>=ot[et])continue;gt=st[et]?st[et]:ht,st[et]=j=_.axisY.convertValueToPixel(ot[et])}else if(_.axisY.scaleBreaks&&0<_.axisY.scaleBreaks._appliedBreaks.length&&0>=xt[lt].y)rt[et]=gt+(rt[et]?rt[et]:0),j=nt[et]?nt[et]:ht,nt[et]=gt=_.axisY.convertValueToPixel(rt[et]);else if(j=_.axisY.convertValueToPixel(gt),0<=xt[lt].y){var vt=st[et]?st[et]:0;gt=ht+vt,j+=vt,_.dataSeriesIndexes.length-1===ct&&1>=Math.abs(at.x2-j)&&(j=at.x2),st[et]=vt+(j-gt)}else gt=j-(vt=nt[et]?nt[et]:0),j=ht-vt,_.dataSeriesIndexes.length-1===ct&&1>=Math.abs(at.x1-gt)&&(gt=at.x1),nt[et]=vt+(j-gt);et=xt[lt].color?xt[lt].color:ut._colorSet[lt%ut._colorSet.length],ca(L,gt,ft,j,bt,et,0,null,mt,!1,!1,!1,ut.fillOpacity),et=ut.dataPointIds[lt],this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:pt,dataPointIndex:lt,x1:gt,y1:ft,x2:j,y2:bt},et=Q(et),it&&ca(this._eventManager.ghostCtx,gt,ft,j,bt,et,0,null,!1,!1,!1,!1),(xt[lt].indexLabel||ut.indexLabel||xt[lt].indexLabelFormatter||ut.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:xt[lt],dataSeries:ut,point:{x:0<=xt[lt].y?j:gt,y:tt},direction:0>xt[lt].y===_.axisY.reversed?1:-1,bounds:{x1:Math.min(gt,j),y1:ft,x2:Math.max(gt,j),y2:bt},color:et})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.xScaleAnimation,easingFunction:u.easing.easeOutQuart,animationBase:ht<_.axisY.bounds.x1?_.axisY.bounds.x1:ht>_.axisY.bounds.x2?_.axisY.bounds.x2:ht}}},m.prototype.renderArea=function(B){var L,j;function b(){bt&&(0<dt.lineThickness&&et.stroke(),B.axisY.logarithmic||0>=B.axisY.viewportMinimum&&0<=B.axisY.viewportMaximum?mt=ft:0>B.axisY.viewportMaximum?mt=nt.y1:0<B.axisY.viewportMinimum&&(mt=ft),et.lineTo(pt,mt),et.lineTo(bt.x,mt),et.closePath(),et.globalAlpha=dt.fillOpacity,et.fill(),et.globalAlpha=1,it&&(st.lineTo(pt,mt),st.lineTo(bt.x,mt),st.closePath(),st.fill()),et.beginPath(),et.moveTo(pt,ut),st.beginPath(),st.moveTo(pt,ut),bt={x:pt,y:ut})}var tt=B.targetCanvasCtx||this.plotArea.ctx,et=it?this._preRenderCtx:tt;if(!(0>=B.dataSeriesIndexes.length)){var at,st=this._eventManager.ghostCtx,nt=B.axisY.lineCoordinates,ot=[],rt=this.plotArea;et.save(),it&&st.save(),et.beginPath(),et.rect(rt.x1,rt.y1,rt.width,rt.height),et.clip(),it&&(st.beginPath(),st.rect(rt.x1,rt.y1,rt.width,rt.height),st.clip());for(var lt=0;lt<B.dataSeriesIndexes.length;lt++){var ht=B.dataSeriesIndexes[lt],dt=this.data[ht],ct=dt.dataPoints;ot=dt.id,this._eventManager.objectMap[ot]={objectType:"dataSeries",dataSeriesIndex:ht},ot=Q(ot),st.fillStyle=ot,ot=[],L=!0;var pt,ut,xt,mt,gt=0,ft=B.axisY.convertValueToPixel(B.axisY.logarithmic?B.axisY.viewportMinimum:0),bt=null;if(0<ct.length){var vt=dt._colorSet[gt%dt._colorSet.length],yt=dt.lineColor=dt.options.lineColor||vt,kt=yt;if(et.fillStyle=vt,et.strokeStyle=yt,et.lineWidth=dt.lineThickness,j="solid",et.setLineDash){var wt=N(dt.nullDataLineDashType,dt.lineThickness),Mt=N(j=dt.lineDashType,dt.lineThickness);et.setLineDash(Mt)}for(var Tt=!0;gt<ct.length;gt++)if(!((xt=ct[gt].x.getTime?ct[gt].x.getTime():ct[gt].x)<B.axisX.dataInfo.viewPortMin||xt>B.axisX.dataInfo.viewPortMax&&(!dt.connectNullData||!Tt)))if("number"!=typeof ct[gt].y)dt.connectNullData||Tt||L||b(),Tt=!0;else{pt=B.axisX.convertValueToPixel(xt),ut=B.axisY.convertValueToPixel(ct[gt].y),L||Tt?(!L&&dt.connectNullData?(et.setLineDash&&(dt.options.nullDataLineDashType||j===dt.lineDashType&&dt.lineDashType!==dt.nullDataLineDashType)&&(L=pt,j=ut,pt=at.x,ut=at.y,b(),et.moveTo(at.x,at.y),pt=L,ut=j,bt=at,j=dt.nullDataLineDashType,et.setLineDash(wt)),et.lineTo(pt,ut),it&&st.lineTo(pt,ut)):(et.beginPath(),et.moveTo(pt,ut),it&&(st.beginPath(),st.moveTo(pt,ut)),bt={x:pt,y:ut}),Tt=L=!1):(et.lineTo(pt,ut),it&&st.lineTo(pt,ut),0==gt%250&&b()),at={x:pt,y:ut},gt<ct.length-1&&(kt!==(ct[gt].lineColor||yt)||j!==(ct[gt].lineDashType||dt.lineDashType))&&(b(),kt=ct[gt].lineColor||yt,et.strokeStyle=kt,et.setLineDash&&(ct[gt].lineDashType?(j=ct[gt].lineDashType,et.setLineDash(N(j,dt.lineThickness))):(j=dt.lineDashType,et.setLineDash(Mt))));var Ct=dt.dataPointIds[gt];this._eventManager.objectMap[Ct]={id:Ct,objectType:"dataPoint",dataSeriesIndex:ht,dataPointIndex:gt,x1:pt,y1:ut},0!==ct[gt].markerSize&&(0<ct[gt].markerSize||0<dt.markerSize)&&(xt=dt.getMarkerProperties(gt,pt,ut,et),ot.push(xt),Ct=Q(Ct),it&&ot.push({x:pt,y:ut,ctx:st,type:xt.type,size:xt.size,color:Ct,borderColor:Ct,borderThickness:xt.borderThickness})),(ct[gt].indexLabel||dt.indexLabel||ct[gt].indexLabelFormatter||dt.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:ct[gt],dataSeries:dt,point:{x:pt,y:ut},direction:0>ct[gt].y===B.axisY.reversed?1:-1,color:vt})}b(),_.drawMarkers(ot)}}return it&&(tt.drawImage(this._preRenderCanvas,0,0,this.width,this.height),et.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&et.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&et.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),et.clearRect(rt.x1,rt.y1,rt.width,rt.height),this._eventManager.ghostCtx.restore()),et.restore(),{source:tt,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderSplineArea=function(B){function d(){var u=w(mt,2);if(0<u.length){if(0<rt.lineThickness){j.beginPath(),j.moveTo(u[0].x,u[0].y),u[0].newStrokeStyle&&(j.strokeStyle=u[0].newStrokeStyle),u[0].newLineDashArray&&j.setLineDash(u[0].newLineDashArray);for(var _=0;_<u.length-3;_+=3)j.bezierCurveTo(u[_+1].x,u[_+1].y,u[_+2].x,u[_+2].y,u[_+3].x,u[_+3].y),it&&tt.bezierCurveTo(u[_+1].x,u[_+1].y,u[_+2].x,u[_+2].y,u[_+3].x,u[_+3].y),(u[_+3].newStrokeStyle||u[_+3].newLineDashArray)&&(j.stroke(),j.beginPath(),j.moveTo(u[_+3].x,u[_+3].y),u[_+3].newStrokeStyle&&(j.strokeStyle=u[_+3].newStrokeStyle),u[_+3].newLineDashArray&&j.setLineDash(u[_+3].newLineDashArray));j.stroke()}for(j.beginPath(),j.moveTo(u[0].x,u[0].y),it&&(tt.beginPath(),tt.moveTo(u[0].x,u[0].y)),_=0;_<u.length-3;_+=3)j.bezierCurveTo(u[_+1].x,u[_+1].y,u[_+2].x,u[_+2].y,u[_+3].x,u[_+3].y),it&&tt.bezierCurveTo(u[_+1].x,u[_+1].y,u[_+2].x,u[_+2].y,u[_+3].x,u[_+3].y);B.axisY.logarithmic||0>=B.axisY.viewportMinimum&&0<=B.axisY.viewportMaximum?ct=ut:0>B.axisY.viewportMaximum?ct=et.y1:0<B.axisY.viewportMinimum&&(ct=ut),xt={x:u[0].x,y:u[0].y},j.lineTo(u[u.length-1].x,ct),j.lineTo(xt.x,ct),j.closePath(),j.globalAlpha=rt.fillOpacity,j.fill(),j.globalAlpha=1,it&&(tt.lineTo(u[u.length-1].x,ct),tt.lineTo(xt.x,ct),tt.closePath(),tt.fill())}}var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt=this._eventManager.ghostCtx,et=B.axisY.lineCoordinates,at=[],st=this.plotArea;j.save(),it&&tt.save(),j.beginPath(),j.rect(st.x1,st.y1,st.width,st.height),j.clip(),it&&(tt.beginPath(),tt.rect(st.x1,st.y1,st.width,st.height),tt.clip());for(var nt=0;nt<B.dataSeriesIndexes.length;nt++){var ot=B.dataSeriesIndexes[nt],rt=this.data[ot],lt=rt.dataPoints;at=rt.id,this._eventManager.objectMap[at]={objectType:"dataSeries",dataSeriesIndex:ot},at=Q(at),tt.fillStyle=at,at=[];var ht,dt,ct,pt=0,ut=B.axisY.convertValueToPixel(B.axisY.logarithmic?B.axisY.viewportMinimum:0),xt=null,mt=[];if(0<lt.length){var gt=rt._colorSet[pt%rt._colorSet.length],ft=rt.lineColor=rt.options.lineColor||gt,bt=ft;j.fillStyle=gt,j.strokeStyle=ft,j.lineWidth=rt.lineThickness;var vt="solid";if(j.setLineDash){var yt=N(rt.nullDataLineDashType,rt.lineThickness),kt=N(vt=rt.lineDashType,rt.lineThickness);j.setLineDash(kt)}for(dt=!1;pt<lt.length;pt++)if(!((ht=lt[pt].x.getTime?lt[pt].x.getTime():lt[pt].x)<B.axisX.dataInfo.viewPortMin||ht>B.axisX.dataInfo.viewPortMax&&(!rt.connectNullData||!dt)))if("number"!=typeof lt[pt].y)0<pt&&!dt&&(rt.connectNullData?j.setLineDash&&0<mt.length&&(rt.options.nullDataLineDashType||!lt[pt-1].lineDashType)&&(mt[mt.length-1].newLineDashArray=yt,vt=rt.nullDataLineDashType):(d(),mt=[])),dt=!0;else{ht=B.axisX.convertValueToPixel(ht),dt=B.axisY.convertValueToPixel(lt[pt].y);var wt=rt.dataPointIds[pt];if(this._eventManager.objectMap[wt]={id:wt,objectType:"dataPoint",dataSeriesIndex:ot,dataPointIndex:pt,x1:ht,y1:dt},mt[mt.length]={x:ht,y:dt},pt<lt.length-1&&(bt!==(lt[pt].lineColor||ft)||vt!==(lt[pt].lineDashType||rt.lineDashType))&&(bt=lt[pt].lineColor||ft,mt[mt.length-1].newStrokeStyle=bt,j.setLineDash&&(lt[pt].lineDashType?(vt=lt[pt].lineDashType,mt[mt.length-1].newLineDashArray=N(vt,rt.lineThickness)):(vt=rt.lineDashType,mt[mt.length-1].newLineDashArray=kt))),0!==lt[pt].markerSize&&(0<lt[pt].markerSize||0<rt.markerSize)){var Mt=rt.getMarkerProperties(pt,ht,dt,j);at.push(Mt),wt=Q(wt),it&&at.push({x:ht,y:dt,ctx:tt,type:Mt.type,size:Mt.size,color:wt,borderColor:wt,borderThickness:Mt.borderThickness})}(lt[pt].indexLabel||rt.indexLabel||lt[pt].indexLabelFormatter||rt.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:lt[pt],dataSeries:rt,point:{x:ht,y:dt},direction:0>lt[pt].y===B.axisY.reversed?1:-1,color:gt}),dt=!1}d(),_.drawMarkers(at)}}return it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(st.x1,st.y1,st.width,st.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderStepArea=function(B){var L,j;function b(){bt&&(0<dt.lineThickness&&et.stroke(),B.axisY.logarithmic||0>=B.axisY.viewportMinimum&&0<=B.axisY.viewportMaximum?mt=ft:0>B.axisY.viewportMaximum?mt=nt.y1:0<B.axisY.viewportMinimum&&(mt=ft),et.lineTo(pt,mt),et.lineTo(bt.x,mt),et.closePath(),et.globalAlpha=dt.fillOpacity,et.fill(),et.globalAlpha=1,it&&(st.lineTo(pt,mt),st.lineTo(bt.x,mt),st.closePath(),st.fill()),et.beginPath(),et.moveTo(pt,ut),st.beginPath(),st.moveTo(pt,ut),bt={x:pt,y:ut})}var tt=B.targetCanvasCtx||this.plotArea.ctx,et=it?this._preRenderCtx:tt;if(!(0>=B.dataSeriesIndexes.length)){var at,st=this._eventManager.ghostCtx,nt=B.axisY.lineCoordinates,ot=[],rt=this.plotArea;et.save(),it&&st.save(),et.beginPath(),et.rect(rt.x1,rt.y1,rt.width,rt.height),et.clip(),it&&(st.beginPath(),st.rect(rt.x1,rt.y1,rt.width,rt.height),st.clip());for(var lt=0;lt<B.dataSeriesIndexes.length;lt++){var ht=B.dataSeriesIndexes[lt],dt=this.data[ht],ct=dt.dataPoints;ot=dt.id,this._eventManager.objectMap[ot]={objectType:"dataSeries",dataSeriesIndex:ht},ot=Q(ot),st.fillStyle=ot,ot=[],L=!0;var pt,ut,xt,mt,gt=0,ft=B.axisY.convertValueToPixel(B.axisY.logarithmic?B.axisY.viewportMinimum:0),bt=null;if(j=!1,0<ct.length){var vt=dt._colorSet[gt%dt._colorSet.length],yt=dt.lineColor=dt.options.lineColor||vt,kt=yt;et.fillStyle=vt,et.strokeStyle=yt,et.lineWidth=dt.lineThickness;var wt="solid";if(et.setLineDash){var Mt=N(dt.nullDataLineDashType,dt.lineThickness),Tt=N(wt=dt.lineDashType,dt.lineThickness);et.setLineDash(Tt)}for(;gt<ct.length;gt++)if(!((xt=ct[gt].x.getTime?ct[gt].x.getTime():ct[gt].x)<B.axisX.dataInfo.viewPortMin||xt>B.axisX.dataInfo.viewPortMax&&(!dt.connectNullData||!j))){var Ct=ut;"number"!=typeof ct[gt].y?(dt.connectNullData||j||L||b(),j=!0):(pt=B.axisX.convertValueToPixel(xt),ut=B.axisY.convertValueToPixel(ct[gt].y),L||j?(!L&&dt.connectNullData?(et.setLineDash&&(dt.options.nullDataLineDashType||wt===dt.lineDashType&&dt.lineDashType!==dt.nullDataLineDashType)&&(L=pt,j=ut,pt=at.x,ut=at.y,b(),et.moveTo(at.x,at.y),pt=L,ut=j,bt=at,wt=dt.nullDataLineDashType,et.setLineDash(Mt)),et.lineTo(pt,Ct),et.lineTo(pt,ut),it&&(st.lineTo(pt,Ct),st.lineTo(pt,ut))):(et.beginPath(),et.moveTo(pt,ut),it&&(st.beginPath(),st.moveTo(pt,ut)),bt={x:pt,y:ut}),j=L=!1):(et.lineTo(pt,Ct),it&&st.lineTo(pt,Ct),et.lineTo(pt,ut),it&&st.lineTo(pt,ut),0==gt%250&&b()),at={x:pt,y:ut},gt<ct.length-1&&(kt!==(ct[gt].lineColor||yt)||wt!==(ct[gt].lineDashType||dt.lineDashType))&&(b(),kt=ct[gt].lineColor||yt,et.strokeStyle=kt,et.setLineDash&&(ct[gt].lineDashType?(wt=ct[gt].lineDashType,et.setLineDash(N(wt,dt.lineThickness))):(wt=dt.lineDashType,et.setLineDash(Tt)))),xt=dt.dataPointIds[gt],this._eventManager.objectMap[xt]={id:xt,objectType:"dataPoint",dataSeriesIndex:ht,dataPointIndex:gt,x1:pt,y1:ut},0!==ct[gt].markerSize&&(0<ct[gt].markerSize||0<dt.markerSize)&&(Ct=dt.getMarkerProperties(gt,pt,ut,et),ot.push(Ct),xt=Q(xt),it&&ot.push({x:pt,y:ut,ctx:st,type:Ct.type,size:Ct.size,color:xt,borderColor:xt,borderThickness:Ct.borderThickness})),(ct[gt].indexLabel||dt.indexLabel||ct[gt].indexLabelFormatter||dt.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:ct[gt],dataSeries:dt,point:{x:pt,y:ut},direction:0>ct[gt].y===B.axisY.reversed?1:-1,color:vt}))}b(),_.drawMarkers(ot)}}return it&&(tt.drawImage(this._preRenderCanvas,0,0,this.width,this.height),et.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&et.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&et.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),et.clearRect(rt.x1,rt.y1,rt.width,rt.height),this._eventManager.ghostCtx.restore()),et.restore(),{source:tt,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderStackedArea=function(B){function d(){if(!(1>ct.length)){for(0<vt.lineThickness&&j.stroke();0<ct.length;){var u=ct.pop();j.lineTo(u.x,u.y),it&&gt.lineTo(u.x,u.y)}j.closePath(),j.globalAlpha=vt.fillOpacity,j.fill(),j.globalAlpha=1,j.beginPath(),it&&(gt.closePath(),gt.fill(),gt.beginPath()),ct=[]}}var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt,et,at,st,nt,ot=null,rt=null,lt=[],ht=this.plotArea,dt=[],ct=[],pt=[],ut=[],xt=0,mt=B.axisY.convertValueToPixel(B.axisY.logarithmic?B.axisY.viewportMinimum:0),gt=this._eventManager.ghostCtx;it&&gt.beginPath(),j.save(),it&&gt.save(),j.beginPath(),j.rect(ht.x1,ht.y1,ht.width,ht.height),j.clip(),it&&(gt.beginPath(),gt.rect(ht.x1,ht.y1,ht.width,ht.height),gt.clip()),ot=[];for(var ft=0;ft<B.dataSeriesIndexes.length;ft++){var bt=B.dataSeriesIndexes[ft],vt=this.data[bt],yt=vt.dataPoints;for(vt.dataPointIndexes=[],xt=0;xt<yt.length;xt++)bt=yt[xt].x.getTime?yt[xt].x.getTime():yt[xt].x,vt.dataPointIndexes[bt]=xt,ot[bt]||(pt.push(bt),ot[bt]=!0);pt.sort(Pa)}for(ft=0;ft<B.dataSeriesIndexes.length;ft++){if(bt=B.dataSeriesIndexes[ft],yt=(vt=this.data[bt]).dataPoints,st=!0,ct=[],xt=vt.id,this._eventManager.objectMap[xt]={objectType:"dataSeries",dataSeriesIndex:bt},xt=Q(xt),gt.fillStyle=xt,0<pt.length){ot=vt._colorSet[0];var kt=vt.lineColor=vt.options.lineColor||ot,wt=kt;if(j.fillStyle=ot,j.strokeStyle=kt,j.lineWidth=vt.lineThickness,nt="solid",j.setLineDash){var Mt=N(vt.nullDataLineDashType,vt.lineThickness),Tt=N(nt=vt.lineDashType,vt.lineThickness);j.setLineDash(Tt)}var Ct=!0;for(xt=0;xt<pt.length;xt++){rt=pt[xt];var St=0<=vt.dataPointIndexes[rt]?yt[vt.dataPointIndexes[rt]]:{x:rt,y:null};if(!(rt<B.axisX.dataInfo.viewPortMin||rt>B.axisX.dataInfo.viewPortMax&&(!vt.connectNullData||!Ct)))if("number"!=typeof St.y)vt.connectNullData||Ct||st||d(),Ct=!0;else{tt=B.axisX.convertValueToPixel(rt);var Pt=dt[rt]?dt[rt]:0;if(B.axisY.logarithmic||B.axisY.scaleBreaks&&0<B.axisY.scaleBreaks._appliedBreaks.length){if(ut[rt]=St.y+(ut[rt]?ut[rt]:0),0>=ut[rt]&&B.axisY.logarithmic)continue;et=B.axisY.convertValueToPixel(ut[rt])}else et=B.axisY.convertValueToPixel(St.y),et-=Pt;if(ct.push({x:tt,y:mt-Pt}),dt[rt]=mt-et,st||Ct?(!st&&vt.connectNullData?(j.setLineDash&&(vt.options.nullDataLineDashType||nt===vt.lineDashType&&vt.lineDashType!==vt.nullDataLineDashType)&&(st=ct.pop(),nt=ct[ct.length-1],d(),j.moveTo(at.x,at.y),ct.push(nt),ct.push(st),nt=vt.nullDataLineDashType,j.setLineDash(Mt)),j.lineTo(tt,et),it&&gt.lineTo(tt,et)):(j.beginPath(),j.moveTo(tt,et),it&&(gt.beginPath(),gt.moveTo(tt,et))),Ct=st=!1):(j.lineTo(tt,et),it&&gt.lineTo(tt,et),0==xt%250&&(d(),j.moveTo(tt,et),it&&gt.moveTo(tt,et),ct.push({x:tt,y:mt-Pt}))),at={x:tt,y:et},xt<yt.length-1&&(wt!==(yt[xt].lineColor||kt)||nt!==(yt[xt].lineDashType||vt.lineDashType))&&(d(),j.beginPath(),j.moveTo(tt,et),ct.push({x:tt,y:mt-Pt}),wt=yt[xt].lineColor||kt,j.strokeStyle=wt,j.setLineDash&&(yt[xt].lineDashType?(nt=yt[xt].lineDashType,j.setLineDash(N(nt,vt.lineThickness))):(nt=vt.lineDashType,j.setLineDash(Tt)))),0<=vt.dataPointIndexes[rt]){var At=vt.dataPointIds[vt.dataPointIndexes[rt]];this._eventManager.objectMap[At]={id:At,objectType:"dataPoint",dataSeriesIndex:bt,dataPointIndex:vt.dataPointIndexes[rt],x1:tt,y1:et}}0<=vt.dataPointIndexes[rt]&&0!==St.markerSize&&(0<St.markerSize||0<vt.markerSize)&&(Pt=vt.getMarkerProperties(vt.dataPointIndexes[rt],tt,et,j),lt.push(Pt),rt=Q(At),it&&lt.push({x:tt,y:et,ctx:gt,type:Pt.type,size:Pt.size,color:rt,borderColor:rt,borderThickness:Pt.borderThickness})),(St.indexLabel||vt.indexLabel||St.indexLabelFormatter||vt.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:St,dataSeries:vt,point:{x:tt,y:et},direction:0>yt[xt].y===B.axisY.reversed?1:-1,color:ot})}}d(),j.moveTo(tt,et),it&&gt.moveTo(tt,et)}delete vt.dataPointIndexes}return _.drawMarkers(lt),it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(ht.x1,ht.y1,ht.width,ht.height),gt.restore()),j.restore(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderStackedArea100=function(B){function d(){for(0<vt.lineThickness&&j.stroke();0<ct.length;){var u=ct.pop();j.lineTo(u.x,u.y),it&&gt.lineTo(u.x,u.y)}j.closePath(),j.globalAlpha=vt.fillOpacity,j.fill(),j.globalAlpha=1,j.beginPath(),it&&(gt.closePath(),gt.fill(),gt.beginPath()),ct=[]}var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt,et,at,st,nt,ot=null,rt=null,lt=this.plotArea,ht=[],dt=[],ct=[],pt=[],ut=[],xt=0,mt=B.axisY.convertValueToPixel(B.axisY.logarithmic?B.axisY.viewportMinimum:0),gt=this._eventManager.ghostCtx;j.save(),it&&gt.save(),j.beginPath(),j.rect(lt.x1,lt.y1,lt.width,lt.height),j.clip(),it&&(gt.beginPath(),gt.rect(lt.x1,lt.y1,lt.width,lt.height),gt.clip()),ot=[];for(var ft=0;ft<B.dataSeriesIndexes.length;ft++){var bt=B.dataSeriesIndexes[ft],vt=this.data[bt],yt=vt.dataPoints;for(vt.dataPointIndexes=[],xt=0;xt<yt.length;xt++)bt=yt[xt].x.getTime?yt[xt].x.getTime():yt[xt].x,vt.dataPointIndexes[bt]=xt,ot[bt]||(pt.push(bt),ot[bt]=!0);pt.sort(Pa)}for(ft=0;ft<B.dataSeriesIndexes.length;ft++){if(bt=B.dataSeriesIndexes[ft],yt=(vt=this.data[bt]).dataPoints,st=!0,ot=vt.id,this._eventManager.objectMap[ot]={objectType:"dataSeries",dataSeriesIndex:bt},ot=Q(ot),gt.fillStyle=ot,ct=[],0<pt.length){ot=vt._colorSet[xt%vt._colorSet.length];var kt=vt.lineColor=vt.options.lineColor||ot,wt=kt;if(j.fillStyle=ot,j.strokeStyle=kt,j.lineWidth=vt.lineThickness,nt="solid",j.setLineDash){var Mt=N(vt.nullDataLineDashType,vt.lineThickness),Tt=N(nt=vt.lineDashType,vt.lineThickness);j.setLineDash(Tt)}var Ct=!0;for(xt=0;xt<pt.length;xt++){rt=pt[xt];var St=0<=vt.dataPointIndexes[rt]?yt[vt.dataPointIndexes[rt]]:{x:rt,y:null};if(!(rt<B.axisX.dataInfo.viewPortMin||rt>B.axisX.dataInfo.viewPortMax&&(!vt.connectNullData||!Ct)))if("number"!=typeof St.y)vt.connectNullData||Ct||st||d(),Ct=!0;else{var Pt;Pt=0!==B.dataPointYSums[rt]?St.y/B.dataPointYSums[rt]*100:0,tt=B.axisX.convertValueToPixel(rt);var At=dt[rt]?dt[rt]:0;if(B.axisY.logarithmic||B.axisY.scaleBreaks&&0<B.axisY.scaleBreaks._appliedBreaks.length){if(ut[rt]=Pt+(ut[rt]?ut[rt]:0),0>=ut[rt]&&B.axisY.logarithmic)continue;et=B.axisY.convertValueToPixel(ut[rt])}else et=B.axisY.convertValueToPixel(Pt),et-=At;if(ct.push({x:tt,y:mt-At}),dt[rt]=mt-et,st||Ct?(!st&&vt.connectNullData?(j.setLineDash&&(vt.options.nullDataLineDashType||nt===vt.lineDashType&&vt.lineDashType!==vt.nullDataLineDashType)&&(st=ct.pop(),nt=ct[ct.length-1],d(),j.moveTo(at.x,at.y),ct.push(nt),ct.push(st),nt=vt.nullDataLineDashType,j.setLineDash(Mt)),j.lineTo(tt,et),it&&gt.lineTo(tt,et)):(j.beginPath(),j.moveTo(tt,et),it&&(gt.beginPath(),gt.moveTo(tt,et))),Ct=st=!1):(j.lineTo(tt,et),it&&gt.lineTo(tt,et),0==xt%250&&(d(),j.moveTo(tt,et),it&&gt.moveTo(tt,et),ct.push({x:tt,y:mt-At}))),at={x:tt,y:et},xt<yt.length-1&&(wt!==(yt[xt].lineColor||kt)||nt!==(yt[xt].lineDashType||vt.lineDashType))&&(d(),j.beginPath(),j.moveTo(tt,et),ct.push({x:tt,y:mt-At}),wt=yt[xt].lineColor||kt,j.strokeStyle=wt,j.setLineDash&&(yt[xt].lineDashType?(nt=yt[xt].lineDashType,j.setLineDash(N(nt,vt.lineThickness))):(nt=vt.lineDashType,j.setLineDash(Tt)))),0<=vt.dataPointIndexes[rt]){var _t=vt.dataPointIds[vt.dataPointIndexes[rt]];this._eventManager.objectMap[_t]={id:_t,objectType:"dataPoint",dataSeriesIndex:bt,dataPointIndex:vt.dataPointIndexes[rt],x1:tt,y1:et}}0<=vt.dataPointIndexes[rt]&&0!==St.markerSize&&(0<St.markerSize||0<vt.markerSize)&&(At=vt.getMarkerProperties(xt,tt,et,j),ht.push(At),rt=Q(_t),it&&ht.push({x:tt,y:et,ctx:gt,type:At.type,size:At.size,color:rt,borderColor:rt,borderThickness:At.borderThickness})),(St.indexLabel||vt.indexLabel||St.indexLabelFormatter||vt.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:St,dataSeries:vt,point:{x:tt,y:et},direction:0>yt[xt].y===B.axisY.reversed?1:-1,color:ot})}}d(),j.moveTo(tt,et),it&&gt.moveTo(tt,et)}delete vt.dataPointIndexes}return _.drawMarkers(ht),it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(lt.x1,lt.y1,lt.width,lt.height),gt.restore()),j.restore(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderBubble=function(B){var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt,et,at=this.plotArea,st=0;j.save(),it&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(at.x1,at.y1,at.width,at.height),j.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.clip());for(var nt=-1/0,ot=1/0,rt=0;rt<B.dataSeriesIndexes.length;rt++){var lt=B.dataSeriesIndexes[rt],ht=this.data[lt],dt=ht.dataPoints,ct=0;for(st=0;st<dt.length;st++)(tt=tt=dt[st].getTime?dt[st].x.getTime():dt[st].x)<B.axisX.dataInfo.viewPortMin||tt>B.axisX.dataInfo.viewPortMax||void 0===dt[st].z||((ct=dt[st].z)>nt&&(nt=ct),ct<ot&&(ot=ct))}var pt=25*Math.PI,ut=Math.max(Math.pow(.25*Math.min(at.height,at.width)/2,2)*Math.PI,pt);for(rt=0;rt<B.dataSeriesIndexes.length;rt++)if(lt=B.dataSeriesIndexes[rt],0<(dt=(ht=this.data[lt]).dataPoints).length)for(j.strokeStyle="#4572A7 ",st=0;st<dt.length;st++)if(!((tt=tt=dt[st].getTime?dt[st].x.getTime():dt[st].x)<B.axisX.dataInfo.viewPortMin||tt>B.axisX.dataInfo.viewPortMax)&&"number"==typeof dt[st].y){tt=B.axisX.convertValueToPixel(tt),et=B.axisY.convertValueToPixel(dt[st].y),ct=dt[st].z;var xt=2*Math.max(Math.sqrt((nt===ot?ut/2:pt+(ut-pt)/(nt-ot)*(ct-ot))/Math.PI)<<0,1);(ct=ht.getMarkerProperties(st,j)).size=xt,j.globalAlpha=ht.fillOpacity,_.drawMarker(tt,et,j,ct.type,ct.size,ct.color,ct.borderColor,ct.borderThickness),j.globalAlpha=1;var mt=ht.dataPointIds[st];this._eventManager.objectMap[mt]={id:mt,objectType:"dataPoint",dataSeriesIndex:lt,dataPointIndex:st,x1:tt,y1:et,size:xt},xt=Q(mt),it&&_.drawMarker(tt,et,this._eventManager.ghostCtx,ct.type,ct.size,xt,xt,ct.borderThickness),(dt[st].indexLabel||ht.indexLabel||dt[st].indexLabelFormatter||ht.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:dt[st],dataSeries:ht,point:{x:tt,y:et},direction:1,bounds:{x1:tt-ct.size/2,y1:et-ct.size/2,x2:tt+ct.size/2,y2:et+ct.size/2},color:null})}return it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:L,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}},m.prototype.renderScatter=function(B){var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt,et,at=this.plotArea,st=0;j.save(),it&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(at.x1,at.y1,at.width,at.height),j.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.clip());for(var nt=0;nt<B.dataSeriesIndexes.length;nt++){var ot=B.dataSeriesIndexes[nt],rt=this.data[ot],lt=rt.dataPoints;if(0<lt.length){j.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(at.height,at.width)/2,2);var ht=0,dt=0;for(st=0;st<lt.length;st++)if(!((tt=tt=lt[st].getTime?lt[st].x.getTime():lt[st].x)<B.axisX.dataInfo.viewPortMin||tt>B.axisX.dataInfo.viewPortMax)&&"number"==typeof lt[st].y){tt=B.axisX.convertValueToPixel(tt),et=B.axisY.convertValueToPixel(lt[st].y);var ct=rt.getMarkerProperties(st,tt,et,j);j.globalAlpha=rt.fillOpacity,_.drawMarker(ct.x,ct.y,ct.ctx,ct.type,ct.size,ct.color,ct.borderColor,ct.borderThickness),j.globalAlpha=1,Math.sqrt((ht-tt)*(ht-tt)+(dt-et)*(dt-et))<Math.min(ct.size,5)&&lt.length>Math.min(this.plotArea.width,this.plotArea.height)||(ht=rt.dataPointIds[st],this._eventManager.objectMap[ht]={id:ht,objectType:"dataPoint",dataSeriesIndex:ot,dataPointIndex:st,x1:tt,y1:et},ht=Q(ht),it&&_.drawMarker(ct.x,ct.y,this._eventManager.ghostCtx,ct.type,ct.size,ht,ht,ct.borderThickness),(lt[st].indexLabel||rt.indexLabel||lt[st].indexLabelFormatter||rt.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:lt[st],dataSeries:rt,point:{x:tt,y:et},direction:1,bounds:{x1:tt-ct.size/2,y1:et-ct.size/2,x2:tt+ct.size/2,y2:et+ct.size/2},color:null}),ht=tt,dt=et)}}}return it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:L,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}},m.prototype.renderCandlestick=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B,j=this._eventManager.ghostCtx;if(!(0>=_.dataSeriesIndexes.length)){var tt,et,at,st,nt,ot,rt=null,lt=null,ht=this.plotArea,dt=0,ct=(rt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,lt=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,_.axisX.dataInfo.minDiff);isFinite(ct)||(ct=.3*Math.abs(_.axisX.range)),ct=this.options.dataPointWidth?this.dataPointWidth:.7*ht.width*(_.axisX.logarithmic?Math.log(ct)/Math.log(_.axisX.range):Math.abs(ct)/Math.abs(_.axisX.range))<<0,this.dataPointMaxWidth&&rt>lt&&(rt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,lt)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&lt<rt&&(lt=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,rt)),ct<rt&&(ct=rt),ct>lt&&(ct=lt),L.save(),it&&j.save(),L.beginPath(),L.rect(ht.x1,ht.y1,ht.width,ht.height),L.clip(),it&&(j.beginPath(),j.rect(ht.x1,ht.y1,ht.width,ht.height),j.clip());for(var pt=0;pt<_.dataSeriesIndexes.length;pt++){var ut=_.dataSeriesIndexes[pt],xt=this.data[ut],mt=xt.dataPoints;if(0<mt.length){var gt=!!(5<ct&&xt.bevelEnabled);for(dt=0;dt<mt.length;dt++)if(!((ot=mt[dt].getTime?mt[dt].x.getTime():mt[dt].x)<_.axisX.dataInfo.viewPortMin||ot>_.axisX.dataInfo.viewPortMax)&&!s(mt[dt].y)&&mt[dt].y.length&&"number"==typeof mt[dt].y[0]&&"number"==typeof mt[dt].y[1]&&"number"==typeof mt[dt].y[2]&&"number"==typeof mt[dt].y[3]){tt=_.axisX.convertValueToPixel(ot),et=_.axisY.convertValueToPixel(mt[dt].y[0]),at=_.axisY.convertValueToPixel(mt[dt].y[1]),st=_.axisY.convertValueToPixel(mt[dt].y[2]),nt=_.axisY.convertValueToPixel(mt[dt].y[3]);var ft=tt-ct/2<<0,bt=ft+ct<<0,vt=(lt=xt.options.fallingColor?xt.fallingColor:xt._colorSet[0],rt=mt[dt].color?mt[dt].color:xt._colorSet[0],Math.round(Math.max(1,.15*ct))),yt=0==vt%2?0:.5,kt=xt.dataPointIds[dt];this._eventManager.objectMap[kt]={id:kt,objectType:"dataPoint",dataSeriesIndex:ut,dataPointIndex:dt,x1:ft,y1:et,x2:bt,y2:at,x3:tt,y3:st,x4:tt,y4:nt,borderThickness:vt,color:rt},L.strokeStyle=rt,L.beginPath(),L.lineWidth=vt,j.lineWidth=Math.max(vt,4),"candlestick"===xt.type?(L.moveTo(tt-yt,at),L.lineTo(tt-yt,Math.min(et,nt)),L.stroke(),L.moveTo(tt-yt,Math.max(et,nt)),L.lineTo(tt-yt,st),L.stroke(),ca(L,ft,Math.min(et,nt),bt,Math.max(et,nt),mt[dt].y[0]<=mt[dt].y[3]?xt.risingColor:lt,vt,rt,gt,gt,!1,!1,xt.fillOpacity),it&&(rt=Q(kt),j.strokeStyle=rt,j.moveTo(tt-yt,at),j.lineTo(tt-yt,Math.min(et,nt)),j.stroke(),j.moveTo(tt-yt,Math.max(et,nt)),j.lineTo(tt-yt,st),j.stroke(),ca(j,ft,Math.min(et,nt),bt,Math.max(et,nt),rt,0,null,!1,!1,!1,!1))):"ohlc"===xt.type&&(L.moveTo(tt-yt,at),L.lineTo(tt-yt,st),L.stroke(),L.beginPath(),L.moveTo(tt,et),L.lineTo(ft,et),L.stroke(),L.beginPath(),L.moveTo(tt,nt),L.lineTo(bt,nt),L.stroke(),it&&(rt=Q(kt),j.strokeStyle=rt,j.moveTo(tt-yt,at),j.lineTo(tt-yt,st),j.stroke(),j.beginPath(),j.moveTo(tt,et),j.lineTo(ft,et),j.stroke(),j.beginPath(),j.moveTo(tt,nt),j.lineTo(bt,nt),j.stroke())),(mt[dt].indexLabel||xt.indexLabel||mt[dt].indexLabelFormatter||xt.indexLabelFormatter)&&this._indexLabels.push({chartType:xt.type,dataPoint:mt[dt],dataSeries:xt,point:{x:ft+(bt-ft)/2,y:_.axisY.reversed?st:at},direction:1,bounds:{x1:ft,y1:Math.min(at,st),x2:bt,y2:Math.max(at,st)},color:rt})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(ht.x1,ht.y1,ht.width,ht.height),j.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}},m.prototype.renderBoxAndWhisker=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B,j=this._eventManager.ghostCtx;if(!(0>=_.dataSeriesIndexes.length)){var tt,et,at,st,nt,ot,rt,lt=null,ht=this.plotArea,dt=0,ct=(lt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,dt=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,_.axisX.dataInfo.minDiff);isFinite(ct)||(ct=.3*Math.abs(_.axisX.range)),ct=this.options.dataPointWidth?this.dataPointWidth:.7*ht.width*(_.axisX.logarithmic?Math.log(ct)/Math.log(_.axisX.range):Math.abs(ct)/Math.abs(_.axisX.range))<<0,this.dataPointMaxWidth&&lt>dt&&(lt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,dt)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&dt<lt&&(dt=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,lt)),ct<lt&&(ct=lt),ct>dt&&(ct=dt),L.save(),it&&j.save(),L.beginPath(),L.rect(ht.x1,ht.y1,ht.width,ht.height),L.clip(),it&&(j.beginPath(),j.rect(ht.x1,ht.y1,ht.width,ht.height),j.clip());for(var pt=!!_.axisY.reversed,ut=0;ut<_.dataSeriesIndexes.length;ut++){var xt=_.dataSeriesIndexes[ut],mt=this.data[xt],gt=mt.dataPoints;if(0<gt.length){var ft=!!(5<ct&&mt.bevelEnabled);for(dt=0;dt<gt.length;dt++)if(!((rt=gt[dt].getTime?gt[dt].x.getTime():gt[dt].x)<_.axisX.dataInfo.viewPortMin||rt>_.axisX.dataInfo.viewPortMax)&&!s(gt[dt].y)&&gt[dt].y.length&&"number"==typeof gt[dt].y[0]&&"number"==typeof gt[dt].y[1]&&"number"==typeof gt[dt].y[2]&&"number"==typeof gt[dt].y[3]&&"number"==typeof gt[dt].y[4]&&5===gt[dt].y.length){tt=_.axisX.convertValueToPixel(rt),et=_.axisY.convertValueToPixel(gt[dt].y[0]),at=_.axisY.convertValueToPixel(gt[dt].y[1]),st=_.axisY.convertValueToPixel(gt[dt].y[2]),nt=_.axisY.convertValueToPixel(gt[dt].y[3]),ot=_.axisY.convertValueToPixel(gt[dt].y[4]);var bt=tt-ct/2<<0,vt=tt+ct/2<<0,yt=(lt=gt[dt].color?gt[dt].color:mt._colorSet[0],Math.round(Math.max(1,.15*ct))),kt=0==yt%2?0:.5,wt=gt[dt].whiskerColor?gt[dt].whiskerColor:gt[dt].color?mt.whiskerColor?mt.whiskerColor:gt[dt].color:mt.whiskerColor?mt.whiskerColor:lt,Mt="number"==typeof gt[dt].whiskerThickness?gt[dt].whiskerThickness:"number"==typeof mt.options.whiskerThickness?mt.whiskerThickness:yt,Tt=gt[dt].whiskerDashType?gt[dt].whiskerDashType:mt.whiskerDashType,Ct="number"==typeof(Ct=s(gt[dt].whiskerLength)?s(mt.options.whiskerLength)?ct:mt.whiskerLength:gt[dt].whiskerLength)?0>=Ct?0:Ct>=ct?ct:Ct:"string"==typeof Ct?parseInt(Ct)*ct/100>ct?ct:parseInt(Ct)*ct/100:ct,St=1==Math.round(Mt)%2?.5:0,Pt=gt[dt].stemColor?gt[dt].stemColor:gt[dt].color?mt.stemColor?mt.stemColor:gt[dt].color:mt.stemColor?mt.stemColor:lt,At="number"==typeof gt[dt].stemThickness?gt[dt].stemThickness:"number"==typeof mt.options.stemThickness?mt.stemThickness:yt,_t=1==Math.round(At)%2?.5:0,Bt=gt[dt].stemDashType?gt[dt].stemDashType:mt.stemDashType,Ft=gt[dt].lineColor?gt[dt].lineColor:gt[dt].color?mt.lineColor?mt.lineColor:gt[dt].color:mt.lineColor?mt.lineColor:lt,It="number"==typeof gt[dt].lineThickness?gt[dt].lineThickness:"number"==typeof mt.options.lineThickness?mt.lineThickness:yt,Lt=gt[dt].lineDashType?gt[dt].lineDashType:mt.lineDashType,Dt=1==Math.round(It)%2?.5:0,Vt=mt.upperBoxColor,zt=mt.lowerBoxColor,Wt=s(mt.options.fillOpacity)?1:mt.fillOpacity,Et=mt.dataPointIds[dt];this._eventManager.objectMap[Et]={id:Et,objectType:"dataPoint",dataSeriesIndex:xt,dataPointIndex:dt,x1:bt,y1:et,x2:vt,y2:at,x3:tt,y3:st,x4:tt,y4:nt,y5:ot,borderThickness:yt,color:lt,stemThickness:At,stemColor:Pt,whiskerThickness:Mt,whiskerLength:Ct,whiskerColor:wt,lineThickness:It,lineColor:Ft},L.save(),0<At&&(L.beginPath(),L.strokeStyle=Pt,L.lineWidth=At,L.setLineDash&&L.setLineDash(N(Bt,At)),L.moveTo(tt-_t,at),L.lineTo(tt-_t,et),L.stroke(),L.moveTo(tt-_t,nt),L.lineTo(tt-_t,st),L.stroke()),L.restore(),j.lineWidth=Math.max(yt,4),L.beginPath(),ca(L,bt,Math.min(ot,at),vt,Math.max(at,ot),zt,0,lt,!!pt&&ft,!pt&&ft,!1,!1,Wt),L.beginPath(),ca(L,bt,Math.min(st,ot),vt,Math.max(ot,st),Vt,0,lt,!pt&&ft,!!pt&&ft,!1,!1,Wt),L.beginPath(),L.lineWidth=yt,L.strokeStyle=lt,L.rect(bt-kt,Math.min(at,st)-kt,vt-bt+2*kt,Math.max(at,st)-Math.min(at,st)+2*kt),L.stroke(),L.save(),0<It&&(L.beginPath(),L.globalAlpha=1,L.setLineDash&&L.setLineDash(N(Lt,It)),L.strokeStyle=Ft,L.lineWidth=It,L.moveTo(bt,ot-Dt),L.lineTo(vt,ot-Dt),L.stroke()),L.restore(),L.save(),0<Mt&&(L.beginPath(),L.setLineDash&&L.setLineDash(N(Tt,Mt)),L.strokeStyle=wt,L.lineWidth=Mt,L.moveTo(tt-Ct/2<<0,nt-St),L.lineTo(tt+Ct/2<<0,nt-St),L.stroke(),L.moveTo(tt-Ct/2<<0,et+St),L.lineTo(tt+Ct/2<<0,et+St),L.stroke()),L.restore(),it&&(lt=Q(Et),j.strokeStyle=lt,j.lineWidth=At,0<At&&(j.moveTo(tt-kt-_t,at),j.lineTo(tt-kt-_t,Math.max(et,nt)),j.stroke(),j.moveTo(tt-kt-_t,Math.min(et,nt)),j.lineTo(tt-kt-_t,st),j.stroke()),ca(j,bt,Math.max(at,st),vt,Math.min(at,st),lt,0,null,!1,!1,!1,!1),0<Mt&&(j.beginPath(),j.lineWidth=Mt,j.moveTo(tt+Ct/2,nt-St),j.lineTo(tt-Ct/2,nt-St),j.stroke(),j.moveTo(tt+Ct/2,et+St),j.lineTo(tt-Ct/2,et+St),j.stroke())),(gt[dt].indexLabel||mt.indexLabel||gt[dt].indexLabelFormatter||mt.indexLabelFormatter)&&this._indexLabels.push({chartType:mt.type,dataPoint:gt[dt],dataSeries:mt,point:{x:bt+(vt-bt)/2,y:_.axisY.reversed?et:nt},direction:1,bounds:{x1:bt,y1:Math.min(et,nt),x2:vt,y2:Math.max(et,nt)},color:lt})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(ht.x1,ht.y1,ht.width,ht.height),j.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}},m.prototype.renderRangeColumn=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et,at=null,st=this.plotArea,nt=0;nt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,j=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var ot=_.axisX.dataInfo.minDiff;isFinite(ot)||(ot=.3*Math.abs(_.axisX.range)),ot=this.options.dataPointWidth?this.dataPointWidth:st.width*(_.axisX.logarithmic?Math.log(ot)/Math.log(_.axisX.range):Math.abs(ot)/Math.abs(_.axisX.range))/_.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&nt>j&&(nt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,j)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&j<nt&&(j=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,nt)),ot<nt&&(ot=nt),ot>j&&(ot=j),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(st.x1,st.y1,st.width,st.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(st.x1,st.y1,st.width,st.height),this._eventManager.ghostCtx.clip());for(var rt=0;rt<_.dataSeriesIndexes.length;rt++){var lt=_.dataSeriesIndexes[rt],ht=this.data[lt],dt=ht.dataPoints;if(0<dt.length){var ct=!!(5<ot&&ht.bevelEnabled);for(nt=0;nt<dt.length;nt++)if(!((et=dt[nt].getTime?dt[nt].x.getTime():dt[nt].x)<_.axisX.dataInfo.viewPortMin||et>_.axisX.dataInfo.viewPortMax)&&!s(dt[nt].y)&&dt[nt].y.length&&"number"==typeof dt[nt].y[0]&&"number"==typeof dt[nt].y[1]){at=_.axisX.convertValueToPixel(et),j=_.axisY.convertValueToPixel(dt[nt].y[0]),tt=_.axisY.convertValueToPixel(dt[nt].y[1]);var pt=_.axisX.reversed?at+_.plotType.totalDataSeries*ot/2-(_.previousDataSeriesCount+rt)*ot<<0:at-_.plotType.totalDataSeries*ot/2+(_.previousDataSeriesCount+rt)*ot<<0,ut=_.axisX.reversed?pt-ot<<0:pt+ot<<0;if(at=dt[nt].color?dt[nt].color:ht._colorSet[nt%ht._colorSet.length],j>tt){var xt=j;j=tt,tt=xt}xt=ht.dataPointIds[nt],this._eventManager.objectMap[xt]={id:xt,objectType:"dataPoint",dataSeriesIndex:lt,dataPointIndex:nt,x1:pt,y1:j,x2:ut,y2:tt},ca(L,pt,j,ut,tt,at,0,at,ct,ct,!1,!1,ht.fillOpacity),at=Q(xt),it&&ca(this._eventManager.ghostCtx,pt,j,ut,tt,at,0,null,!1,!1,!1,!1),(dt[nt].indexLabel||ht.indexLabel||dt[nt].indexLabelFormatter||ht.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:dt[nt],dataSeries:ht,indexKeyword:0,point:{x:pt+(ut-pt)/2,y:dt[nt].y[1]>=dt[nt].y[0]?tt:j},direction:dt[nt].y[1]>=dt[nt].y[0]?-1:1,bounds:{x1:pt,y1:Math.min(j,tt),x2:ut,y2:Math.max(j,tt)},color:at}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:dt[nt],dataSeries:ht,indexKeyword:1,point:{x:pt+(ut-pt)/2,y:dt[nt].y[1]>=dt[nt].y[0]?j:tt},direction:dt[nt].y[1]>=dt[nt].y[0]?1:-1,bounds:{x1:pt,y1:Math.min(j,tt),x2:ut,y2:Math.max(j,tt)},color:at}))}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(st.x1,st.y1,st.width,st.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}},m.prototype.renderError=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B,j=!!_.axisY._position&&"left"!==_.axisY._position&&"right"!==_.axisY._position;if(!(0>=_.dataSeriesIndexes.length)){var tt,et,at,st,nt,ot,rt,lt=null,ht=!1,dt=this.plotArea,ct=0,pt=_.axisX.dataInfo.minDiff;isFinite(pt)||(pt=.3*Math.abs(_.axisX.range)),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(dt.x1,dt.y1,dt.width,dt.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(dt.x1,dt.y1,dt.width,dt.height),this._eventManager.ghostCtx.clip());for(var ut=0,xt=0;xt<this.data.length;xt++)!this.data[xt].type.match(/(bar|column)/gi)||!this.data[xt].visible||this.data[xt].type.match(/(stacked)/gi)&&ut||ut++;for(var mt=0;mt<_.dataSeriesIndexes.length;mt++){var gt=_.dataSeriesIndexes[mt],ft=this.data[gt],bt=ft.dataPoints,vt=!s(ft._linkedSeries)&&!(!ft._linkedSeries.type.match(/(bar|column)/gi)||!ft._linkedSeries.visible),yt=0;if(vt)for(lt=ft._linkedSeries.id,xt=0;xt<lt;xt++)!this.data[xt].type.match(/(bar|column)/gi)||!this.data[xt].visible||this.data[xt].type.match(/(stacked)/gi)&&yt||(this.data[xt].type.match(/(range)/gi)&&(ht=!0),yt++);if(lt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,ct=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:j?Math.min(.15*this.height,this.plotArea.height/(vt?ut:1)*.9)<<0:.3*this.width,ht&&(ct=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:j?Math.min(.15*this.height,this.plotArea.height/(vt?ut:1)*.9)<<0:.03*this.width),xt=this.options.dataPointWidth?this.dataPointWidth:(j?dt.height:dt.width)*(_.axisX.logarithmic?Math.log(pt)/Math.log(_.axisX.range):Math.abs(pt)/Math.abs(_.axisX.range))/(vt?ut:1)*.9<<0,this.dataPointMaxWidth&&lt>ct&&(lt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,ct)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&ct<lt&&(ct=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,lt)),xt<lt&&(xt=lt),xt>ct&&(xt=ct),0<bt.length){var kt=ft._colorSet;for(ct=0;ct<bt.length;ct++){lt=ft.lineColor=ft.options.color?ft.options.color:kt[0];var wt={color:bt[ct].whiskerColor?bt[ct].whiskerColor:bt[ct].color?ft.whiskerColor?ft.whiskerColor:bt[ct].color:ft.whiskerColor?ft.whiskerColor:lt,thickness:s(bt[ct].whiskerThickness)?ft.whiskerThickness:bt[ct].whiskerThickness,dashType:bt[ct].whiskerDashType?bt[ct].whiskerDashType:ft.whiskerDashType,length:s(bt[ct].whiskerLength)?s(ft.options.whiskerLength)?xt:ft.options.whiskerLength:bt[ct].whiskerLength,trimLength:s(bt[ct].whiskerLength)&&s(ft.options.whiskerLength)?50:0};wt.length="number"==typeof wt.length?0>=wt.length?0:wt.length>=xt?xt:wt.length:"string"==typeof wt.length?parseInt(wt.length)*xt/100>xt?xt:parseInt(wt.length)*xt/100>xt:xt,wt.thickness="number"==typeof wt.thickness?0>wt.thickness?0:Math.round(wt.thickness):2;var Mt={color:bt[ct].stemColor?bt[ct].stemColor:bt[ct].color?ft.stemColor?ft.stemColor:bt[ct].color:ft.stemColor?ft.stemColor:lt,thickness:bt[ct].stemThickness?bt[ct].stemThickness:ft.stemThickness,dashType:bt[ct].stemDashType?bt[ct].stemDashType:ft.stemDashType};if(Mt.thickness="number"==typeof Mt.thickness?0>Mt.thickness?0:Math.round(Mt.thickness):2,!((rt=bt[ct].getTime?bt[ct].x.getTime():bt[ct].x)<_.axisX.dataInfo.viewPortMin||rt>_.axisX.dataInfo.viewPortMax)&&!s(bt[ct].y)&&bt[ct].y.length&&"number"==typeof bt[ct].y[0]&&"number"==typeof bt[ct].y[1]){var Tt=_.axisX.convertValueToPixel(rt);j?et=Tt:tt=Tt,Tt=_.axisY.convertValueToPixel(bt[ct].y[0]),j?at=Tt:nt=Tt,Tt=_.axisY.convertValueToPixel(bt[ct].y[1]),j?st=Tt:ot=Tt,j?(nt=_.axisX.reversed?et+(vt?ut:1)*xt/2-(vt?yt-1:0)*xt<<0:et-(vt?ut:1)*xt/2+(vt?yt-1:0)*xt<<0,ot=_.axisX.reversed?nt-xt<<0:nt+xt<<0):(at=_.axisX.reversed?tt+(vt?ut:1)*xt/2-(vt?yt-1:0)*xt<<0:tt-(vt?ut:1)*xt/2+(vt?yt-1:0)*xt<<0,st=_.axisX.reversed?at-xt<<0:at+xt<<0),!j&&nt>ot&&(Tt=nt,nt=ot,ot=Tt),j&&at>st&&(Tt=at,at=st,st=Tt),Tt=ft.dataPointIds[ct],this._eventManager.objectMap[Tt]={id:Tt,objectType:"dataPoint",dataSeriesIndex:gt,dataPointIndex:ct,x1:Math.min(at,st),y1:Math.min(nt,ot),x2:Math.max(st,at),y2:Math.max(ot,nt),isXYSwapped:j,stemProperties:Mt,whiskerProperties:wt},y(L,Math.min(at,st),Math.min(nt,ot),Math.max(st,at),Math.max(ot,nt),lt,wt,Mt,j),it&&y(this._eventManager.ghostCtx,at,nt,st,ot,lt,wt,Mt,j),(bt[ct].indexLabel||ft.indexLabel||bt[ct].indexLabelFormatter||ft.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:bt[ct],dataSeries:ft,indexKeyword:0,point:{x:j?bt[ct].y[1]>=bt[ct].y[0]?at:st:at+(st-at)/2,y:j?nt+(ot-nt)/2:bt[ct].y[1]>=bt[ct].y[0]?ot:nt},direction:bt[ct].y[1]>=bt[ct].y[0]?-1:1,bounds:{x1:j?Math.min(at,st):at,y1:j?nt:Math.min(nt,ot),x2:j?Math.max(at,st):st,y2:j?ot:Math.max(nt,ot)},color:lt,axisSwapped:j}),this._indexLabels.push({chartType:"error",dataPoint:bt[ct],dataSeries:ft,indexKeyword:1,point:{x:j?bt[ct].y[1]>=bt[ct].y[0]?st:at:at+(st-at)/2,y:j?nt+(ot-nt)/2:bt[ct].y[1]>=bt[ct].y[0]?nt:ot},direction:bt[ct].y[1]>=bt[ct].y[0]?1:-1,bounds:{x1:j?Math.min(at,st):at,y1:j?nt:Math.min(nt,ot),x2:j?Math.max(at,st):st,y2:j?ot:Math.max(nt,ot)},color:lt,axisSwapped:j}))}}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(dt.x1,dt.y1,dt.width,dt.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}},m.prototype.renderRangeBar=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et,at,st=null,nt=this.plotArea,ot=0;ot=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,j=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/_.plotType.totalDataSeries*.9)<<0;var rt=_.axisX.dataInfo.minDiff;isFinite(rt)||(rt=.3*Math.abs(_.axisX.range)),rt=this.options.dataPointWidth?this.dataPointWidth:nt.height*(_.axisX.logarithmic?Math.log(rt)/Math.log(_.axisX.range):Math.abs(rt)/Math.abs(_.axisX.range))/_.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&ot>j&&(ot=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,j)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&j<ot&&(j=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,ot)),rt<ot&&(rt=ot),rt>j&&(rt=j),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(nt.x1,nt.y1,nt.width,nt.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(nt.x1,nt.y1,nt.width,nt.height),this._eventManager.ghostCtx.clip());for(var lt=0;lt<_.dataSeriesIndexes.length;lt++){var ht=_.dataSeriesIndexes[lt],dt=this.data[ht],ct=dt.dataPoints;if(0<ct.length){var pt=!!(5<rt&&dt.bevelEnabled);for(L.strokeStyle="#4572A7 ",ot=0;ot<ct.length;ot++)if(!((at=ct[ot].getTime?ct[ot].x.getTime():ct[ot].x)<_.axisX.dataInfo.viewPortMin||at>_.axisX.dataInfo.viewPortMax)&&!s(ct[ot].y)&&ct[ot].y.length&&"number"==typeof ct[ot].y[0]&&"number"==typeof ct[ot].y[1]){j=_.axisY.convertValueToPixel(ct[ot].y[0]),tt=_.axisY.convertValueToPixel(ct[ot].y[1]),et=_.axisX.convertValueToPixel(at),et=_.axisX.reversed?et+_.plotType.totalDataSeries*rt/2-(_.previousDataSeriesCount+lt)*rt<<0:et-_.plotType.totalDataSeries*rt/2+(_.previousDataSeriesCount+lt)*rt<<0;var ut=_.axisX.reversed?et-rt<<0:et+rt<<0;j>tt&&(st=j,j=tt,tt=st),st=ct[ot].color?ct[ot].color:dt._colorSet[ot%dt._colorSet.length],ca(L,j,et,tt,ut,st,0,null,pt,!1,!1,!1,dt.fillOpacity),st=dt.dataPointIds[ot],this._eventManager.objectMap[st]={id:st,objectType:"dataPoint",dataSeriesIndex:ht,dataPointIndex:ot,x1:j,y1:et,x2:tt,y2:ut},st=Q(st),it&&ca(this._eventManager.ghostCtx,j,et,tt,ut,st,0,null,!1,!1,!1,!1),(ct[ot].indexLabel||dt.indexLabel||ct[ot].indexLabelFormatter||dt.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:ct[ot],dataSeries:dt,indexKeyword:0,point:{x:ct[ot].y[1]>=ct[ot].y[0]?j:tt,y:et+(ut-et)/2},direction:ct[ot].y[1]>=ct[ot].y[0]?-1:1,bounds:{x1:Math.min(j,tt),y1:et,x2:Math.max(j,tt),y2:ut},color:st}),this._indexLabels.push({chartType:"rangeBar",dataPoint:ct[ot],dataSeries:dt,indexKeyword:1,point:{x:ct[ot].y[1]>=ct[ot].y[0]?tt:j,y:et+(ut-et)/2},direction:ct[ot].y[1]>=ct[ot].y[0]?1:-1,bounds:{x1:Math.min(j,tt),y1:et,x2:Math.max(j,tt),y2:ut},color:st}))}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(nt.x1,nt.y1,nt.width,nt.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}},m.prototype.renderRangeArea=function(B){function d(){if(mt){for(var u=null,_=nt.length-1;0<=_;_--)u=nt[_],j.lineTo(u.x,u.y2),tt.lineTo(u.x,u.y2);if(j.closePath(),j.globalAlpha=rt.fillOpacity,j.fill(),j.globalAlpha=1,tt.fill(),0<rt.lineThickness){for(j.beginPath(),j.moveTo(u.x,u.y2),_=0;_<nt.length;_++)u=nt[_],j.lineTo(u.x,u.y2);for(j.moveTo(nt[0].x,nt[0].y1),_=0;_<nt.length;_++)u=nt[_],j.lineTo(u.x,u.y1);j.stroke()}j.beginPath(),j.moveTo(ht,dt),tt.beginPath(),tt.moveTo(ht,dt),mt={x:ht,y:dt},(nt=[]).push({x:ht,y1:dt,y2:ct})}}var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt=this._eventManager.ghostCtx,et=[],at=this.plotArea;j.save(),it&&tt.save(),j.beginPath(),j.rect(at.x1,at.y1,at.width,at.height),j.clip(),it&&(tt.beginPath(),tt.rect(at.x1,at.y1,at.width,at.height),tt.clip());for(var st=0;st<B.dataSeriesIndexes.length;st++){var nt=[],ot=B.dataSeriesIndexes[st],rt=this.data[ot],lt=rt.dataPoints;et=rt.id,this._eventManager.objectMap[et]={objectType:"dataSeries",dataSeriesIndex:ot},et=Q(et),tt.fillStyle=et,et=[];var ht,dt,ct,pt,ut=!0,xt=0,mt=null;if(0<lt.length){var gt=rt._colorSet[xt%rt._colorSet.length],ft=rt.lineColor=rt.options.lineColor||gt,bt=ft;j.fillStyle=gt,j.strokeStyle=ft,j.lineWidth=rt.lineThickness;var vt="solid";if(j.setLineDash){var yt=N(rt.nullDataLineDashType,rt.lineThickness),kt=N(vt=rt.lineDashType,rt.lineThickness);j.setLineDash(kt)}for(var wt=!0;xt<lt.length;xt++)if(!((pt=lt[xt].x.getTime?lt[xt].x.getTime():lt[xt].x)<B.axisX.dataInfo.viewPortMin||pt>B.axisX.dataInfo.viewPortMax&&(!rt.connectNullData||!wt)))if(null!==lt[xt].y&&lt[xt].y.length&&"number"==typeof lt[xt].y[0]&&"number"==typeof lt[xt].y[1]){if(ht=B.axisX.convertValueToPixel(pt),dt=B.axisY.convertValueToPixel(lt[xt].y[0]),ct=B.axisY.convertValueToPixel(lt[xt].y[1]),ut||wt?(rt.connectNullData&&!ut?(j.setLineDash&&(rt.options.nullDataLineDashType||vt===rt.lineDashType&&rt.lineDashType!==rt.nullDataLineDashType)&&(nt[nt.length-1].newLineDashArray=kt,vt=rt.nullDataLineDashType,j.setLineDash(yt)),j.lineTo(ht,dt),it&&tt.lineTo(ht,dt),nt.push({x:ht,y1:dt,y2:ct})):(j.beginPath(),j.moveTo(ht,dt),mt={x:ht,y:dt},(nt=[]).push({x:ht,y1:dt,y2:ct}),it&&(tt.beginPath(),tt.moveTo(ht,dt))),wt=ut=!1):(j.lineTo(ht,dt),nt.push({x:ht,y1:dt,y2:ct}),it&&tt.lineTo(ht,dt),0==xt%250&&d()),pt=rt.dataPointIds[xt],this._eventManager.objectMap[pt]={id:pt,objectType:"dataPoint",dataSeriesIndex:ot,dataPointIndex:xt,x1:ht,y1:dt,y2:ct},xt<lt.length-1&&(bt!==(lt[xt].lineColor||ft)||vt!==(lt[xt].lineDashType||rt.lineDashType))&&(d(),bt=lt[xt].lineColor||ft,nt[nt.length-1].newStrokeStyle=bt,j.strokeStyle=bt,j.setLineDash&&(lt[xt].lineDashType?(vt=lt[xt].lineDashType,nt[nt.length-1].newLineDashArray=N(vt,rt.lineThickness),j.setLineDash(nt[nt.length-1].newLineDashArray)):(vt=rt.lineDashType,nt[nt.length-1].newLineDashArray=kt,j.setLineDash(kt)))),0!==lt[xt].markerSize&&(0<lt[xt].markerSize||0<rt.markerSize)){var Mt=rt.getMarkerProperties(xt,ht,ct,j);et.push(Mt);var Tt=Q(pt);it&&et.push({x:ht,y:ct,ctx:tt,type:Mt.type,size:Mt.size,color:Tt,borderColor:Tt,borderThickness:Mt.borderThickness}),Mt=rt.getMarkerProperties(xt,ht,dt,j),et.push(Mt),Tt=Q(pt),it&&et.push({x:ht,y:dt,ctx:tt,type:Mt.type,size:Mt.size,color:Tt,borderColor:Tt,borderThickness:Mt.borderThickness})}(lt[xt].indexLabel||rt.indexLabel||lt[xt].indexLabelFormatter||rt.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:lt[xt],dataSeries:rt,indexKeyword:0,point:{x:ht,y:dt},direction:lt[xt].y[0]>lt[xt].y[1]===B.axisY.reversed?-1:1,color:gt}),this._indexLabels.push({chartType:"rangeArea",dataPoint:lt[xt],dataSeries:rt,indexKeyword:1,point:{x:ht,y:ct},direction:lt[xt].y[0]>lt[xt].y[1]===B.axisY.reversed?1:-1,color:gt}))}else wt||ut||d(),wt=!0;d(),_.drawMarkers(et)}}return it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderRangeSplineArea=function(B){function d(u,_){var B=w(pt,2);if(0<B.length){if(0<ot.lineThickness){j.strokeStyle=_,j.setLineDash&&j.setLineDash(u),j.beginPath(),j.moveTo(B[0].x,B[0].y);for(var L=0;L<B.length-3;L+=3)(B[L].newStrokeStyle||B[L].newLineDashArray)&&(j.stroke(),j.beginPath(),j.moveTo(B[L].x,B[L].y),B[L].newStrokeStyle&&(j.strokeStyle=B[L].newStrokeStyle),B[L].newLineDashArray&&j.setLineDash(B[L].newLineDashArray)),j.bezierCurveTo(B[L+1].x,B[L+1].y,B[L+2].x,B[L+2].y,B[L+3].x,B[L+3].y)}for(j.beginPath(),j.moveTo(B[0].x,B[0].y),it&&(tt.beginPath(),tt.moveTo(B[0].x,B[0].y)),L=0;L<B.length-3;L+=3)j.bezierCurveTo(B[L+1].x,B[L+1].y,B[L+2].x,B[L+2].y,B[L+3].x,B[L+3].y),it&&tt.bezierCurveTo(B[L+1].x,B[L+1].y,B[L+2].x,B[L+2].y,B[L+3].x,B[L+3].y);for(B=w(ut,2),j.lineTo(ut[ut.length-1].x,ut[ut.length-1].y),L=B.length-1;2<L;L-=3)j.bezierCurveTo(B[L-1].x,B[L-1].y,B[L-2].x,B[L-2].y,B[L-3].x,B[L-3].y),it&&tt.bezierCurveTo(B[L-1].x,B[L-1].y,B[L-2].x,B[L-2].y,B[L-3].x,B[L-3].y);if(j.closePath(),j.globalAlpha=ot.fillOpacity,j.fill(),it&&(tt.closePath(),tt.fill()),j.globalAlpha=1,0<ot.lineThickness){j.strokeStyle=_,j.setLineDash&&j.setLineDash(u),j.beginPath(),j.moveTo(B[0].x,B[0].y);for(var et=L=0;L<B.length-3;L+=3,et++)(pt[et].newStrokeStyle||pt[et].newLineDashArray)&&(j.stroke(),j.beginPath(),j.moveTo(B[L].x,B[L].y),pt[et].newStrokeStyle&&(j.strokeStyle=pt[et].newStrokeStyle),pt[et].newLineDashArray&&j.setLineDash(pt[et].newLineDashArray)),j.bezierCurveTo(B[L+1].x,B[L+1].y,B[L+2].x,B[L+2].y,B[L+3].x,B[L+3].y);for(B=w(pt,2),j.moveTo(B[0].x,B[0].y),et=L=0;L<B.length-3;L+=3,et++)(pt[et].newStrokeStyle||pt[et].newLineDashArray)&&(j.stroke(),j.beginPath(),j.moveTo(B[L].x,B[L].y),pt[et].newStrokeStyle&&(j.strokeStyle=pt[et].newStrokeStyle),pt[et].newLineDashArray&&j.setLineDash(pt[et].newLineDashArray)),j.bezierCurveTo(B[L+1].x,B[L+1].y,B[L+2].x,B[L+2].y,B[L+3].x,B[L+3].y);j.stroke()}j.beginPath()}}var L=B.targetCanvasCtx||this.plotArea.ctx,j=it?this._preRenderCtx:L;if(!(0>=B.dataSeriesIndexes.length)){var tt=this._eventManager.ghostCtx,et=[],at=this.plotArea;j.save(),it&&tt.save(),j.beginPath(),j.rect(at.x1,at.y1,at.width,at.height),j.clip(),it&&(tt.beginPath(),tt.rect(at.x1,at.y1,at.width,at.height),tt.clip());for(var st=0;st<B.dataSeriesIndexes.length;st++){var nt=B.dataSeriesIndexes[st],ot=this.data[nt],rt=ot.dataPoints;et=ot.id,this._eventManager.objectMap[et]={objectType:"dataSeries",dataSeriesIndex:nt},et=Q(et),tt.fillStyle=et,et=[];var lt,ht,dt,ct=0,pt=[],ut=[];if(0<rt.length){var xt=ot._colorSet[ct%ot._colorSet.length],mt=ot.lineColor=ot.options.lineColor||xt,gt=mt;j.fillStyle=xt,j.lineWidth=ot.lineThickness;var ft,bt="solid";if(j.setLineDash){var vt=N(ot.nullDataLineDashType,ot.lineThickness);ft=N(bt=ot.lineDashType,ot.lineThickness)}for(ht=!1;ct<rt.length;ct++)if(!((lt=rt[ct].x.getTime?rt[ct].x.getTime():rt[ct].x)<B.axisX.dataInfo.viewPortMin||lt>B.axisX.dataInfo.viewPortMax&&(!ot.connectNullData||!ht)))if(null!==rt[ct].y&&rt[ct].y.length&&"number"==typeof rt[ct].y[0]&&"number"==typeof rt[ct].y[1]){lt=B.axisX.convertValueToPixel(lt),ht=B.axisY.convertValueToPixel(rt[ct].y[0]),dt=B.axisY.convertValueToPixel(rt[ct].y[1]);var yt=ot.dataPointIds[ct];if(this._eventManager.objectMap[yt]={id:yt,objectType:"dataPoint",dataSeriesIndex:nt,dataPointIndex:ct,x1:lt,y1:ht,y2:dt},pt[pt.length]={x:lt,y:ht},ut[ut.length]={x:lt,y:dt},ct<rt.length-1&&(gt!==(rt[ct].lineColor||mt)||bt!==(rt[ct].lineDashType||ot.lineDashType))&&(gt=rt[ct].lineColor||mt,pt[pt.length-1].newStrokeStyle=gt,j.setLineDash&&(rt[ct].lineDashType?(bt=rt[ct].lineDashType,pt[pt.length-1].newLineDashArray=N(bt,ot.lineThickness)):(bt=ot.lineDashType,pt[pt.length-1].newLineDashArray=ft))),0!==rt[ct].markerSize&&(0<rt[ct].markerSize||0<ot.markerSize)){var kt=ot.getMarkerProperties(ct,lt,ht,j);et.push(kt);var wt=Q(yt);it&&et.push({x:lt,y:ht,ctx:tt,type:kt.type,size:kt.size,color:wt,borderColor:wt,borderThickness:kt.borderThickness}),kt=ot.getMarkerProperties(ct,lt,dt,j),et.push(kt),wt=Q(yt),it&&et.push({x:lt,y:dt,ctx:tt,type:kt.type,size:kt.size,color:wt,borderColor:wt,borderThickness:kt.borderThickness})}(rt[ct].indexLabel||ot.indexLabel||rt[ct].indexLabelFormatter||ot.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:rt[ct],dataSeries:ot,indexKeyword:0,point:{x:lt,y:ht},direction:rt[ct].y[0]<=rt[ct].y[1]?-1:1,color:xt}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:rt[ct],dataSeries:ot,indexKeyword:1,point:{x:lt,y:dt},direction:rt[ct].y[0]<=rt[ct].y[1]?1:-1,color:xt})),ht=!1}else 0<ct&&!ht&&(ot.connectNullData?j.setLineDash&&0<pt.length&&(ot.options.nullDataLineDashType||!rt[ct-1].lineDashType)&&(pt[pt.length-1].newLineDashArray=vt,bt=ot.nullDataLineDashType):(d(ft,mt),pt=[],ut=[])),ht=!0;d(ft,mt),_.drawMarkers(et)}}return it&&(L.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",B.axisX.maskCanvas&&j.drawImage(B.axisX.maskCanvas,0,0,this.width,this.height),B.axisY.maskCanvas&&j.drawImage(B.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(at.x1,at.y1,at.width,at.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:L,dest:this.plotArea.ctx,animationCallback:u.xClipAnimation,easingFunction:u.easing.linear,animationBase:0}}},m.prototype.renderWaterfall=function(_){var B=_.targetCanvasCtx||this.plotArea.ctx,L=it?this._preRenderCtx:B;if(!(0>=_.dataSeriesIndexes.length)){var j,tt,et,at,st=this._eventManager.ghostCtx,nt=null,ot=this.plotArea,rt=0,lt=_.axisY.convertValueToPixel(_.axisY.logarithmic?_.axisY.viewportMinimum:0);rt=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,tt=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/_.plotType.totalDataSeries*.9)<<0;var ht=_.axisX.dataInfo.minDiff;isFinite(ht)||(ht=.3*Math.abs(_.axisX.range)),ht=this.options.dataPointWidth?this.dataPointWidth:ot.width*(_.axisX.logarithmic?Math.log(ht)/Math.log(_.axisX.range):Math.abs(ht)/Math.abs(_.axisX.range))/_.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&rt>tt&&(rt=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,tt)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&tt<rt&&(tt=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,rt)),ht<rt&&(ht=rt),ht>tt&&(ht=tt),L.save(),it&&this._eventManager.ghostCtx.save(),L.beginPath(),L.rect(ot.x1,ot.y1,ot.width,ot.height),L.clip(),it&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(ot.x1,ot.y1,ot.width,ot.height),this._eventManager.ghostCtx.clip());for(var dt=0;dt<_.dataSeriesIndexes.length;dt++){var ct=_.dataSeriesIndexes[dt],pt=this.data[ct],ut=pt.dataPoints;nt=pt._colorSet[0],pt.risingColor=pt.options.risingColor?pt.options.risingColor:nt,pt.fallingColor=pt.options.fallingColor?pt.options.fallingColor:"#e40a0a";var xt="number"==typeof pt.options.lineThickness?Math.round(pt.lineThickness):1,mt=1==Math.round(xt)%2?-.5:0;if(0<ut.length){var gt=!!(5<ht&&pt.bevelEnabled),ft=!1,bt=null,vt=null;for(rt=0;rt<ut.length;rt++)if(at=ut[rt].getTime?ut[rt].x.getTime():ut[rt].x,"number"!=typeof ut[rt].y){if(0<rt&&!ft&&pt.connectNullData)var yt=pt.options.nullDataLineDashType||!ut[rt-1].lineDashType?pt.nullDataLineDashType:ut[rt-1].lineDashType;ft=!0}else{j=_.axisX.convertValueToPixel(at),tt=0===pt.dataPointEOs[rt].cumulativeSum?lt:_.axisY.convertValueToPixel(pt.dataPointEOs[rt].cumulativeSum),et=0===pt.dataPointEOs[rt].cumulativeSumYStartValue?lt:_.axisY.convertValueToPixel(pt.dataPointEOs[rt].cumulativeSumYStartValue),j=_.axisX.reversed?j+_.plotType.totalDataSeries*ht/2-(_.previousDataSeriesCount+dt)*ht<<0:j-_.plotType.totalDataSeries*ht/2+(_.previousDataSeriesCount+dt)*ht<<0;var kt=_.axisX.reversed?j-ht<<0:j+ht<<0;tt>et&&(nt=tt,tt=et,et=nt),_.axisY.reversed&&(nt=tt,tt=et,et=nt),nt=pt.dataPointIds[rt],this._eventManager.objectMap[nt]={id:nt,objectType:"dataPoint",dataSeriesIndex:ct,dataPointIndex:rt,x1:j,y1:tt,x2:kt,y2:et};var wt,Mt=ut[rt].color?ut[rt].color:0<ut[rt].y?pt.risingColor:pt.fallingColor;ca(L,j,tt,kt,et,Mt,0,Mt,gt,gt,!1,!1,pt.fillOpacity),nt=Q(nt),it&&ca(this._eventManager.ghostCtx,j,tt,kt,et,nt,0,null,!1,!1,!1,!1),Mt=j,wt=void 0!==ut[rt].isIntermediateSum&&!0===ut[rt].isIntermediateSum||void 0!==ut[rt].isCumulativeSum&&!0===ut[rt].isCumulativeSum?0<ut[rt].y?tt:et:0<ut[rt].y?et:tt,0<rt&&bt&&(!ft||pt.connectNullData)&&(ft&&L.setLineDash&&L.setLineDash(N(yt,xt)),L.beginPath(),L.moveTo(bt,vt-mt),L.lineTo(Mt,wt-mt),0<xt&&L.stroke(),it&&(st.beginPath(),st.moveTo(bt,vt-mt),st.lineTo(Mt,wt-mt),0<xt&&st.stroke())),ft=!1,bt=kt,vt=0<ut[rt].y?tt:et,Mt=ut[rt].lineDashType?ut[rt].lineDashType:pt.options.lineDashType?pt.options.lineDashType:"shortDash",L.strokeStyle=ut[rt].lineColor?ut[rt].lineColor:pt.options.lineColor?pt.options.lineColor:"#9e9e9e",L.lineWidth=xt,L.setLineDash&&(Mt=N(Mt,xt),L.setLineDash(Mt)),(ut[rt].indexLabel||pt.indexLabel||ut[rt].indexLabelFormatter||pt.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:ut[rt],dataSeries:pt,point:{x:j+(kt-j)/2,y:0<=ut[rt].y?tt:et},direction:0>ut[rt].y===_.axisY.reversed?1:-1,bounds:{x1:j,y1:Math.min(tt,et),x2:kt,y2:Math.max(tt,et)},color:nt})}}}return it&&(B.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.globalCompositeOperation="source-atop",_.axisX.maskCanvas&&L.drawImage(_.axisX.maskCanvas,0,0,this.width,this.height),_.axisY.maskCanvas&&L.drawImage(_.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),L.clearRect(ot.x1,ot.y1,ot.width,ot.height),this._eventManager.ghostCtx.restore()),L.restore(),{source:B,dest:this.plotArea.ctx,animationCallback:u.fadeInAnimation,easingFunction:u.easing.easeInQuad,animationBase:0}}};var X=function(u,_,B,L,j,tt,et,at,st){if(!(0>B)){if(void 0===at&&(at=1),!it){var nt=Number((et%(2*Math.PI)).toFixed(8));Number((tt%(2*Math.PI)).toFixed(8))===nt&&(et-=1e-4)}u.save(),u.globalAlpha=at,"pie"===j?(u.beginPath(),u.moveTo(_.x,_.y),u.arc(_.x,_.y,B,tt,et,!1),u.fillStyle=L,u.strokeStyle="white",u.lineWidth=2,u.closePath(),u.fill()):"doughnut"===j&&(u.beginPath(),u.arc(_.x,_.y,B,tt,et,!1),0<=st&&u.arc(_.x,_.y,st*B,et,tt,!0),u.closePath(),u.fillStyle=L,u.strokeStyle="white",u.lineWidth=2,u.fill()),u.globalAlpha=1,u.restore()}};m.prototype.renderPie=function(u){function c(u){var B=_.plotArea.ctx;for(B.clearRect(et.x1,et.y1,et.width,et.height),B.fillStyle=_.backgroundColor,B.fillRect(et.x1,et.y1,et.width,et.height),B=0;B<j.length;B++){var at=it[B].startAngle,st=it[B].endAngle;if(st>at){var nt=.07*dt*Math.cos(it[B].midAngle),ot=.07*dt*Math.sin(it[B].midAngle),lt=!1;j[B].exploded?(1e-9<Math.abs(it[B].center.x-(rt.x+nt))||1e-9<Math.abs(it[B].center.y-(rt.y+ot)))&&(it[B].center.x=rt.x+nt*u,it[B].center.y=rt.y+ot*u,lt=!0):(0<Math.abs(it[B].center.x-rt.x)||0<Math.abs(it[B].center.y-rt.y))&&(it[B].center.x=rt.x+nt*(1-u),it[B].center.y=rt.y+ot*(1-u),lt=!0),lt&&((nt={}).dataSeries=L,nt.dataPoint=L.dataPoints[B],nt.index=B,_.toolTip.highlightObjects([nt])),X(_.plotArea.ctx,it[B].center,it[B].radius,j[B].color?j[B].color:L._colorSet[B%L._colorSet.length],L.type,at,st,L.fillOpacity,it[B].percentInnerRadius)}}for((u=_.plotArea.ctx).save(),u.fillStyle="black",u.strokeStyle="grey",u.textBaseline="middle",u.lineJoin="round",B=B=0;B<j.length;B++)(at=it[B]).indexLabelText&&(at.indexLabelTextBlock.y-=at.indexLabelTextBlock.height/2,st=0,st="left"===at.hemisphere?"inside"!==L.indexLabelPlacement?-(at.indexLabelTextBlock.width+tt):-at.indexLabelTextBlock.width/2:"inside"!==L.indexLabelPlacement?tt:-at.indexLabelTextBlock.width/2,at.indexLabelTextBlock.x+=st,at.indexLabelTextBlock.render(!0),at.indexLabelTextBlock.x-=st,at.indexLabelTextBlock.y+=at.indexLabelTextBlock.height/2,"inside"!==at.indexLabelPlacement&&0<at.indexLabelLineThickness&&(st=at.center.x+dt*Math.cos(at.midAngle),nt=at.center.y+dt*Math.sin(at.midAngle),u.strokeStyle=at.indexLabelLineColor,u.lineWidth=at.indexLabelLineThickness,u.setLineDash&&u.setLineDash(N(at.indexLabelLineDashType,at.indexLabelLineThickness)),u.beginPath(),u.moveTo(st,nt),u.lineTo(at.indexLabelTextBlock.x,at.indexLabelTextBlock.y),u.lineTo(at.indexLabelTextBlock.x+("left"===at.hemisphere?-tt:tt),at.indexLabelTextBlock.y),u.stroke()),u.lineJoin="miter");u.save()}function b(u,_){var B,L=(B=u.indexLabelTextBlock.y-u.indexLabelTextBlock.height/2,u.indexLabelTextBlock.y+u.indexLabelTextBlock.height/2),j=_.indexLabelTextBlock.y-_.indexLabelTextBlock.height/2,tt=_.indexLabelTextBlock.y+_.indexLabelTextBlock.height/2;return _.indexLabelTextBlock.y>u.indexLabelTextBlock.y?j-L:B-tt}function e(u){for(var _=null,B=1;B<j.length;B++){if(_=(u+B+it.length)%it.length,it[_].hemisphere!==it[u].hemisphere){_=null;break}if(it[_].indexLabelText&&_!==u&&(0>b(it[_],it[u])||("right"===it[u].hemisphere?it[_].indexLabelTextBlock.y>=it[u].indexLabelTextBlock.y:it[_].indexLabelTextBlock.y<=it[u].indexLabelTextBlock.y)))break;_=null}return _}function f(u,_,L){if(1e3<(L=(L||0)+1))return 0;_=_||0;var tt=0,et=rt.y-1*B,st=rt.y+1*B;if(0<=u&&u<j.length){var lt=it[u];if(0>_&&lt.indexLabelTextBlock.y<et||0<_&&lt.indexLabelTextBlock.y>st)return 0;var ht=0,ct=0;for(ct=ht=ht=0,0>_?lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2>et&&lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2+_<et&&(_=-(et-(lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2+_))):lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2<et&&lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2+_>st&&(_=lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2+_-st),_=lt.indexLabelTextBlock.y+_,et=0,et="right"===lt.hemisphere?rt.x+Math.sqrt(Math.pow(B,2)-Math.pow(_-rt.y,2)):rt.x-Math.sqrt(Math.pow(B,2)-Math.pow(_-rt.y,2)),ct=rt.x+dt*Math.cos(lt.midAngle),ht=rt.y+dt*Math.sin(lt.midAngle),ht=Math.sqrt(Math.pow(et-ct,2)+Math.pow(_-ht,2)),ct=Math.acos(dt/B),_=(ht=Math.acos((B*B+dt*dt-ht*ht)/(2*dt*B)))<ct?_-lt.indexLabelTextBlock.y:0,et=null,st=1;st<j.length;st++){if(et=(u-st+it.length)%it.length,it[et].hemisphere!==it[u].hemisphere){et=null;break}if(it[et].indexLabelText&&it[et].hemisphere===it[u].hemisphere&&et!==u&&(0>b(it[et],it[u])||("right"===it[u].hemisphere?it[et].indexLabelTextBlock.y<=it[u].indexLabelTextBlock.y:it[et].indexLabelTextBlock.y>=it[u].indexLabelTextBlock.y)))break;et=null}ct=et,ht=e(u),st=et=0,0>_?(tt=_,null!==(st="right"===lt.hemisphere?ct:ht)&&(ct=-_,(_=lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2-(it[st].indexLabelTextBlock.y+it[st].indexLabelTextBlock.height/2))-ct<at&&+(st=f(st,et=-ct,L+1)).toFixed(ot)>+et.toFixed(ot)&&(tt=_>at?-(_-at):-(ct-(st-et))))):0<_&&(tt=_,null!==(st="right"===lt.hemisphere?ht:ct)&&(ct=_,(_=it[st].indexLabelTextBlock.y-it[st].indexLabelTextBlock.height/2-(lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2))-ct<at&&+(st=f(st,et=ct,L+1)).toFixed(ot)<+et.toFixed(ot)&&(tt=_>at?_-at:ct-(et-st)))),tt&&(L=lt.indexLabelTextBlock.y+tt,_=0,_="right"===lt.hemisphere?rt.x+Math.sqrt(Math.pow(B,2)-Math.pow(L-rt.y,2)):rt.x-Math.sqrt(Math.pow(B,2)-Math.pow(L-rt.y,2)),lt.midAngle>Math.PI/2-nt&&lt.midAngle<Math.PI/2+nt?(et=(u-1+it.length)%it.length,et=it[et],u=it[(u+1+it.length)%it.length],"left"===lt.hemisphere&&"right"===et.hemisphere&&_>et.indexLabelTextBlock.x?_=et.indexLabelTextBlock.x-15:"right"===lt.hemisphere&&"left"===u.hemisphere&&_<u.indexLabelTextBlock.x&&(_=u.indexLabelTextBlock.x+15)):lt.midAngle>3*Math.PI/2-nt&&lt.midAngle<3*Math.PI/2+nt&&(et=(u-1+it.length)%it.length,et=it[et],u=it[(u+1+it.length)%it.length],"right"===lt.hemisphere&&"left"===et.hemisphere&&_<et.indexLabelTextBlock.x?_=et.indexLabelTextBlock.x+15:"left"===lt.hemisphere&&"right"===u.hemisphere&&_>u.indexLabelTextBlock.x&&(_=u.indexLabelTextBlock.x-15)),lt.indexLabelTextBlock.y=L,lt.indexLabelTextBlock.x=_,lt.indexLabelAngle=Math.atan2(lt.indexLabelTextBlock.y-rt.y,lt.indexLabelTextBlock.x-rt.x))}return tt}function l(){(xt=_.plotArea.ctx).fillStyle="grey",xt.strokeStyle="grey",xt.font="16px Arial",xt.textBaseline="middle";var u=xt=0,nt=0,lt=!0;for(u=0;10>u&&(1>u||0<nt);u++){if((L.radius||!L.radius&&void 0!==L.innerRadius&&null!==L.innerRadius&&dt-nt<=ct)&&(lt=!1),lt&&(dt-=nt),nt=0,"inside"!==L.indexLabelPlacement){for(B=dt*st,xt=0;xt<j.length;xt++)(mt=it[xt]).indexLabelTextBlock.x=rt.x+B*Math.cos(mt.midAngle),mt.indexLabelTextBlock.y=rt.y+B*Math.sin(mt.midAngle),mt.indexLabelAngle=mt.midAngle,mt.radius=dt,mt.percentInnerRadius=pt;for(var ht,ut,xt=0;xt<j.length;xt++){var mt=it[xt],gt=e(xt);if(null!==gt){ht=it[xt],ut=it[gt];var ft=0;if(0>(ft=b(ht,ut)-at)){for(var bt=ut=0,vt=0;vt<j.length;vt++)vt!==xt&&it[vt].hemisphere===mt.hemisphere&&(it[vt].indexLabelTextBlock.y<mt.indexLabelTextBlock.y?ut++:bt++);bt=-1*(ft-(ut=ft/(ut+bt||1)*bt));var yt=vt=0;"right"===mt.hemisphere?(vt=f(xt,ut),+(yt=f(gt,bt=-1*(ft-vt))).toFixed(ot)<+bt.toFixed(ot)&&+vt.toFixed(ot)<=+ut.toFixed(ot)&&f(xt,-(bt-yt))):(vt=f(gt,ut),+(yt=f(xt,bt=-1*(ft-vt))).toFixed(ot)<+bt.toFixed(ot)&&+vt.toFixed(ot)<=+ut.toFixed(ot)&&f(gt,-(bt-yt)))}}}}else for(xt=0;xt<j.length;xt++)mt=it[xt],B="pie"===L.type?.7*dt:.8*dt,gt=rt.x+B*Math.cos(mt.midAngle),ut=rt.y+B*Math.sin(mt.midAngle),mt.indexLabelTextBlock.x=gt,mt.indexLabelTextBlock.y=ut;for(xt=0;xt<j.length;xt++)0!==(gt=(mt=it[xt]).indexLabelTextBlock.measureText()).height&&0!==gt.width&&(gt=gt=0,"right"===mt.hemisphere?(gt=et.x2-(mt.indexLabelTextBlock.x+mt.indexLabelTextBlock.width+tt),gt*=-1):gt=et.x1-(mt.indexLabelTextBlock.x-mt.indexLabelTextBlock.width-tt),0<gt&&(!lt&&mt.indexLabelText&&(ut="right"===mt.hemisphere?et.x2-mt.indexLabelTextBlock.x:mt.indexLabelTextBlock.x-et.x1,.3*mt.indexLabelTextBlock.maxWidth>ut?mt.indexLabelText="":mt.indexLabelTextBlock.maxWidth=.85*ut,.3*mt.indexLabelTextBlock.maxWidth<ut&&(mt.indexLabelTextBlock.x-="right"===mt.hemisphere?2:-2)),Math.abs(mt.indexLabelTextBlock.y-mt.indexLabelTextBlock.height/2-rt.y)<dt||Math.abs(mt.indexLabelTextBlock.y+mt.indexLabelTextBlock.height/2-rt.y)<dt)&&(9<(gt/=Math.abs(Math.cos(mt.indexLabelAngle)))&&(gt*=.3),gt>nt&&(nt=gt)),gt=gt=0,0<mt.indexLabelAngle&&mt.indexLabelAngle<Math.PI?(gt=et.y2-(mt.indexLabelTextBlock.y+mt.indexLabelTextBlock.height/2+5),gt*=-1):gt=et.y1-(mt.indexLabelTextBlock.y-mt.indexLabelTextBlock.height/2-5),0<gt&&(!lt&&mt.indexLabelText&&0===f(xt,gt*(ut=0<mt.indexLabelAngle&&mt.indexLabelAngle<Math.PI?-1:1))&&f(xt,2*ut),Math.abs(mt.indexLabelTextBlock.x-rt.x)<dt&&(9<(gt/=Math.abs(Math.sin(mt.indexLabelAngle)))&&(gt*=.3),gt>nt&&(nt=gt))));var K=function(u,_,B){for(var L=[],tt=0;L.push(it[_]),_!==B;_=(_+1+j.length)%j.length);for(L.sort((function(u,_){return u.y-_.y})),_=0;_<L.length&&(B=L[_],tt<.7*u);_++)tt+=B.indexLabelTextBlock.height,B.indexLabelTextBlock.text="",B.indexLabelText="",B.indexLabelTextBlock.measureText()};!function(){for(var u=-1,_=-1,B=0,L=!1,et=0;et<j.length;et++)if(L=!1,(ht=it[et]).indexLabelText){var at=e(et);if(null!==at){var st,nt=it[at];if(ft=0,st=0>(ft=b(ht,nt))){st=ht.indexLabelTextBlock.x;var ot=ht.indexLabelTextBlock.y-ht.indexLabelTextBlock.height/2,rt=ht.indexLabelTextBlock.y+ht.indexLabelTextBlock.height/2,lt=nt.indexLabelTextBlock.y-nt.indexLabelTextBlock.height/2,dt=nt.indexLabelTextBlock.x+nt.indexLabelTextBlock.width,ct=nt.indexLabelTextBlock.y+nt.indexLabelTextBlock.height/2;st=!(ht.indexLabelTextBlock.x+ht.indexLabelTextBlock.width<nt.indexLabelTextBlock.x-tt||st>dt+tt||ot>ct+tt||rt<lt-tt)}st?(0>u&&(u=et),at!==u&&(_=at,B+=-ft),0==et%Math.max(j.length/10,3)&&(L=!0)):L=!0,L&&0<B&&0<=u&&0<=_&&(K(B,u,_),_=u=-1,B=0)}}0<B&&K(B,u,_)}()}}function h(){if(_.plotArea.layoutManager.reset(),_.title&&(_.title.dockInsidePlotArea||"center"===_.title.horizontalAlign&&"center"===_.title.verticalAlign)&&_.title.render(),_.subtitles)for(var u=0;u<_.subtitles.length;u++){var B=_.subtitles[u];(B.dockInsidePlotArea||"center"===B.horizontalAlign&&"center"===B.verticalAlign)&&B.render()}_.legend&&(_.legend.dockInsidePlotArea||"center"===_.legend.horizontalAlign&&"center"===_.legend.verticalAlign)&&(_.legend.setLayout(),_.legend.render())}var _=this;if(!(0>=u.dataSeriesIndexes.length)){var B,L=this.data[u.dataSeriesIndexes[0]],j=L.dataPoints,tt=10,et=this.plotArea,it=L.dataPointEOs,at=2,st=1.3,nt=20/180*Math.PI,ot=6,rt={x:(et.x2+et.x1)/2,y:(et.y2+et.y1)/2},lt=0;u=!1;for(var ht=0;ht<j.length;ht++)lt+=Math.abs(j[ht].y),!u&&void 0!==j[ht].indexLabel&&null!==j[ht].indexLabel&&0<j[ht].indexLabel.toString().length&&(u=!0),!u&&void 0!==j[ht].label&&null!==j[ht].label&&0<j[ht].label.toString().length&&(u=!0);if(0!==lt){u=u||void 0!==L.indexLabel&&null!==L.indexLabel&&0<L.indexLabel.toString().length;var dt="inside"!==L.indexLabelPlacement&&u?.75*Math.min(et.width,et.height)/2:.92*Math.min(et.width,et.height)/2;L.radius&&(dt=Ra(L.radius,dt));var ct=void 0!==L.innerRadius&&null!==L.innerRadius?Ra(L.innerRadius,dt):.7*dt;L.radius=dt,"doughnut"===L.type&&(L.innerRadius=ct);var pt=Math.min(ct/dt,(dt-1)/dt);this.pieDoughnutClickHandler=function(u){_.isAnimating||!s(u.dataSeries.explodeOnClick)&&!u.dataSeries.explodeOnClick||((u=u.dataPoint).exploded=!u.exploded,1<this.dataPoints.length&&_._animator.animate(0,500,(function(u){c(u),h(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_}),_.dispatchEvent("dataAnimationEnd",{chart:_})})))},function d(){if(L&&j){for(var u=0,B=0,tt=0,d=0,at=0;at<j.length;at++){var st=j[at],ot=L.dataPointIds[at];it[at].id=ot,it[at].objectType="dataPoint",it[at].dataPointIndex=at,it[at].dataSeriesIndex=0;var ht=it[at],ct={percent:null,total:null},ut=null;ct=_.getPercentAndTotal(L,st),(L.indexLabelFormatter||st.indexLabelFormatter)&&(ut={chart:_.options,dataSeries:L,dataPoint:st,total:ct.total,percent:ct.percent}),ct=st.indexLabelFormatter?st.indexLabelFormatter(ut):st.indexLabel?_.replaceKeywordsWithValue(st.indexLabel,st,L,at):L.indexLabelFormatter?L.indexLabelFormatter(ut):L.indexLabel?_.replaceKeywordsWithValue(L.indexLabel,st,L,at):st.label?st.label:"",_._eventManager.objectMap[ot]=ht,ht.center={x:rt.x,y:rt.y},ht.y=st.y,ht.radius=dt,ht.percentInnerRadius=pt,ht.indexLabelText=ct,ht.indexLabelPlacement=L.indexLabelPlacement,ht.indexLabelLineColor=st.indexLabelLineColor?st.indexLabelLineColor:L.options.indexLabelLineColor?L.options.indexLabelLineColor:st.color?st.color:L._colorSet[at%L._colorSet.length],ht.indexLabelLineThickness=s(st.indexLabelLineThickness)?L.indexLabelLineThickness:st.indexLabelLineThickness,ht.indexLabelLineDashType=st.indexLabelLineDashType?st.indexLabelLineDashType:L.indexLabelLineDashType,ht.indexLabelFontColor=st.indexLabelFontColor?st.indexLabelFontColor:L.indexLabelFontColor,ht.indexLabelFontStyle=st.indexLabelFontStyle?st.indexLabelFontStyle:L.indexLabelFontStyle,ht.indexLabelFontWeight=st.indexLabelFontWeight?st.indexLabelFontWeight:L.indexLabelFontWeight,ht.indexLabelFontSize=s(st.indexLabelFontSize)?L.indexLabelFontSize:st.indexLabelFontSize,ht.indexLabelFontFamily=st.indexLabelFontFamily?st.indexLabelFontFamily:L.indexLabelFontFamily,ht.indexLabelBackgroundColor=st.indexLabelBackgroundColor?st.indexLabelBackgroundColor:L.options.indexLabelBackgroundColor?L.options.indexLabelBackgroundColor:L.indexLabelBackgroundColor,ht.indexLabelMaxWidth=st.indexLabelMaxWidth?st.indexLabelMaxWidth:L.indexLabelMaxWidth?L.indexLabelMaxWidth:.33*et.width,ht.indexLabelWrap=void 0!==st.indexLabelWrap?st.indexLabelWrap:L.indexLabelWrap,ht.startAngle=0===at?L.startAngle?L.startAngle/180*Math.PI:0:it[at-1].endAngle,ht.startAngle=(ht.startAngle+2*Math.PI)%(2*Math.PI),ht.endAngle=ht.startAngle+2*Math.PI/lt*Math.abs(st.y),st=((st=(ht.endAngle+ht.startAngle)/2)+2*Math.PI)%(2*Math.PI),ht.midAngle=st,ht.midAngle>Math.PI/2-nt&&ht.midAngle<Math.PI/2+nt?((0===u||it[tt].midAngle>ht.midAngle)&&(tt=at),u++):ht.midAngle>3*Math.PI/2-nt&&ht.midAngle<3*Math.PI/2+nt&&((0===B||it[d].midAngle>ht.midAngle)&&(d=at),B++),ht.hemisphere=st>Math.PI/2&&st<=3*Math.PI/2?"left":"right",ht.indexLabelTextBlock=new ia(_.plotArea.ctx,{fontSize:ht.indexLabelFontSize,fontFamily:ht.indexLabelFontFamily,fontColor:ht.indexLabelFontColor,fontStyle:ht.indexLabelFontStyle,fontWeight:ht.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:ht.indexLabelBackgroundColor,maxWidth:ht.indexLabelMaxWidth,maxHeight:ht.indexLabelWrap?5*ht.indexLabelFontSize:1.5*ht.indexLabelFontSize,text:ht.indexLabelText,padding:0,textBaseline:"top"}),ht.indexLabelTextBlock.measureText()}for(ot=st=0,ct=!1,at=0;at<j.length;at++)ht=it[(tt+at)%j.length],1<u&&ht.midAngle>Math.PI/2-nt&&ht.midAngle<Math.PI/2+nt&&(st<=u/2&&!ct?(ht.hemisphere="right",st++):(ht.hemisphere="left",ct=!0));for(ct=!1,at=0;at<j.length;at++)ht=it[(d+at)%j.length],1<B&&ht.midAngle>3*Math.PI/2-nt&&ht.midAngle<3*Math.PI/2+nt&&(ot<=B/2&&!ct?(ht.hemisphere="left",ot++):(ht.hemisphere="right",ct=!0))}}(),l(),l(),l(),l(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(u){(B=_.plotArea.ctx).clearRect(et.x1,et.y1,et.width,et.height),B.fillStyle=_.backgroundColor,B.fillRect(et.x1,et.y1,et.width,et.height);for(var B=it[0].startAngle+2*Math.PI*u,tt=0;tt<j.length;tt++){var at=0===tt?it[tt].startAngle:st,st=at+(it[tt].endAngle-it[tt].startAngle),nt=!1;st>B&&(st=B,nt=!0);var ot=j[tt].color?j[tt].color:L._colorSet[tt%L._colorSet.length];if(st>at&&X(_.plotArea.ctx,it[tt].center,it[tt].radius,ot,L.type,at,st,L.fillOpacity,it[tt].percentInnerRadius),nt)break}h(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_}),1<=u&&_.dispatchEvent("dataAnimationEnd",{chart:_})}),(function(){_.disableToolTip=!1,_._animator.animate(0,_.animatedRender?500:0,(function(u){c(u),h(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_})})),_.dispatchEvent("dataAnimationEnd",{chart:_})}))}}};var pa=function(u,_,B,L){void 0===B&&(B=1),0>=Math.round(_.y4-_.y1)||(u.save(),u.globalAlpha=B,u.beginPath(),u.moveTo(Math.round(_.x1),Math.round(_.y1)),u.lineTo(Math.round(_.x2),Math.round(_.y2)),u.lineTo(Math.round(_.x3),Math.round(_.y3)),u.lineTo(Math.round(_.x4),Math.round(_.y4)),"undefined"!==_.x5&&(u.lineTo(Math.round(_.x5),Math.round(_.y5)),u.lineTo(Math.round(_.x6),Math.round(_.y6))),u.closePath(),u.fillStyle=L||_.color,u.fill(),u.globalAplha=1,u.restore())};m.prototype.renderFunnel=function(_){function f(){var u,_,B,j;if("inside"!==L.indexLabelPlacement)for(var tt=0;tt<Ct.length;tt++)0==Bt[tt].textBlock.text.length?Bt[tt].isDirty=!0:(B=void 0!==(u=Ct[tt]).x5?(u.y2+u.y4)/2:(u.y2+u.y3)/2,_=L.reversed?void 0!==u.x5&&B>wt?g(B).x2+1:(u.x2+u.x3)/2+1:void 0!==u.x5?B<wt?g(B).x2+1:(u.x4+u.x3)/2+1:(u.x2+u.x3)/2+1,Bt[tt].textBlock.x=_+gt,Bt[tt].textBlock.y=B-Bt[tt].height/2,L.reversed?(Bt[tt].textBlock.y+Bt[tt].height>vt+at&&(Bt[tt].textBlock.y=vt+at-Bt[tt].height),Bt[tt].textBlock.y<Mt-at&&(Bt[tt].textBlock.y=Mt-at)):(Bt[tt].textBlock.y<vt-at&&(Bt[tt].textBlock.y=vt-at),Bt[tt].textBlock.y+Bt[tt].height>Mt+at&&(Bt[tt].textBlock.y=Mt+at-Bt[tt].height)));else for(tt=0;tt<Ct.length;tt++)0==Bt[tt].textBlock.text.length?Bt[tt].isDirty=!0:(_=(u=Ct[tt]).height,B=Bt[tt].height,j=Bt[tt].width,_>=B?(_=tt!=Tt?(u.x4+u.x3)/2-j/2:(u.x5+u.x4)/2-j/2,B=tt!=Tt?(u.y1+u.y3)/2-B/2:(u.y1+u.y4)/2-B/2,Bt[tt].textBlock.x=_,Bt[tt].textBlock.y=B):Bt[tt].isDirty=!0)}function h(u,_){return(_<Ct.length?Bt[_].textBlock.y:L.reversed?vt+at:Mt+at)-(0>u?L.reversed?Mt-at:vt-at:Bt[u].textBlock.y+Bt[u].height+_t)}function m(_,B,et){var it,st,nt,ot=[],rt=at,ht=[];if(-1!==B&&(0<=It.indexOf(B)?(st=It.indexOf(B),It.splice(st,1)):(It.push(B),It=It.sort((function(u,_){return u-_})))),0===It.length)ot=Lt;else{st=at*(1!=It.length||0!=It[0]&&It[0]!=Ct.length-1?2:1)/function k(){for(var u=0,_=0;_<Ct.length-1;_++)(0<=It.indexOf(_)||0<=It.indexOf(_+1))&&u++;return u}();for(var dt=0;dt<Ct.length;dt++){if(1==It.length&&0==It[0]){if(0===dt){ot.push(Lt[dt]),it=rt;continue}}else 0===dt&&(it=-1*rt);ot.push(Lt[dt]+it),(0<=It.indexOf(dt)||dt<Ct.length&&0<=It.indexOf(dt+1))&&(it+=st)}}nt=function(){for(var u=[],_=0;_<Ct.length;_++)u.push(ot[_]-Ct[_].y1);return u}(),(new Date).getTime();_._animator.animate(0,et,(function(u){var et=_.plotArea.ctx||_.ctx;Ft=!0,et.clearRect(tt.x1,tt.y1,tt.x2-tt.x1,tt.y2-tt.y1),et.fillStyle=_.backgroundColor,et.fillRect(tt.x1,tt.y1,tt.width,tt.height),function(u){for(var _,B,L=0;L<Ct.length;L++)_=nt[L],B=Ct[L],_*=u,void 0===ht[L]&&(ht[L]=0),0>ht&&(ht*=-1),B.y1+=_-ht[L],B.y2+=_-ht[L],B.y3+=_-ht[L],B.y4+=_-ht[L],B.y5&&(B.y5+=_-ht[L],B.y6+=_-ht[L]),ht[L]=_}(u);var it={};for(it.dataSeries=L,it.dataPoint=L.reversed?L.dataPoints[j.length-1-B]:L.dataPoints[B],it.index=L.reversed?j.length-1-B:B,_.toolTip.highlightObjects([it]),it=0;it<Ct.length;it++)pa(et,Ct[it],L.fillOpacity);w(et),lt&&("inside"!==L.indexLabelPlacement?n(et):f(),r(et)),1<=u&&(Ft=!1)}),null,u.easing.easeOutQuart)}function n(u){for(var _,B,L,j,tt=0;tt<Ct.length;tt++)j=1==Bt[tt].lineThickness%2?.5:0,_=g(B=((Ct[tt].y2+Ct[tt].y4)/2<<0)+j).x2-1,L=Bt[tt].textBlock.x,j=(Bt[tt].textBlock.y+Bt[tt].height/2<<0)+j,Bt[tt].isDirty||0==Bt[tt].lineThickness||(u.strokeStyle=Bt[tt].lineColor,u.lineWidth=Bt[tt].lineThickness,u.setLineDash&&u.setLineDash(N(Bt[tt].lineDashType,Bt[tt].lineThickness)),u.beginPath(),u.moveTo(_,B),u.lineTo(L,j),u.stroke())}function p(u){for(u-=1;-1<=u&&-1!=u&&Bt[u].isDirty;u--);return u}function q(u){for(u+=1;u<=Ct.length&&u!=Ct.length&&Bt[u].isDirty;u++);return u}function g(u){for(var _,B=0;B<j.length;B++)if(Ct[B].y1<u&&Ct[B].y4>u){_=Ct[B];break}return _?{x1:u=_.y6&&u>_.y6?_.x3+(_.x4-_.x3)/(_.y4-_.y3)*(u-_.y3):_.x2+(_.x3-_.x2)/(_.y3-_.y2)*(u-_.y2),x2:u}:-1}function r(u){for(var _=0;_<Ct.length;_++)Bt[_].isDirty||(u&&(Bt[_].textBlock.ctx=u),Bt[_].textBlock.render(!0))}function w(u){if(B.plotArea.layoutManager.reset(),u.roundRect||Aa(u),B.title&&(B.title.dockInsidePlotArea||"center"===B.title.horizontalAlign&&"center"===B.title.verticalAlign)&&(B.title.ctx=u,B.title.render()),B.subtitles)for(var _=0;_<B.subtitles.length;_++){var L=B.subtitles[_];(L.dockInsidePlotArea||"center"===L.horizontalAlign&&"center"===L.verticalAlign)&&(B.subtitles.ctx=u,L.render())}B.legend&&(B.legend.dockInsidePlotArea||"center"===B.legend.horizontalAlign&&"center"===B.legend.verticalAlign)&&(B.legend.ctx=u,B.legend.setLayout(),B.legend.render()),et.fNg&&et.fNg(B)}var B=this;if(!(0>=_.dataSeriesIndexes.length)){for(var L=this.data[_.dataSeriesIndexes[0]],j=L.dataPoints,tt=this.plotArea,at=.025*tt.width,st=.01*tt.width,nt=0,ot=tt.height-2*at,rt=Math.min(tt.width-2*st,2.8*tt.height),lt=!1,ht=0;ht<j.length;ht++)!lt&&void 0!==j[ht].indexLabel&&null!==j[ht].indexLabel&&0<j[ht].indexLabel.toString().length&&(lt=!0),!lt&&void 0!==j[ht].label&&null!==j[ht].label&&0<j[ht].label.toString().length&&(lt=!0),(!lt&&"function"==typeof L.indexLabelFormatter||"function"==typeof j[ht].indexLabelFormatter)&&(lt=!0);lt=lt||void 0!==L.indexLabel&&null!==L.indexLabel&&0<L.indexLabel.toString().length,"inside"!==L.indexLabelPlacement&&lt||(st=(tt.width-.75*rt)/2),ht=tt.x1+st;var dt=tt.x2-st,ct=tt.y1+at,pt=tt.y2-at,ut=_.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=L.length&&L.dataPoints&&L.visible&&0!==j.length){var xt,mt,gt=30*(dt-(_=75*rt/100))/100;"funnel"===L.type?(xt=s(L.options.neckHeight)?.35*ot:L.neckHeight,mt=s(L.options.neckWidth)?.25*_:L.neckWidth,xt="string"==typeof xt&&xt.match(/%$/)?(xt=parseInt(xt))*ot/100:parseInt(xt),mt="string"==typeof mt&&mt.match(/%$/)?(mt=parseInt(mt))*_/100:parseInt(mt),xt>ot?xt=ot:0>=xt&&(xt=0),mt>_?mt=_-.5:0>=mt&&(mt=0)):"pyramid"===L.type&&(mt=xt=0,L.reversed=!L.reversed),st=ht+_/2;var ft=ht,bt=ht+_,vt=L.reversed?pt:ct,yt=st-mt/2,kt=st+mt/2,wt=L.reversed?ct+xt:pt-xt,Mt=L.reversed?ct:pt;_=[],st=[];var Tt,Ct=[],St=(rt=[],ct),Pt=(wt-vt)/(yt-ft),At=-Pt;if(-1!==(ht="area"===(L.valueRepresents?L.valueRepresents:"height")?function c(){var u,_,B=ft,L=bt,c=yt,tt=kt;u=ct,_=pt-xt,tt=Math.abs((_-u)*(L-B+(tt-c))/2),u=_-u,_=(c=kt-yt)*(_-pt),_=tt+(_=Math.abs(_)),tt=[];for(var et=0,it=0;it<j.length;it++){if(void 0===j[it].y)return-1;j[it].y="number"==typeof j[it].y?j[it].y:0,et+=Math.abs(j[it].y)}if(0===et)return-1;var at,st,nt=tt[0]=0,ot=0;for(L-=B,nt=!1,it=0;it<j.length;it++)B=Math.abs(j[it].y)*_/et,nt?at=0==Number(c.toFixed(3))?0:B/c:0>(st=Pt*Pt*L*L-4*Math.abs(Pt)*B)?(B-=nt=(L+(st=c))*(u-ot)/2,at=u-ot,ot+=u-ot,at+=0==st?0:B/st,ot+=B/st,nt=!0):(st=L-2*(at=(Math.abs(Pt)*L-Math.sqrt(st))/2)/Math.abs(Pt),(ot+=at)>u&&(nt=(L+(st=c))*(u-(ot-=at))/2,at=u-ot,ot+=u-ot,at+=(B-=nt)/st,ot+=B/st,nt=!0),L=st),tt.push(at);return tt}():function d(){for(var u=0,_=[],B=0;B<j.length;B++){if(void 0===j[B].y)return-1;j[B].y="number"==typeof j[B].y?j[B].y:0,u+=Math.abs(j[B].y)}if(0===u)return-1;for(B=_[0]=0;B<j.length;B++)_.push(Math.abs(j[B].y)*ot/u);return _}())){if(L.reversed)for(rt.push(St),mt=ht.length-1;0<mt;mt--)St+=ht[mt],rt.push(St);else for(mt=0;mt<ht.length;mt++)St+=ht[mt],rt.push(St);if(L.reversed)for(mt=0;mt<ht.length;mt++)rt[mt]<wt?(_.push(yt),st.push(kt),Tt=mt):(_.push((rt[mt]-vt+Pt*ft)/Pt),st.push((rt[mt]-vt+At*bt)/At));else for(mt=0;mt<ht.length;mt++)rt[mt]<wt?(_.push((rt[mt]-vt+Pt*ft)/Pt),st.push((rt[mt]-vt+At*bt)/At),Tt=mt):(_.push(yt),st.push(kt));for(mt=0;mt<ht.length-1;mt++)St=L.reversed?j[j.length-1-mt].color?j[j.length-1-mt].color:L._colorSet[(j.length-1-mt)%L._colorSet.length]:j[mt].color?j[mt].color:L._colorSet[mt%L._colorSet.length],mt===Tt?Ct.push({x1:_[mt],y1:rt[mt],x2:st[mt],y2:rt[mt],x3:kt,y3:wt,x4:st[mt+1],y4:rt[mt+1],x5:_[mt+1],y5:rt[mt+1],x6:yt,y6:wt,id:mt,height:rt[mt+1]-rt[mt],color:St}):Ct.push({x1:_[mt],y1:rt[mt],x2:st[mt],y2:rt[mt],x3:st[mt+1],y3:rt[mt+1],x4:_[mt+1],y4:rt[mt+1],id:mt,height:rt[mt+1]-rt[mt],color:St});var _t=2,Bt=[],Ft=!1,It=[],Lt=[];for(ht=!1,_=_=0,Ba(It),mt=0;mt<j.length;mt++)j[mt].exploded&&(ht=!0,L.reversed?It.push(j.length-1-mt):It.push(mt));if(ut.clearRect(tt.x1,tt.y1,tt.width,tt.height),ut.fillStyle=B.backgroundColor,ut.fillRect(tt.x1,tt.y1,tt.width,tt.height),lt&&L.visible&&(function b(){if(L&&j){for(var u,b,_,tt,et,at,st,nt,ot,rt,lt,ht,ct,pt,xt=[],mt=[],ft={percent:null,total:null},bt=null,vt=0;vt<j.length;vt++)pt=g(pt=void 0!==(pt=Ct[vt]).x5?(pt.y2+pt.y4)/2:(pt.y2+pt.y3)/2).x2+1,xt[vt]=dt-pt-gt;pt=.5*gt,vt=0;for(var yt=j.length-1;vt<j.length||0<=yt;vt++,yt--)u=(b=L.reversed?j[yt]:j[vt]).color?b.color:L.reversed?L._colorSet[(j.length-1-vt)%L._colorSet.length]:L._colorSet[vt%L._colorSet.length],_=b.indexLabelPlacement||L.indexLabelPlacement||"outside",tt=b.indexLabelBackgroundColor||L.indexLabelBackgroundColor||(it?"transparent":null),et=b.indexLabelFontColor||L.indexLabelFontColor||"#979797",at=s(b.indexLabelFontSize)?L.indexLabelFontSize:b.indexLabelFontSize,st=b.indexLabelFontStyle||L.indexLabelFontStyle||"normal",nt=b.indexLabelFontFamily||L.indexLabelFontFamily||"arial",ot=b.indexLabelFontWeight||L.indexLabelFontWeight||"normal",u=b.indexLabelLineColor||L.options.indexLabelLineColor||u,rt="number"==typeof b.indexLabelLineThickness?b.indexLabelLineThickness:"number"==typeof L.indexLabelLineThickness?L.indexLabelLineThickness:2,lt=b.indexLabelLineDashType||L.indexLabelLineDashType||"solid",ht=void 0!==b.indexLabelWrap?b.indexLabelWrap:void 0===L.indexLabelWrap||L.indexLabelWrap,ct=L.dataPointIds[vt],B._eventManager.objectMap[ct]={id:ct,objectType:"dataPoint",dataPointIndex:vt,dataSeriesIndex:0,funnelSection:Ct[L.reversed?j.length-1-vt:vt]},"inside"===L.indexLabelPlacement&&(xt[vt]=vt!==Tt?L.reversed?Ct[vt].x2-Ct[vt].x1:Ct[vt].x3-Ct[vt].x4:Ct[vt].x3-Ct[vt].x6,20>xt[vt]&&(xt[vt]=vt!==Tt&&L.reversed?Ct[vt].x3-Ct[vt].x4:Ct[vt].x2-Ct[vt].x1,xt[vt]/=2)),((ct=b.indexLabelMaxWidth?b.indexLabelMaxWidth:L.options.indexLabelMaxWidth?L.indexLabelMaxWidth:xt[vt])>xt[vt]||0>ct)&&(ct=xt[vt]),mt[vt]="inside"===L.indexLabelPlacement&&Ct[vt].height,ft=B.getPercentAndTotal(L,b),(L.indexLabelFormatter||b.indexLabelFormatter)&&(bt={chart:B.options,dataSeries:L,dataPoint:b,total:ft.total,percent:ft.percent}),b=b.indexLabelFormatter?b.indexLabelFormatter(bt):b.indexLabel?B.replaceKeywordsWithValue(b.indexLabel,b,L,vt):L.indexLabelFormatter?L.indexLabelFormatter(bt):L.indexLabel?B.replaceKeywordsWithValue(L.indexLabel,b,L,vt):b.label?b.label:"",0>=rt&&(rt=0),1e3>ct&&1e3-ct<pt&&(ct+=1e3-ct),ut.roundRect||Aa(ut),(_=new ia(ut,{fontSize:at,fontFamily:nt,fontColor:et,fontStyle:st,fontWeight:ot,horizontalAlign:_,backgroundColor:tt,maxWidth:ct,maxHeight:!1===mt[vt]?ht?4.28571429*at:1.5*at:mt[vt],text:b,padding:_t})).measureText(),Bt.push({textBlock:_,id:L.reversed?yt:vt,isDirty:!1,lineColor:u,lineThickness:rt,lineDashType:lt,height:_.height<_.maxHeight?_.height:_.maxHeight,width:_.width<_.maxWidth?_.width:_.maxWidth})}}(),f(),function e(){var u,_,B,tt,e,et=[];e=!1,B=0;for(var it,st=dt-bt-gt/2,nt=(st=L.options.indexLabelMaxWidth?L.indexLabelMaxWidth>st?st:L.indexLabelMaxWidth:st,Bt.length-1);0<=nt;nt--)it=j[Bt[nt].id],tt=(B=Bt[nt]).textBlock,_=(u=q(nt)<Ct.length?Bt[q(nt)]:null)?u.textBlock:null,B=B.height,u&&tt.y+B+_t>_.y&&(e=!0),((B=it.indexLabelMaxWidth||st)>st||0>B)&&(B=st),et.push(B);if(e)for(nt=Bt.length-1;0<=nt;nt--)u=Ct[nt],Bt[nt].textBlock.maxWidth=et[et.length-(nt+1)],Bt[nt].textBlock.measureText(),Bt[nt].textBlock.x=dt-st,B=Bt[nt].textBlock.height<Bt[nt].textBlock.maxHeight?Bt[nt].textBlock.height:Bt[nt].textBlock.maxHeight,e=Bt[nt].textBlock.width<Bt[nt].textBlock.maxWidth?Bt[nt].textBlock.width:Bt[nt].textBlock.maxWidth,Bt[nt].height=B,Bt[nt].width=e,B=void 0!==u.x5?(u.y2+u.y4)/2:(u.y2+u.y3)/2,Bt[nt].textBlock.y=B-Bt[nt].height/2,L.reversed?(Bt[nt].textBlock.y+Bt[nt].height>vt+at&&(Bt[nt].textBlock.y=vt+at-Bt[nt].height),Bt[nt].textBlock.y<Mt-at&&(Bt[nt].textBlock.y=Mt-at)):(Bt[nt].textBlock.y<vt-at&&(Bt[nt].textBlock.y=vt-at),Bt[nt].textBlock.y+Bt[nt].height>Mt+at&&(Bt[nt].textBlock.y=Mt+at-Bt[nt].height))}(),"inside"!==L.indexLabelPlacement)){for(function l(){function a(u,_){var B;if(0>u||u>=Bt.length)return 0;var L,j=Bt[u].textBlock;return 0>_?(_*=-1,(B=h(L=p(u),u))>=_?(j.y-=_,_):0==u?(0<B&&(j.y-=B),B):(0<(B+=a(L,-(_-B)))&&(j.y-=B),B)):(B=h(u,L=q(u)))>=_?(j.y+=_,_):u==Ct.length-1?(0<B&&(j.y+=B),B):(0<(B+=a(L,_-B))&&(j.y+=B),B)}function b(){var u,_,B,L,j,et=0;L=(pt-ct+2*at)/tt,j=tt;for(var it,st=1;st<j;st++){B=st*L;for(var nt=Bt.length-1;0<=nt;nt--)!Bt[nt].isDirty&&Bt[nt].textBlock.y<B&&Bt[nt].textBlock.y+Bt[nt].height>B&&!((it=q(nt))>=Bt.length-1)&&Bt[nt].textBlock.y+Bt[nt].height+_t>Bt[it].textBlock.y&&(Bt[nt].textBlock.y=Bt[nt].textBlock.y+Bt[nt].height-B>B-Bt[nt].textBlock.y?B+1:B-Bt[nt].height-1)}for(it=Ct.length-1;0<it;it--)if(!Bt[it].isDirty){if(0>(B=p(it))&&Bt[B=0].isDirty)break;if(Bt[it].textBlock.y<Bt[B].textBlock.y+Bt[B].height){for(_=_||it,L=it,j=0;Bt[L].textBlock.y<Bt[B].textBlock.y+Bt[B].height+_t;){if(u=u||Bt[L].textBlock.y+Bt[L].height,j+=Bt[L].height,j+=_t,0>=(L=B)){j+=Bt[L=0].height;break}if(0>(B=p(L))){j+=Bt[L=0].height;break}}if(L!=it){et=c(u=j-(u-=et=Bt[L].textBlock.y),_,L);break}}}return et}function c(u,_,B){var L=[],j=0,tt=0;for(u=Math.abs(u);B<=_;B++)L.push(Ct[B]);for(L.sort((function(u,_){return u.height-_.height})),B=0;B<L.length&&(_=L[B],j<u);B++)tt++,j+=Bt[_.id].height+_t,Bt[_.id].textBlock.text="",Bt[_.id].indexLabelText="",Bt[_.id].isDirty=!0,Bt[_.id].textBlock.measureText();return tt}for(var u,_,B,L,j,l,tt=1,et=0;et<2*tt;et++){for(var it=Bt.length-1;0<=it&&(0<=p(it)&&p(it),L=(B=Bt[it]).textBlock,l=(j=q(it)<Ct.length?Bt[q(it)]:null)?j.textBlock:null,u=+B.height.toFixed(6),_=+L.y.toFixed(6),!(!B.isDirty&&j&&_+u+_t>+l.y.toFixed(6)&&(u=L.y+u+_t-l.y,_=a(it,-u),_<u&&(0<_&&(u-=_),_=a(q(it),u),_!=u))));it--);b()}}(),mt=0;mt<j.length;mt++)Bt[mt].isDirty||(_=Bt[mt].textBlock.x+Bt[mt].width,_=(dt-_)/2,0==mt&&(nt=_),nt>_&&(nt=_));for(mt=0;mt<Ct.length;mt++)Ct[mt].x1+=nt,Ct[mt].x2+=nt,Ct[mt].x3+=nt,Ct[mt].x4+=nt,Ct[mt].x5&&(Ct[mt].x5+=nt,Ct[mt].x6+=nt),Bt[mt].textBlock.x+=nt}for(mt=0;mt<Ct.length;mt++)nt=Ct[mt],pa(ut,nt,L.fillOpacity),Lt.push(nt.y1);if(w(ut),lt&&L.visible&&("inside"===L.indexLabelPlacement||B.animationEnabled||n(ut),B.animationEnabled||r()),!lt)for(mt=0;mt<j.length;mt++)_={id:nt=L.dataPointIds[mt],objectType:"dataPoint",dataPointIndex:mt,dataSeriesIndex:0,funnelSection:Ct[L.reversed?j.length-1-mt:mt]},B._eventManager.objectMap[nt]=_;return(!B.animationEnabled&&ht||B.animationEnabled&&!B.animatedRender)&&m(B,-1,0),this.funnelPyramidClickHandler=function(u){var _=-1;!Ft&&!B.isAnimating&&(s(u.dataSeries.explodeOnClick)||u.dataSeries.explodeOnClick)&&0<=(_=L.reversed?j.length-1-u.dataPointIndex:u.dataPointIndex)&&(u=_,"funnel"!==L.type&&"pyramid"!==L.type||(L.reversed?j[j.length-1-u].exploded=!j[j.length-1-u].exploded:j[u].exploded=!j[u].exploded),m(B,_,500))},{source:ut,dest:this.plotArea.ctx,animationCallback:function(_,L){u.fadeInAnimation(_,L),1<=_&&(m(B,-1,500),w(B.plotArea.ctx||B.ctx))},easingFunction:u.easing.easeInQuad,animationBase:0}}}}},m.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(u){window.setTimeout(u,1e3/60)},m.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,m.prototype.set=function(u,_,B){B=void 0===B||B,"options"===u?(this.options=_,B&&this.render()):m.base.set.call(this,u,_,B)},m.prototype.exportChart=function(u){var _=(u=void 0===u?{}:u).format?u.format:"png",B=u.fileName?u.fileName:this.exportFileName;if(u.toDataURL)return this.canvas.toDataURL("image/"+_);if((L=this.canvas)&&_&&B){B=B+"."+_,u="image/"+_;var L=L.toDataURL(u),j=!1,tt=document.createElement("a");if(tt.download=B,tt.href=L,"undefined"!=typeof Blob&&new Blob){for(var et=L.replace(/^data:[a-z\/]*;base64,/,""),it=(et=atob(et),new ArrayBuffer(et.length)),at=(it=new Uint8Array(it),0);at<et.length;at++)it[at]=et.charCodeAt(at);_=new Blob([it.buffer],{type:"image/"+_});try{window.navigator.msSaveBlob(_,B),j=!0}catch(B){tt.dataset.downloadurl=[u,tt.download,tt.href].join(":"),tt.href=window.URL.createObjectURL(_)}}if(!j)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),tt.dispatchEvent?tt.dispatchEvent(event):tt.fireEvent&&tt.fireEvent("onclick")}catch(u){(_=window.open()).document.write("<img src='"+L+"'></img><div>Please right click on the image and save it to your device</div>"),_.document.close()}}},m.prototype.print=function(){var u=this.exportChart({toDataURL:!0}),_=document.createElement("iframe");_.setAttribute("class","canvasjs-chart-print-frame"),_.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),_.style.height=this.height+"px",this._canvasJSContainer.appendChild(_);var B=this,L=_.contentWindow||_.contentDocument.document||_.contentDocument;L.document.open(),L.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+u+'"/><body/></html>'),L.document.close(),setTimeout((function(){L.focus(),L.print(),setTimeout((function(){B._canvasJSContainer.removeChild(_)}),1e3)}),500)},m.prototype.getPercentAndTotal=function(u,_){var B=null,L=null,j=B=null;if(0<=u.type.indexOf("stacked"))L=0,(B=_.x.getTime?_.x.getTime():_.x)in u.plotUnit.yTotals&&(L=u.plotUnit.yTotals[B],B=u.plotUnit.yAbsTotals[B],j=isNaN(_.y)||0===B?0:_.y/B*100);else if("pie"===u.type||"doughnut"===u.type||"funnel"===u.type||"pyramid"===u.type){for(B=L=0;B<u.dataPoints.length;B++)isNaN(u.dataPoints[B].y)||(L+=u.dataPoints[B].y);j=isNaN(_.y)?0:_.y/L*100}return{percent:j,total:L}},m.prototype.replaceKeywordsWithValue=function(u,_,B,L,j){var tt=this;if(j=void 0===j?0:j,(0<=B.type.indexOf("stacked")||"pie"===B.type||"doughnut"===B.type||"funnel"===B.type||"pyramid"===B.type)&&(0<=u.indexOf("#percent")||0<=u.indexOf("#total"))){var et="#percent",it="#total",at=this.getPercentAndTotal(B,_);it=isNaN(at.total)?it:at.total,et=isNaN(at.percent)?et:at.percent;do{if(at="",B.percentFormatString)at=B.percentFormatString;else{at="#,##0.";var st=Math.max(Math.ceil(Math.log(1/Math.abs(et))/Math.LN10),2);!isNaN(st)&&isFinite(st)||(st=2);for(var nt=0;nt<st;nt++)at+="#";B.percentFormatString=at}u=(u=u.replace("#percent",ea(et,at,tt._cultureInfo))).replace("#total",ea(it,B.yValueFormatString?B.yValueFormatString:"#,##0.########",tt._cultureInfo))}while(0<=u.indexOf("#percent")||0<=u.indexOf("#total"))}return u.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(u){if('"'===u[0]&&'"'===u[u.length-1]||"'"===u[0]&&"'"===u[u.length-1])return u.slice(1,u.length-1);u=(u=Ea(u.slice(1,u.length-1))).replace("#index",j);var et=null;try{var it=u.match(/(.*?)\s*\[\s*(.*?)\s*\]/);it&&0<it.length&&(et=Ea(it[2]),u=Ea(it[1]))}catch(u){}if(it=null,"color"===u)return"waterfall"===B.type?_.color?_.color:0<_.y?B.risingColor:B.fallingColor:"error"===B.type?B.color?B.color:B._colorSet[et%B._colorSet.length]:_.color?_.color:B.color?B.color:B._colorSet[L%B._colorSet.length];if(_.hasOwnProperty(u))it=_;else{if(!B.hasOwnProperty(u))return"";it=B}return it=it[u],null!==et&&(it=it[et]),"x"!==u?"y"===u?ea(it,_.yValueFormatString?_.yValueFormatString:B.yValueFormatString?B.yValueFormatString:B.yValueFormatString="#,##0.########",tt._cultureInfo):"z"===u?ea(it,_.zValueFormatString?_.zValueFormatString:B.zValueFormatString?B.zValueFormatString:B.zValueFormatString="#,##0.########",tt._cultureInfo):it:"dateTime"===B.axisX.valueType||"dateTime"===B.xValueType||_.x&&_.x.getTime?B.axisX.logarithmic?void 0:ft(it,_.xValueFormatString?_.xValueFormatString:B.xValueFormatString?B.xValueFormatString:B.xValueFormatString=tt.axisX&&tt.axisX.autoValueFormatString?tt.axisX.autoValueFormatString:"DD MMM YY",tt._cultureInfo):ea(it,_.xValueFormatString?_.xValueFormatString:B.xValueFormatString?B.xValueFormatString:B.xValueFormatString="#,##0.########",tt._cultureInfo)}))},na(F,V),F.prototype.setLayout=function(){var u=this.dockInsidePlotArea?this.chart.plotArea:this.chart,_=u.layoutManager.getFreeSpace(),B=null,L=0,j=0,tt=0,et=0,it=this.markerMargin=this.chart.options.legend&&!s(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var at=[],st=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",B=this.verticalAlign,tt=this.maxWidth=null!==this.maxWidth?this.maxWidth:_.width,et=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*_.height):"center"===this.verticalAlign&&(this.orientation="vertical",B=this.horizontalAlign,tt=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*_.width,et=this.maxHeight=null!==this.maxHeight?this.maxHeight:_.height),this.errorMarkerColor=[];for(var nt=0;nt<this.dataSeries.length;nt++){var ot=this.dataSeries[nt];if(ot.dataPoints&&ot.dataPoints.length)if("pie"!==ot.type&&"doughnut"!==ot.type&&"funnel"!==ot.type&&"pyramid"!==ot.type){var rt=ot.legendMarkerType=ot.legendMarkerType?ot.legendMarkerType:"line"!==ot.type&&"stepLine"!==ot.type&&"spline"!==ot.type&&"scatter"!==ot.type&&"bubble"!==ot.type||!ot.markerType?"error"===ot.type&&ot._linkedSeries?ot._linkedSeries.legendMarkerType?ot._linkedSeries.legendMarkerType:H.getDefaultLegendMarker(ot._linkedSeries.type):H.getDefaultLegendMarker(ot.type):ot.markerType,lt=ot.legendText?ot.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:ot,dataPoint:null}):ot.name,ht=ot.legendMarkerColor=ot.legendMarkerColor?ot.legendMarkerColor:ot.markerColor?ot.markerColor:"error"===ot.type?s(ot.whiskerColor)?ot._colorSet[0]:ot.whiskerColor:ot._colorSet[0],dt=ot.markerSize||"line"!==ot.type&&"stepLine"!==ot.type&&"spline"!==ot.type?.75*this.lineHeight:0,ct=ot.legendMarkerBorderColor?ot.legendMarkerBorderColor:ot.markerBorderColor,pt=ot.legendMarkerBorderThickness?ot.legendMarkerBorderThickness:ot.markerBorderThickness?Math.max(1,Math.round(.2*dt)):0;"error"===ot.type&&this.errorMarkerColor.push(ht),rt={markerType:rt,markerColor:ht,text:lt=this.chart.replaceKeywordsWithValue(lt,ot.dataPoints[0],ot,nt),textBlock:null,chartType:ot.type,markerSize:dt,lineColor:ot._colorSet[0],dataSeriesIndex:ot.index,dataPointIndex:null,markerBorderColor:ct,markerBorderThickness:pt},at.push(rt)}else for(var ut=0;ut<ot.dataPoints.length;ut++){var xt=ot.dataPoints[ut];rt=xt.legendMarkerType?xt.legendMarkerType:ot.legendMarkerType?ot.legendMarkerType:H.getDefaultLegendMarker(ot.type),lt=xt.legendText?xt.legendText:ot.legendText?ot.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:ot,dataPoint:xt}):xt.name?xt.name:"DataPoint: "+(ut+1),ht=xt.legendMarkerColor?xt.legendMarkerColor:ot.legendMarkerColor?ot.legendMarkerColor:xt.color?xt.color:ot.color?ot.color:ot._colorSet[ut%ot._colorSet.length],dt=.75*this.lineHeight,ct=xt.legendMarkerBorderColor?xt.legendMarkerBorderColor:ot.legendMarkerBorderColor?ot.legendMarkerBorderColor:xt.markerBorderColor?xt.markerBorderColor:ot.markerBorderColor,pt=xt.legendMarkerBorderThickness?xt.legendMarkerBorderThickness:ot.legendMarkerBorderThickness?ot.legendMarkerBorderThickness:xt.markerBorderThickness||ot.markerBorderThickness?Math.max(1,Math.round(.2*dt)):0,rt={markerType:rt,markerColor:ht,text:lt=this.chart.replaceKeywordsWithValue(lt,xt,ot,ut),textBlock:null,chartType:ot.type,markerSize:dt,dataSeriesIndex:nt,dataPointIndex:ut,markerBorderColor:ct,markerBorderThickness:pt},(xt.showInLegend||ot.showInLegend&&!1!==xt.showInLegend)&&at.push(rt)}}if(!0===this.reversed&&at.reverse(),0<at.length){for(ot=null,ht=lt=xt=ut=0,xt=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,tt):this.itemMaxWidth=Math.min(this.itemWidth,tt):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,tt):this.itemMaxWidth=tt,xt-=(dt=0===dt?.75*this.lineHeight:dt)+it,nt=0;nt<at.length;nt++)ct=xt,"line"!==(rt=at[nt]).chartType&&"spline"!==rt.chartType&&"stepLine"!==rt.chartType||(ct-=.2*this.lineHeight),0>=et||void 0===et||0>=ct||void 0===ct||("horizontal"===this.orientation?(rt.textBlock=new ia(this.ctx,{x:0,y:0,maxWidth:ct,maxHeight:this.itemWrap?et:this.lineHeight,angle:0,text:rt.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),rt.textBlock.measureText(),null!==this.itemWidth&&(rt.textBlock.width=this.itemWidth-(dt+it+("line"===rt.chartType||"spline"===rt.chartType||"stepLine"===rt.chartType?.2*this.lineHeight:0))),(!ot||ot.width+Math.round(rt.textBlock.width+dt+it+(0===ot.width?0:this.horizontalSpacing)+("line"===rt.chartType||"spline"===rt.chartType||"stepLine"===rt.chartType?.2*this.lineHeight:0))>tt)&&(ot={items:[],width:0},st.push(ot),this.height+=lt,lt=0),lt=Math.max(lt,rt.textBlock.height)):(rt.textBlock=new ia(this.ctx,{x:0,y:0,maxWidth:xt,maxHeight:!0===this.itemWrap?et:1.5*this.fontSize,angle:0,text:rt.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),rt.textBlock.measureText(),null!==this.itemWidth&&(rt.textBlock.width=this.itemWidth-(dt+it+("line"===rt.chartType||"spline"===rt.chartType||"stepLine"===rt.chartType?.2*this.lineHeight:0))),this.height<et-this.lineHeight?(ot={items:[],width:0},st.push(ot)):(ot=st[ut],ut=(ut+1)%st.length),this.height+=rt.textBlock.height),rt.textBlock.x=ot.width,rt.textBlock.y=0,ot.width+=Math.round(rt.textBlock.width+dt+it+(0===ot.width?0:this.horizontalSpacing)+("line"===rt.chartType||"spline"===rt.chartType||"stepLine"===rt.chartType?.2*this.lineHeight:0)),ot.items.push(rt),this.width=Math.max(ot.width,this.width),ht=rt.textBlock.width+(dt+it+("line"===rt.chartType||"spline"===rt.chartType||"stepLine"===rt.chartType?.2*this.lineHeight:0)));this.itemWidth=ht,this.height=!1===this.itemWrap?st.length*this.lineHeight:this.height+lt,this.height=Math.min(et,this.height),this.width=Math.min(tt,this.width)}for("top"===this.verticalAlign?(j="left"===this.horizontalAlign?_.x1:"right"===this.horizontalAlign?_.x2-this.width:_.x1+_.width/2-this.width/2,L=_.y1):"center"===this.verticalAlign?(j="left"===this.horizontalAlign?_.x1:"right"===this.horizontalAlign?_.x2-this.width:_.x1+_.width/2-this.width/2,L=_.y1+_.height/2-this.height/2):"bottom"===this.verticalAlign&&(j="left"===this.horizontalAlign?_.x1:"right"===this.horizontalAlign?_.x2-this.width:_.x1+_.width/2-this.width/2,L=_.y2-this.height),this.items=at,nt=0;nt<this.items.length;nt++)(rt=at[nt]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[rt.id]={id:rt.id,objectType:"legendItem",legendItemIndex:nt,dataSeriesIndex:rt.dataSeriesIndex,dataPointIndex:rt.dataPointIndex};this.markerSize=dt,this.rows=st,0<at.length&&u.layoutManager.registerSpace(B,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:j,y1:L,x2:j+this.width,y2:L+this.height}},F.prototype.render=function(){var u=this.bounds.x1,B=this.bounds.y1,L=this.markerMargin,j=this.maxWidth,tt=this.maxHeight,et=this.markerSize,it=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(u,B,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var at=0,st=0;st<it.length;st++){for(var nt=it[st],ot=0,rt=0;rt<nt.items.length;rt++){var lt=nt.items[rt],ht=lt.textBlock.x+u+(0===rt?.2*et:this.horizontalSpacing),dt=B+at,ct=ht;if(this.chart.data[lt.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(u,B,j,Math.max(tt-tt%this.lineHeight,0)),this.ctx.clip(),"line"!==lt.chartType&&"stepLine"!==lt.chartType&&"spline"!==lt.chartType||(this.ctx.strokeStyle=lt.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(ht-.1*this.lineHeight,dt+this.lineHeight/2),this.ctx.lineTo(ht+.85*this.lineHeight,dt+this.lineHeight/2),this.ctx.stroke(),ct-=.1*this.lineHeight),"error"===lt.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=et/8,this.ctx.beginPath();var pt=ht-.08*this.lineHeight+.1*this.lineHeight,ut=dt+.15*this.lineHeight,xt=.7*this.lineHeight,mt=xt+.02*this.lineHeight;this.ctx.moveTo(pt,ut),this.ctx.lineTo(pt+xt,ut),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(pt+xt/2,ut),this.ctx.lineTo(pt+xt/2,ut+mt),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(pt,ut+mt),this.ctx.lineTo(pt+xt,ut+mt),this.ctx.stroke(),this.errorMarkerColor.shift()}_.drawMarker(ht+et/2,dt+this.lineHeight/2,this.ctx,lt.markerType,"error"===lt.chartType||"line"===lt.chartType||"spline"===lt.chartType?lt.markerSize/2:lt.markerSize,lt.markerColor,lt.markerBorderColor,lt.markerBorderThickness),lt.textBlock.x=ht+L+et,"line"!==lt.chartType&&"stepLine"!==lt.chartType&&"spline"!==lt.chartType||(lt.textBlock.x+=.1*this.lineHeight),lt.textBlock.y=Math.round(dt+this.lineHeight/2),lt.textBlock.render(!0),this.ctx.restore(),ot=0<rt?Math.max(ot,lt.textBlock.height):lt.textBlock.height,this.chart.data[lt.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),ht=Q(lt.id),this.ghostCtx.fillStyle=ht,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(ct,lt.textBlock.y-this.lineHeight/2,lt.textBlock.x+lt.textBlock.width-ct,lt.textBlock.height),lt.x1=this.chart._eventManager.objectMap[lt.id].x1=ct,lt.y1=this.chart._eventManager.objectMap[lt.id].y1=lt.textBlock.y-this.lineHeight/2,lt.x2=this.chart._eventManager.objectMap[lt.id].x2=lt.textBlock.x+lt.textBlock.width,lt.y2=this.chart._eventManager.objectMap[lt.id].y2=lt.textBlock.y+lt.textBlock.height-this.lineHeight/2}at+=ot}},na(H,V),H.prototype.getDefaultAxisPlacement=function(){var u=this.type;return"column"===u||"line"===u||"stepLine"===u||"spline"===u||"area"===u||"stepArea"===u||"splineArea"===u||"stackedColumn"===u||"stackedLine"===u||"bubble"===u||"scatter"===u||"stackedArea"===u||"stackedColumn100"===u||"stackedLine100"===u||"stackedArea100"===u||"candlestick"===u||"ohlc"===u||"rangeColumn"===u||"rangeArea"===u||"rangeSplineArea"===u||"boxAndWhisker"===u||"waterfall"===u?"normal":"bar"===u||"stackedBar"===u||"stackedBar100"===u||"rangeBar"===u?"xySwapped":"pie"===u||"doughnut"===u||"funnel"===u||"pyramid"===u?"none":("error"!==u&&window.console.log("Unknown Chart Type: "+u),null)},H.getDefaultLegendMarker=function(u){return"column"===u||"stackedColumn"===u||"stackedLine"===u||"bar"===u||"stackedBar"===u||"stackedBar100"===u||"bubble"===u||"scatter"===u||"stackedColumn100"===u||"stackedLine100"===u||"stepArea"===u||"candlestick"===u||"ohlc"===u||"rangeColumn"===u||"rangeBar"===u||"rangeArea"===u||"rangeSplineArea"===u||"boxAndWhisker"===u||"waterfall"===u?"square":"line"===u||"stepLine"===u||"spline"===u||"pie"===u||"doughnut"===u?"circle":"area"===u||"splineArea"===u||"stackedArea"===u||"stackedArea100"===u||"funnel"===u||"pyramid"===u?"triangle":"error"===u?"none":(window.console.log("Unknown Chart Type: "+u),null)},H.prototype.getDataPointAtX=function(u,_){if(!this.dataPoints||0===this.dataPoints.length)return null;var B={dataPoint:null,distance:1/0,index:NaN},L=null,j=0,tt=0,et=1,it=1/0,at=0,st=0,nt=0;for("none"!==this.chart.plotInfo.axisPlacement&&(nt=this.axisX.logarithmic?1<(nt=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/nt*Math.log(u/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(nt=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/nt*(u-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(tt=0<et?nt+j:nt-j)&&tt<this.dataPoints.length){L=this.dataPoints[tt];var ot=this.axisX.logarithmic?L.x>u?L.x/u:u/L.x:Math.abs(L.x-u);if(ot<B.distance&&(B.dataPoint=L,B.distance=ot,B.index=tt),(L=ot)<=it?it=L:0<et?at++:st++,1e3<at&&1e3<st)break}else if(0>nt-j&&nt+j>=this.dataPoints.length)break;-1===et?(j++,et=1):et=-1}return _||(B.dataPoint.x.getTime?B.dataPoint.x.getTime():B.dataPoint.x)!==(u.getTime?u.getTime():u)?_&&null!==B.dataPoint?B:null:B},H.prototype.getDataPointAtXY=function(u,_,B){if(!this.dataPoints||0===this.dataPoints.length||u<this.chart.plotArea.x1||u>this.chart.plotArea.x2||_<this.chart.plotArea.y1||_>this.chart.plotArea.y2)return null;B=B||!1;var L=[],j=0,tt=0,et=1,it=!1,at=1/0,st=0,nt=0,ot=0;for("none"!==this.chart.plotInfo.axisPlacement&&(ot=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:u,y:_}),ot=this.axisX.logarithmic?1<(rt=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/rt*Math.log(ot/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(rt=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/rt*(ot-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(tt=0<et?ot+j:ot-j)&&tt<this.dataPoints.length){var rt=this.chart._eventManager.objectMap[this.dataPointIds[tt]],lt=this.dataPoints[tt],ht=null;if(rt){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":u>=rt.x1&&u<=rt.x2&&_>=rt.y1&&_<=rt.y2&&(L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:Math.min(Math.abs(rt.x1-u),Math.abs(rt.x2-u),Math.abs(rt.y1-_),Math.abs(rt.y2-_))}),it=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var dt=ka("markerSize",lt,this)||4,ct=B?20:dt;(ht=Math.sqrt(Math.pow(rt.x1-u,2)+Math.pow(rt.y1-_,2)))<=ct&&L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:ht}),(rt=Math.abs(rt.x1-u))<=at?at=rt:0<et?st++:nt++,ht<=dt/2&&(it=!0);break;case"rangeArea":case"rangeSplineArea":dt=ka("markerSize",lt,this)||4,ct=B?20:dt,(ht=Math.min(Math.sqrt(Math.pow(rt.x1-u,2)+Math.pow(rt.y1-_,2)),Math.sqrt(Math.pow(rt.x1-u,2)+Math.pow(rt.y2-_,2))))<=ct&&L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:ht}),(rt=Math.abs(rt.x1-u))<=at?at=rt:0<et?st++:nt++,ht<=dt/2&&(it=!0);break;case"bubble":dt=rt.size,(ht=Math.sqrt(Math.pow(rt.x1-u,2)+Math.pow(rt.y1-_,2)))<=dt/2&&(L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:ht}),it=!0);break;case"pie":case"doughnut":dt=rt.center,ct="doughnut"===this.type?rt.percentInnerRadius*rt.radius:0,(ht=Math.sqrt(Math.pow(dt.x-u,2)+Math.pow(dt.y-_,2)))<rt.radius&&ht>ct&&(0>(ht=Math.atan2(_-dt.y,u-dt.x))&&(ht+=2*Math.PI),ht=Number(((ht/Math.PI*180%360+360)%360).toFixed(12)),dt=Number(((rt.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(ct=Number(((rt.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<rt.endAngle&&(ct=360),dt>=ct&&0!==lt.y&&(ct+=360,ht<dt&&(ht+=360)),ht>dt&&ht<ct&&(L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:0}),it=!0));break;case"funnel":case"pyramid":_>(ht=rt.funnelSection).y1&&_<ht.y4&&(ht.y6?_>ht.y6?(tt=ht.x6+(ht.x5-ht.x6)/(ht.y5-ht.y6)*(_-ht.y6),ht=ht.x3+(ht.x4-ht.x3)/(ht.y4-ht.y3)*(_-ht.y3)):(tt=ht.x1+(ht.x6-ht.x1)/(ht.y6-ht.y1)*(_-ht.y1),ht=ht.x2+(ht.x3-ht.x2)/(ht.y3-ht.y2)*(_-ht.y2)):(tt=ht.x1+(ht.x4-ht.x1)/(ht.y4-ht.y1)*(_-ht.y1),ht=ht.x2+(ht.x3-ht.x2)/(ht.y3-ht.y2)*(_-ht.y2)),u>tt&&u<ht&&(L.push({dataPoint:lt,dataPointIndex:rt.dataPointIndex,dataSeries:this,distance:0}),it=!0));break;case"boxAndWhisker":(u>=rt.x1-rt.borderThickness/2&&u<=rt.x2+rt.borderThickness/2&&_>=rt.y4-rt.borderThickness/2&&_<=rt.y1+rt.borderThickness/2||Math.abs(rt.x2-u+rt.x1-u)<rt.borderThickness&&_>=rt.y1&&_<=rt.y4)&&(L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:Math.min(Math.abs(rt.x1-u),Math.abs(rt.x2-u),Math.abs(rt.y2-_),Math.abs(rt.y3-_))}),it=!0);break;case"candlestick":(u>=rt.x1-rt.borderThickness/2&&u<=rt.x2+rt.borderThickness/2&&_>=rt.y2-rt.borderThickness/2&&_<=rt.y3+rt.borderThickness/2||Math.abs(rt.x2-u+rt.x1-u)<rt.borderThickness&&_>=rt.y1&&_<=rt.y4)&&(L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:Math.min(Math.abs(rt.x1-u),Math.abs(rt.x2-u),Math.abs(rt.y2-_),Math.abs(rt.y3-_))}),it=!0);break;case"ohlc":(Math.abs(rt.x2-u+rt.x1-u)<rt.borderThickness&&_>=rt.y2&&_<=rt.y3||u>=rt.x1&&u<=(rt.x2+rt.x1)/2&&_>=rt.y1-rt.borderThickness/2&&_<=rt.y1+rt.borderThickness/2||u>=(rt.x1+rt.x2)/2&&u<=rt.x2&&_>=rt.y4-rt.borderThickness/2&&_<=rt.y4+rt.borderThickness/2)&&(L.push({dataPoint:lt,dataPointIndex:tt,dataSeries:this,distance:Math.min(Math.abs(rt.x1-u),Math.abs(rt.x2-u),Math.abs(rt.y2-_),Math.abs(rt.y3-_))}),it=!0)}if(it||1e3<st&&1e3<nt)break}}else if(0>ot-j&&ot+j>=this.dataPoints.length)break;-1===et?(j++,et=1):et=-1}for(u=null,_=0;_<L.length;_++)u?L[_].distance<=u.distance&&(u=L[_]):u=L[_];return u},H.prototype.getMarkerProperties=function(u,_,B,L){var j=this.dataPoints;return{x:_,y:B,ctx:L,type:j[u].markerType?j[u].markerType:this.markerType,size:j[u].markerSize?j[u].markerSize:this.markerSize,color:j[u].markerColor?j[u].markerColor:this.markerColor?this.markerColor:j[u].color?j[u].color:this.color?this.color:this._colorSet[u%this._colorSet.length],borderColor:j[u].markerBorderColor?j[u].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:j[u].markerBorderThickness?j[u].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},na(D,V),D.prototype.createExtraLabelsForLog=function(u){if(!(5<(u=(u||0)+1))){var _=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(_/this.viewportMinimum)<this.noTicks-1){for(var B=D.getNiceNumber((_-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),L=Math.ceil(this.viewportMinimum/B)*B;L<_;L+=B)L<this.viewportMinimum||this.logLabelValues.push(L);this.logLabelValues.sort(Pa),this.createExtraLabelsForLog(u)}}},D.prototype.createLabels=function(){var u,_,B,L,j,tt=0,et=0,at=0,st=0,nt=(et=0,et=this.interval,0),ot=.6*this.chart.height;u=!1;var rt=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],lt=rt.length?s(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(B=this.viewportMaximum,this.labels){u=Math.ceil(et);var ht=!1;for(tt=et=Math.ceil(this.intervalStartPosition);tt<this.viewportMaximum;tt+=u){if(!this.labels[tt]){ht=!1;break}ht=!0}ht&&(this.interval=u,this.intervalStartPosition=et)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),et=0,ht=lt;et<this.logLabelValues.length;et++)if((tt=this.logLabelValues[et])<this.viewportMinimum)et++;else{for(;ht<rt.length&&tt>rt[ht].endValue;ht++);j=tt,(u=ht<rt.length&&tt>=rt[ht].startValue&&tt<=rt[ht].endValue)||(u=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:j,label:this.labels[j]?this.labels[j]:null}):"axisX"===this.type&&this.labels[j]?this.labels[j]:ea(j,this.valueFormatString,this.chart._cultureInfo),u=new ia(this.ctx,{x:0,y:0,maxWidth:at,maxHeight:st,angle:this.labelAngle,text:this.prefix+u+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:j,textBlock:u,effectiveHeight:null}))}for(ht=lt,tt=this.intervalStartPosition;tt<=B;tt=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?tt*Math.pow(this.logarithmBase,this.interval):tt+this.interval:(this.logarithmic&&this.equidistantInterval?tt*Math.pow(this.logarithmBase,this.interval):tt+this.interval).toFixed(12))){for(;ht<rt.length&&tt>rt[ht].endValue;ht++);j=tt,(u=ht<rt.length&&tt>=rt[ht].startValue&&tt<=rt[ht].endValue)||(u=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:j,label:this.labels[j]?this.labels[j]:null}):"axisX"===this.type&&this.labels[j]?this.labels[j]:ea(j,this.valueFormatString,this.chart._cultureInfo),u=new ia(this.ctx,{x:0,y:0,maxWidth:at,maxHeight:st,angle:this.labelAngle,text:this.prefix+u+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:j,textBlock:u,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),B=Va(new Date(this.viewportMaximum),this.interval,this.intervalType),ht=lt,tt=this.intervalStartPosition;tt<B;Va(tt,et,this.intervalType)){for(u=tt.getTime();ht<rt.length&&u>rt[ht].endValue;ht++);j=u,(u=ht<rt.length&&u>=rt[ht].startValue&&u<=rt[ht].endValue)||(u=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(j),label:this.labels[j]?this.labels[j]:null}):"axisX"===this.type&&this.labels[j]?this.labels[j]:ft(j,this.valueFormatString,this.chart._cultureInfo),u=new ia(this.ctx,{x:0,y:0,maxWidth:at,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:st,angle:this.labelAngle,text:this.prefix+u+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:j,textBlock:u,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(nt=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*ut[this.intervalType+"Duration"]*this.interval,at=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(st=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(nt=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*ut[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(at=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),st=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),et=0;et<this._labels.length;et++){(u=this._labels[et].textBlock).maxWidth=at,u.maxHeight=st;var dt=u.measureText();L=dt.height}if(B=[],lt=rt=0,this.labelAutoFit||this.options.labelAutoFit)if(s(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(at=.9*nt>>0,lt=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=at,this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,tt=0;tt<this._labels.length;tt++)if(!this._labels[tt].breaksLabelType){var ct;for(ht=(u=this._labels[tt].textBlock).text.split(" "),et=0;et<ht.length;et++)j=ht[et],this.ctx.font=u.fontStyle+" "+u.fontWeight+" "+u.fontSize+"px "+u.fontFamily,(j=this.ctx.measureText(j)).width>lt&&(ct=tt,lt=j.width)}for(tt=0,tt=this.intervalStartPosition<this.viewportMinimum?1:0;tt<this._labels.length;tt++)if(!this._labels[tt].breaksLabelType){for(dt=(u=this._labels[tt].textBlock).measureText(),ht=tt+1;ht<this._labels.length;ht++)if(!this._labels[ht].breaksLabelType){_=(_=this._labels[ht].textBlock).measureText();break}if(B.push(u.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,B),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),et=at*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(st-u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),s(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?st:Math.min((et-at*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),et),j=(ot-(L+u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),s(this.options.labelWrap)){if(s(this.options.labelWrap))if(s(this.options.labelMaxWidth)){if(!s(_))if(et=dt.width+_.width>>0,ht=this.labelFontSize,lt<at)et-2*at>rt&&(rt=et-2*at,et>=2*at&&et<2.2*at?(this.sessionVariables.labelMaxWidth=at,s(this.options.labelFontSize)&&12<ht&&(ht=Math.floor(12/13*ht),u.measureText()),this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?ht:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):et>=2.2*at&&et<2.8*at?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=j,this.sessionVariables.labelFontSize=ht):et>=2.8*at&&et<3.2*at?(this.sessionVariables.labelMaxWidth=Math.max(at,lt),this.sessionVariables.labelWrap=!0,s(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),u.measureText()),this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?ht:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):et>=3.2*at&&et<3.6*at?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=j,this.sessionVariables.labelFontSize=this.labelFontSize):et>3.6*at&&et<5*at?(s(this.options.labelFontSize)&&12<ht&&(ht=Math.floor(12/13*ht),u.measureText()),this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?ht:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=j):et>5*at&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=at,this.sessionVariables.labelFontSize=ht,this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelAngle=this.labelAngle));else if(ct===tt&&(0===ct&&lt+this._labels[ct+1].textBlock.measureText().width-2*at>rt||ct===this._labels.length-1&&lt+this._labels[ct-1].textBlock.measureText().width-2*at>rt||0<ct&&ct<this._labels.length-1&&lt+this._labels[ct+1].textBlock.measureText().width-2*at>rt&&lt+this._labels[ct-1].textBlock.measureText().width-2*at>rt))rt=0===ct?lt+this._labels[ct+1].textBlock.measureText().width-2*at:lt+this._labels[ct-1].textBlock.measureText().width-2*at,this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?ht:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=j;else if(0===rt)for(this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?ht:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,et=0;et<this._labels.length;et++)(u=this._labels[et].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(at,lt),j),dt=u.measureText(),et<this._labels.length-1&&(ht=et+1,(_=this._labels[ht].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(at,lt),j),_=_.measureText(),dt.width+_.width>>0>2*at&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<at?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=et):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=st)}else this.labelWrap?s(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(at,lt),j),this.sessionVariables.labelWrap=this.labelWrap,_&&dt.width+_.width>>0>2*at&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>at?-25:this.sessionVariables.labelAngle):s(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelMaxWidth=at,_&&dt.width+_.width>>0>2*at&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=j)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>at?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?st:Math.min((et-at*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),et),j=0!=this.labelAngle?(ot-(L+u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):at,this.sessionVariables.labelMaxHeight=this.labelWrap?(ot-j*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,s(this.options.labelWrap)?s(this.options.labelWrap)&&(this.labelWrap&&!s(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:j,this.sessionVariables.labelMaxHeight=st):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=j,this.sessionVariables.labelMaxHeight=et<.9*nt?.9*nt:et,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:j):(s(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:j,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=st)}for(et=0;et<this._labels.length;et++)(u=this._labels[et].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,u.fontSize=this.sessionVariables.labelFontSize,u.angle=this.labelAngle=this.sessionVariables.labelAngle,u.wrap=this.labelWrap=this.sessionVariables.labelWrap,u.maxHeight=this.sessionVariables.labelMaxHeight,u.measureText()}else for(tt=0;tt<this._labels.length;tt++)(u=this._labels[tt].textBlock).maxWidth=this.labelMaxWidth=s(this.options.labelMaxWidth)?s(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=at:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,u.fontSize=this.labelFontSize=s(this.options.labelFontSize)?s(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,u.angle=this.labelAngle=s(this.options.labelAngle)?s(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,u.wrap=this.labelWrap=s(this.options.labelWrap)?s(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,u.maxHeight=s(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=st:this.sessionVariables.labelMaxHeight,u.measureText();else if("left"===this._position||"right"===this._position)if(at=s(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,st=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=at,this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelAngle=s(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,tt=0;tt<this._labels.length;tt++)if(!this._labels[tt].breaksLabelType){for(dt=(u=this._labels[tt].textBlock).measureText(),ht=tt+1;ht<this._labels.length;ht++)if(!this._labels[ht].breaksLabelType){_=(_=this._labels[ht].textBlock).measureText();break}B.push(u.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,B),et=at*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(st-u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),s(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?s(this.options.labelWrap)?s(this.options.labelWrap)&&(s(this.options.labelMaxWidth)?s(_)||(nt=dt.height+_.height>>0)-2*st>lt&&(lt=nt-2*st,nt>=2*st&&nt<2.4*st?(s(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),u.measureText()),this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):nt>=2.4*st&&nt<2.8*st?(this.sessionVariables.labelMaxHeight=et,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):nt>=2.8*st&&nt<3.2*st?(this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelWrap=!0,s(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),u.measureText()),this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=s(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):nt>=3.2*st&&nt<3.6*st?(this.sessionVariables.labelMaxHeight=et,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):nt>3.6*st&&nt<10*st?(s(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),u.measureText()),this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=at,this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelAngle=s(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):nt>10*st&&nt<50*st&&(s(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),u.measureText()),this.sessionVariables.labelFontSize=s(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelMaxWidth=at,this.sessionVariables.labelAngle=s(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=st,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:at,this.sessionVariables.labelMaxHeight=st):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?at:Math.min((et-st*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),st),s(this.options.labelWrap)?s(this.options.labelWrap)&&(this.labelWrap&&!s(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=et):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:at,this.sessionVariables.labelMaxHeight=0===this.labelAngle?st:et,s(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?st:et,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=at):(this.sessionVariables.labelMaxHeight=st,s(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(et=0;et<this._labels.length;et++)(u=this._labels[et].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,u.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,u.angle=this.labelAngle=this.sessionVariables.labelAngle,u.wrap=this.labelWrap=this.sessionVariables.labelWrap,u.maxHeight=this.sessionVariables.labelMaxHeight,u.measureText()}else for(tt=0;tt<this._labels.length;tt++)(u=this._labels[tt].textBlock).maxWidth=this.labelMaxWidth=s(this.options.labelMaxWidth)?s(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=at:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,u.fontSize=this.labelFontSize=s(this.options.labelFontSize)?s(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,u.angle=this.labelAngle=s(this.options.labelAngle)?s(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,u.wrap=this.labelWrap=s(this.options.labelWrap)?s(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,u.maxHeight=s(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=st:this.sessionVariables.labelMaxHeight,u.measureText();for(tt=0;tt<this.stripLines.length;tt++){var pt;"outside"===(at=this.stripLines[tt]).labelPlacement?(st=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(s(at.options.labelWrap)&&!s(this.sessionVariables.stripLineLabelMaxHeight)?pt=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=pt=at.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(s(at.options.labelWrap)&&!s(this.sessionVariables.stripLineLabelMaxHeight)?pt=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=pt=at.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),s(at.labelBackgroundColor)&&(at.labelBackgroundColor="#EEEEEE")):(st="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,pt=s(at.options.labelWrap)||at.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,s(at.labelBackgroundColor)&&(s(at.startValue)&&0!==at.startValue?at.labelBackgroundColor=it?"transparent":null:at.labelBackgroundColor="#EEEEEE")),u=new ia(this.ctx,{x:0,y:0,backgroundColor:at.labelBackgroundColor,borderColor:at.labelBorderColor,borderThickness:at.labelBorderThickness,cornerRadius:at.labelCornerRadius,maxWidth:at.options.labelMaxWidth?at.options.labelMaxWidth:st,maxHeight:pt,angle:this.labelAngle,text:at.labelFormatter?at.labelFormatter({chart:this.chart,axis:this,stripLine:at}):at.label,textAlign:this.labelTextAlign,fontSize:"outside"===at.labelPlacement?at.options.labelFontSize?at.labelFontSize:this.labelFontSize:at.labelFontSize,fontFamily:"outside"===at.labelPlacement?at.options.labelFontFamily?at.labelFontFamily:this.labelFontFamily:at.labelFontFamily,fontWeight:"outside"===at.labelPlacement?at.options.labelFontWeight?at.labelFontWeight:this.labelFontWeight:at.labelFontWeight,fontColor:at.labelFontColor||at.color,fontStyle:"outside"===at.labelPlacement?at.options.labelFontStyle?at.labelFontStyle:this.fontWeight:at.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:at.value,textBlock:u,effectiveHeight:null,stripLine:at})}},D.prototype.createLabelsAndCalculateWidth=function(){var u=0,_=0;this._labels=[],this._stripLineLabels=[];var B=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(_=0;_<this._labels.length;_++){var L=this._labels[_].textBlock,j=L.measureText(),tt=0;u<(tt=0===this.labelAngle?j.width:j.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(j.height-L.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(u=tt),this._labels[_].effectiveWidth=tt}for(_=0;_<this._stripLineLabels.length;_++)"outside"===this._stripLineLabels[_].stripLine.labelPlacement&&this._stripLineLabels[_].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[_].stripLine.value<=this.viewportMaximum&&(j=(L=this._stripLineLabels[_].textBlock).measureText(),u<(tt=0===this.labelAngle?j.width:j.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(j.height-L.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(u=tt),this._stripLineLabels[_].effectiveWidth=tt)}return(this.title?this._titleTextBlock.measureText().height+2:0)+u+("inside"===this.tickPlacement?0:this.tickLength)+B},D.prototype.createLabelsAndCalculateHeight=function(){var u=0;this._labels=[],this._stripLineLabels=[];var _,B=0,L=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(B=0;B<this._labels.length;B++){var j=(_=this._labels[B].textBlock).measureText(),tt=0;u<(tt=0===this.labelAngle?j.height:j.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(j.height-_.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(u=tt),this._labels[B].effectiveHeight=tt}for(B=0;B<this._stripLineLabels.length;B++)"outside"===this._stripLineLabels[B].stripLine.labelPlacement&&this._stripLineLabels[B].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[B].stripLine.value<=this.viewportMaximum&&(j=(_=this._stripLineLabels[B].textBlock).measureText(),u<(tt=0===this.labelAngle?j.height:j.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(j.height-_.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(u=tt),this._stripLineLabels[B].effectiveHeight=tt)}return(this.title?this._titleTextBlock.measureText().height+2:0)+u+("inside"===this.tickPlacement?0:this.tickLength)+L},D.setLayout=function(u,_,B,L,j,tt){var et,it,at,st,nt=u[0]?u[0].chart:_[0].chart,ot=nt.isNavigator?0:10,rt=nt._axes;if(u&&0<u.length)for(var lt=0;lt<u.length;lt++)u[lt]&&u[lt].calculateAxisParameters();if(_&&0<_.length)for(lt=0;lt<_.length;lt++)_[lt].calculateAxisParameters();if(B&&0<B.length)for(lt=0;lt<B.length;lt++)B[lt].calculateAxisParameters();if(L&&0<L.length)for(lt=0;lt<L.length;lt++)L[lt].calculateAxisParameters();for(lt=0;lt<rt.length;lt++)if(rt[lt]&&rt[lt].scaleBreaks&&rt[lt].scaleBreaks._appliedBreaks.length)for(var ht=rt[lt].scaleBreaks._appliedBreaks,dt=0;dt<ht.length&&!(ht[dt].startValue>rt[lt].viewportMaximum);dt++)ht[dt].endValue<rt[lt].viewportMinimum||(s(rt[lt].scaleBreaks.firstBreakIndex)&&(rt[lt].scaleBreaks.firstBreakIndex=dt),ht[dt].startValue>=rt[lt].viewPortMinimum&&(rt[lt].scaleBreaks.lastBreakIndex=dt));var ct,pt,ut,xt,mt,gt=dt=0,ft=0,bt=0,vt=0,yt=0,kt=0,wt=it=0;for(ht=ut=xt=mt=!1,lt=0;lt<rt.length;lt++)rt[lt]&&rt[lt].title&&(rt[lt]._titleTextBlock=new ia(rt[lt].ctx,{text:rt[lt].title,horizontalAlign:"center",fontSize:rt[lt].titleFontSize,fontFamily:rt[lt].titleFontFamily,fontWeight:rt[lt].titleFontWeight,fontColor:rt[lt].titleFontColor,fontStyle:rt[lt].titleFontStyle,borderColor:rt[lt].titleBorderColor,borderThickness:rt[lt].titleBorderThickness,backgroundColor:rt[lt].titleBackgroundColor,cornerRadius:rt[lt].titleCornerRadius,textBaseline:"top"}));for(lt=0;lt<rt.length;lt++)if(rt[lt].title)switch(rt[lt]._position){case"left":rt[lt]._titleTextBlock.maxWidth=rt[lt].titleMaxWidth||tt.height,rt[lt]._titleTextBlock.maxHeight=rt[lt].titleWrap?.8*tt.width:1.5*rt[lt].titleFontSize,rt[lt]._titleTextBlock.angle=-90;break;case"right":rt[lt]._titleTextBlock.maxWidth=rt[lt].titleMaxWidth||tt.height,rt[lt]._titleTextBlock.maxHeight=rt[lt].titleWrap?.8*tt.width:1.5*rt[lt].titleFontSize,rt[lt]._titleTextBlock.angle=90;break;default:rt[lt]._titleTextBlock.maxWidth=rt[lt].titleMaxWidth||tt.width,rt[lt]._titleTextBlock.maxHeight=rt[lt].titleWrap?.8*tt.height:1.5*rt[lt].titleFontSize,rt[lt]._titleTextBlock.angle=0}if("normal"===j){bt=[],vt=[],yt=[],kt=[];for(var Mt=[],Tt=[],Ct=[],St=[];4>dt;){var Pt=0,At=0,_t=0,Bt=0,Ft=j=0,It=0,Lt=0,Dt=0,Vt=0,zt=0,Wt=0;if(B&&0<B.length)for(yt=[],lt=zt=0;lt<B.length;lt++)yt.push(Math.ceil(B[lt]?B[lt].createLabelsAndCalculateWidth():0)),zt+=yt[lt],It+=B[lt]&&!nt.isNavigator?B[lt].margin:0;else yt.push(Math.ceil(B[0]?B[0].createLabelsAndCalculateWidth():0));if(Ct.push(yt),L&&0<L.length)for(kt=[],lt=Wt=0;lt<L.length;lt++)kt.push(Math.ceil(L[lt]?L[lt].createLabelsAndCalculateWidth():0)),Wt+=kt[lt],Lt+=L[lt]?L[lt].margin:0;else kt.push(Math.ceil(L[0]?L[0].createLabelsAndCalculateWidth():0));if(St.push(kt),et=Math.round(tt.x1+zt+It),at=Math.round(tt.x2-Wt-Lt>nt.width-ot?nt.width-ot:tt.x2-Wt-Lt),u&&0<u.length)for(bt=[],lt=Dt=0;lt<u.length;lt++)u[lt]&&(u[lt].lineCoordinates={}),u[lt].lineCoordinates.width=Math.abs(at-et),u[lt].title&&(u[lt]._titleTextBlock.maxWidth=0<u[lt].titleMaxWidth&&u[lt].titleMaxWidth<u[lt].lineCoordinates.width?u[lt].titleMaxWidth:u[lt].lineCoordinates.width),bt.push(Math.ceil(u[lt]?u[lt].createLabelsAndCalculateHeight():0)),Dt+=bt[lt],j+=u[lt]&&!nt.isNavigator?u[lt].margin:0;else bt.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateHeight():0));if(Mt.push(bt),_&&0<_.length)for(vt=[],lt=Vt=0;lt<_.length;lt++)_[lt]&&(_[lt].lineCoordinates={}),_[lt].lineCoordinates.width=Math.abs(at-et),_[lt].title&&(_[lt]._titleTextBlock.maxWidth=0<_[lt].titleMaxWidth&&_[lt].titleMaxWidth<_[lt].lineCoordinates.width?_[lt].titleMaxWidth:_[lt].lineCoordinates.width),vt.push(Math.ceil(_[lt]?_[lt].createLabelsAndCalculateHeight():0)),Vt+=vt[lt],Ft+=_[lt]&&!nt.isNavigator?_[lt].margin:0;else vt.push(Math.ceil(_[0]?_[0].createLabelsAndCalculateHeight():0));if(Tt.push(vt),u&&0<u.length)for(lt=0;lt<u.length;lt++)u[lt]&&(u[lt].lineCoordinates.x1=et,at=Math.round(tt.x2-Wt-Lt>nt.width-ot?nt.width-ot:tt.x2-Wt-Lt),u[lt]._labels&&1<u[lt]._labels.length&&(it=st=0,st=u[lt]._labels[1],it="dateTime"===u[lt].valueType?u[lt]._labels[u[lt]._labels.length-2]:u[lt]._labels[u[lt]._labels.length-1],gt=st.textBlock.width*Math.cos(Math.PI/180*Math.abs(st.textBlock.angle))+(st.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(st.textBlock.angle)),ft=it.textBlock.width*Math.cos(Math.PI/180*Math.abs(it.textBlock.angle))+(it.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(it.textBlock.angle))),!u[lt]||!u[lt].labelAutoFit||s(ct)||s(pt)||nt.isNavigator||nt.stockChart||(it=0,0<u[lt].labelAngle?pt+ft>at&&(it+=0<u[lt].labelAngle?pt+ft-at-Wt:0):0>u[lt].labelAngle?ct-gt<et&&ct-gt<u[lt].viewportMinimum&&(wt=et-(It+u[lt].tickLength+yt+ct-gt+u[lt].labelFontSize/2)):0===u[lt].labelAngle&&(pt+ft>at&&(it=pt+ft/2-at-Wt),ct-gt<et&&ct-gt<u[lt].viewportMinimum&&(wt=et-It-u[lt].tickLength-yt-ct+gt/2)),u[lt].viewportMaximum===u[lt].maximum&&u[lt].viewportMinimum===u[lt].minimum&&0<u[lt].labelAngle&&0<it?at-=it:u[lt].viewportMaximum===u[lt].maximum&&u[lt].viewportMinimum===u[lt].minimum&&0>u[lt].labelAngle&&0<wt?et+=wt:u[lt].viewportMaximum===u[lt].maximum&&u[lt].viewportMinimum===u[lt].minimum&&0===u[lt].labelAngle&&(0<wt&&(et+=wt),0<it&&(at-=it))),nt.panEnabled?Dt=s(nt.sessionVariables.axisX.height)?nt.sessionVariables.axisX.height=Dt:nt.sessionVariables.axisX.height:nt.sessionVariables.axisX.height=Dt,it=Math.round(tt.y2-Dt-j+Pt),st=Math.round(tt.y2),u[lt].lineCoordinates.x2=at,u[lt].lineCoordinates.width=at-et,u[lt].lineCoordinates.y1=it,u[lt].lineCoordinates.y2=it+u[lt].lineThickness/2,"inside"===u[lt].labelPlacement&&0<lt&&(u[lt].lineCoordinates.y1=u[lt].lineCoordinates.y1+bt[lt]-(u[lt]._titleTextBlock?u[lt]._titleTextBlock.height:0)-("inside"===u[lt].tickPlacement?u[lt].tickLength:0),u[lt].lineCoordinates.y2=u[lt].lineCoordinates.y1+u[lt].lineThickness/2),u[lt].bounds={x1:et,y1:it,x2:at,y2:st-(Dt+j-bt[lt]-Pt),width:at-et,height:st-it}),Pt+=bt[lt]+u[lt].margin;if(_&&0<_.length)for(lt=0;lt<_.length;lt++)_[lt].lineCoordinates.x1=Math.round(tt.x1+zt+It),_[lt].lineCoordinates.x2=Math.round(tt.x2-Wt-Lt>nt.width-ot?nt.width-ot:tt.x2-Wt-Lt),_[lt].lineCoordinates.width=Math.abs(at-et),_[lt]._labels&&1<_[lt]._labels.length&&(st=_[lt]._labels[1],it="dateTime"===_[lt].valueType?_[lt]._labels[_[lt]._labels.length-2]:_[lt]._labels[_[lt]._labels.length-1],gt=st.textBlock.width*Math.cos(Math.PI/180*Math.abs(st.textBlock.angle))+(st.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(st.textBlock.angle)),ft=it.textBlock.width*Math.cos(Math.PI/180*Math.abs(it.textBlock.angle))+(it.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(it.textBlock.angle))),nt.panEnabled?Vt=s(nt.sessionVariables.axisX2.height)?nt.sessionVariables.axisX2.height=Vt:nt.sessionVariables.axisX2.height:nt.sessionVariables.axisX2.height=Vt,it=Math.round(tt.y1),st=Math.round(tt.y2+_[lt].margin),_[lt].lineCoordinates.y1=it+Vt+Ft-At,_[lt].lineCoordinates.y2=it,"inside"===_[lt].labelPlacement&&0<lt&&(_[lt].lineCoordinates.y1=_[lt-1].bounds.y1-vt[lt]+(_[lt]._titleTextBlock?_[lt]._titleTextBlock.height:0)),_[lt].bounds={x1:et,y1:it+(Vt+Ft-vt[lt]-At),x2:at,y2:st,width:at-et,height:st-it},At+=vt[lt]+_[lt].margin;if(B&&0<B.length)for(lt=0;lt<B.length;lt++)It=nt.isNavigator?0:10,B[lt]&&(et=Math.round(u[0]?u[0].lineCoordinates.x1:_[0].lineCoordinates.x1),It=B[lt]._labels&&0<B[lt]._labels.length?B[lt]._labels[B[lt]._labels.length-1].textBlock.height/2:ot,it=Math.round(tt.y1+Vt+Ft<Math.max(It,ot)?Math.max(It,ot):tt.y1+Vt+Ft),at=Math.round(u[0]?u[0].lineCoordinates.x1:_[0].lineCoordinates.x1),It=0<u.length?0:B[lt]._labels&&0<B[lt]._labels.length?B[lt]._labels[0].textBlock.height/2:ot,st=Math.round(tt.y2-Dt-j-It),B[lt].lineCoordinates={x1:et-_t,y1:it,x2:at-_t,y2:st,height:Math.abs(st-it)},"inside"===B[lt].labelPlacement&&0<lt&&(B[lt].lineCoordinates.x1=B[lt].lineCoordinates.x1-(yt[lt]-B[lt]._titleTextBlock?B[lt]._titleTextBlock.height:0)+("outside"===B[lt].tickPlacement?B[lt].tickLength:0),B[lt].lineCoordinates.x2=B[lt].lineCoordinates.x1+B[lt].lineThickness/2),B[lt].bounds={x1:et-(yt[lt]+_t),y1:it,x2:at,y2:st,width:at-et,height:st-it},B[lt].title&&(B[lt]._titleTextBlock.maxWidth=0<B[lt].titleMaxWidth&&B[lt].titleMaxWidth<B[lt].lineCoordinates.height?B[lt].titleMaxWidth:B[lt].lineCoordinates.height),_t+=yt[lt]+B[lt].margin);if(L&&0<L.length)for(lt=0;lt<L.length;lt++)L[lt]&&(et=Math.round(u[0]?u[0].lineCoordinates.x2:_[0].lineCoordinates.x2),at=Math.round(et),It=L[lt]._labels&&0<L[lt]._labels.length?L[lt]._labels[L[lt]._labels.length-1].textBlock.height/2:0,it=Math.round(tt.y1+Vt+Ft<Math.max(It,ot)?Math.max(It,ot):tt.y1+Vt+Ft),It=0<u.length?0:L[lt]._labels&&0<L[lt]._labels.length?L[lt]._labels[0].textBlock.height/2:0,st=Math.round(tt.y2-(Dt+j+It)),L[lt].lineCoordinates={x1:et+Bt,y1:it,x2:et+Bt,y2:st,height:Math.abs(st-it)},"inside"===L[lt].labelPlacement&&0<lt&&(L[lt].lineCoordinates.x1=L[lt].lineCoordinates.x1+(kt[lt]-L[lt]._titleTextBlock?L[lt]._titleTextBlock.height:0)-("outside"===L[lt].tickPlacement?L[lt].tickLength:0)-2,L[lt].lineCoordinates.x2=L[lt].lineCoordinates.x1+L[lt].lineThickness/2),L[lt].bounds={x1:et,y1:it,x2:at+(kt[lt]+Bt),y2:st,width:at-et,height:st-it},L[lt].title&&(L[lt]._titleTextBlock.maxWidth=0<L[lt].titleMaxWidth&&L[lt].titleMaxWidth<L[lt].lineCoordinates.height?L[lt].titleMaxWidth:L[lt].lineCoordinates.height),Bt+=kt[lt]+L[lt].margin);if(u&&0<u.length)for(lt=0;lt<u.length;lt++)u[lt]&&(u[lt].calculateValueToPixelConversionParameters(),u[lt].calculateBreaksSizeInValues(),u[lt]._labels&&1<u[lt]._labels.length&&(ct=(u[lt].logarithmic?Math.log(u[lt]._labels[1].position/u[lt].viewportMinimum)/u[lt].conversionParameters.lnLogarithmBase:u[lt]._labels[1].position-u[lt].viewportMinimum)*Math.abs(u[lt].conversionParameters.pixelPerUnit)+u[lt].lineCoordinates.x1,et=u[lt]._labels[u[lt]._labels.length-("dateTime"===u[lt].valueType?2:1)].position,et=u[lt].getApparentDifference(u[lt].viewportMinimum,et),pt=u[lt].logarithmic?(1<et?Math.log(et)/u[lt].conversionParameters.lnLogarithmBase*Math.abs(u[lt].conversionParameters.pixelPerUnit):0)+u[lt].lineCoordinates.x1:(0<et?et*Math.abs(u[lt].conversionParameters.pixelPerUnit):0)+u[lt].lineCoordinates.x1));if(_&&0<_.length)for(lt=0;lt<_.length;lt++)_[lt].calculateValueToPixelConversionParameters(),_[lt].calculateBreaksSizeInValues(),_[lt]._labels&&1<_[lt]._labels.length&&(ct=(_[lt].logarithmic?Math.log(_[lt]._labels[1].position/_[lt].viewportMinimum)/_[lt].conversionParameters.lnLogarithmBase:_[lt]._labels[1].position-_[lt].viewportMinimum)*Math.abs(_[lt].conversionParameters.pixelPerUnit)+_[lt].lineCoordinates.x1,et=_[lt]._labels[_[lt]._labels.length-("dateTime"===_[lt].valueType?2:1)].position,et=_[lt].getApparentDifference(_[lt].viewportMinimum,et),pt=_[lt].logarithmic?(1<et?Math.log(et)/_[lt].conversionParameters.lnLogarithmBase*Math.abs(_[lt].conversionParameters.pixelPerUnit):0)+_[lt].lineCoordinates.x1:(0<et?et*Math.abs(_[lt].conversionParameters.pixelPerUnit):0)+_[lt].lineCoordinates.x1);for(lt=0;lt<rt.length;lt++)"axisY"===rt[lt].type&&(rt[lt].calculateValueToPixelConversionParameters(),rt[lt].calculateBreaksSizeInValues());if(0<dt){if(u&&0<u.length)for(lt=0;lt<u.length;lt++)ht=Mt[dt-1][lt]===Mt[dt][lt];else ht=!0;if(_&&0<_.length)for(lt=0;lt<_.length;lt++)ut=Tt[dt-1][lt]===Tt[dt][lt];else ut=!0;if(B&&0<B.length)for(lt=0;lt<B.length;lt++)xt=Ct[dt-1][lt]===Ct[dt][lt];else xt=!0;if(L&&0<L.length)for(lt=0;lt<L.length;lt++)mt=St[dt-1][lt]===St[dt][lt];else mt=!0}if(ht&&ut&&xt&&mt)break;dt++}if(u&&0<u.length)for(lt=0;lt<u.length;lt++)u[lt].calculateStripLinesThicknessInValues(),u[lt].calculateBreaksInPixels();if(_&&0<_.length)for(lt=0;lt<_.length;lt++)_[lt].calculateStripLinesThicknessInValues(),_[lt].calculateBreaksInPixels();if(B&&0<B.length)for(lt=0;lt<B.length;lt++)B[lt].calculateStripLinesThicknessInValues(),B[lt].calculateBreaksInPixels();if(L&&0<L.length)for(lt=0;lt<L.length;lt++)L[lt].calculateStripLinesThicknessInValues(),L[lt].calculateBreaksInPixels()}else{for(ot=[],ct=[],wt=[],gt=[],pt=[],ft=[],Mt=[],Tt=[];4>dt;){if(Dt=Bt=At=_t=Lt=It=Ft=j=St=Ct=Pt=Vt=0,u&&0<u.length)for(wt=[],lt=Bt=0;lt<u.length;lt++)wt.push(Math.ceil(u[lt]?u[lt].createLabelsAndCalculateWidth():0)),Bt+=wt[lt],j+=u[lt]&&!nt.isNavigator?u[lt].margin:0;else wt.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateWidth():0));if(Mt.push(wt),_&&0<_.length)for(gt=[],lt=Dt=0;lt<_.length;lt++)gt.push(Math.ceil(_[lt]?_[lt].createLabelsAndCalculateWidth():0)),Dt+=gt[lt],Ft+=_[lt]?_[lt].margin:0;else gt.push(Math.ceil(_[0]?_[0].createLabelsAndCalculateWidth():0));if(Tt.push(gt),B&&0<B.length)for(lt=0;lt<B.length;lt++)B[lt].lineCoordinates={},et=Math.round(tt.x1+Bt+j),at=Math.round(tt.x2-Dt-Ft>nt.width-10?nt.width-10:tt.x2-Dt-Ft),B[lt].labelAutoFit&&!s(bt)&&(0<!u.length&&(et=0>B[lt].labelAngle?Math.max(et,bt):0===B[lt].labelAngle?Math.max(et,bt/2):et),0<!_.length&&(at=0<B[lt].labelAngle||0===B[lt].labelAngle?at-vt/2:at)),B[lt].lineCoordinates.x1=et,B[lt].lineCoordinates.x2=at,B[lt].lineCoordinates.width=Math.abs(at-et),B[lt].title&&(B[lt]._titleTextBlock.maxWidth=0<B[lt].titleMaxWidth&&B[lt].titleMaxWidth<B[lt].lineCoordinates.width?B[lt].titleMaxWidth:B[lt].lineCoordinates.width);if(L&&0<L.length)for(lt=0;lt<L.length;lt++)L[lt].lineCoordinates={},et=Math.round(tt.x1+Bt+j),at=Math.round(tt.x2-Dt-Ft>L[lt].chart.width-10?L[lt].chart.width-10:tt.x2-Dt-Ft),L[lt]&&L[lt].labelAutoFit&&!s(yt)&&(0<!u.length&&(et=0<L[lt].labelAngle?Math.max(et,yt):0===L[lt].labelAngle?Math.max(et,yt/2):et),0<!_.length&&(at-=kt/2)),L[lt].lineCoordinates.x1=et,L[lt].lineCoordinates.x2=at,L[lt].lineCoordinates.width=Math.abs(at-et),L[lt].title&&(L[lt]._titleTextBlock.maxWidth=0<L[lt].titleMaxWidth&&L[lt].titleMaxWidth<L[lt].lineCoordinates.width?L[lt].titleMaxWidth:L[lt].lineCoordinates.width);if(B&&0<B.length)for(ot=[],lt=_t=0;lt<B.length;lt++)ot.push(Math.ceil(B[lt]?B[lt].createLabelsAndCalculateHeight():0)),_t+=ot[lt]+B[lt].margin,It+=B[lt].margin;else ot.push(Math.ceil(B[0]?B[0].createLabelsAndCalculateHeight():0));if(pt.push(ot),L&&0<L.length)for(ct=[],lt=At=0;lt<L.length;lt++)ct.push(Math.ceil(L[lt]?L[lt].createLabelsAndCalculateHeight():0)),At+=ct[lt],Lt+=L[lt].margin;else ct.push(Math.ceil(L[0]?L[0].createLabelsAndCalculateHeight():0));if(ft.push(ct),B&&0<B.length)for(lt=0;lt<B.length;lt++)0<B[lt]._labels.length&&(st=B[lt]._labels[0],it=B[lt]._labels[B[lt]._labels.length-1],bt=st.textBlock.width*Math.cos(Math.PI/180*Math.abs(st.textBlock.angle))+(st.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(st.textBlock.angle)),vt=it.textBlock.width*Math.cos(Math.PI/180*Math.abs(it.textBlock.angle))+(it.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(it.textBlock.angle)));if(L&&0<L.length)for(lt=0;lt<L.length;lt++)L[lt]&&0<L[lt]._labels.length&&(st=L[lt]._labels[0],it=L[lt]._labels[L[lt]._labels.length-1],yt=st.textBlock.width*Math.cos(Math.PI/180*Math.abs(st.textBlock.angle))+(st.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(st.textBlock.angle)),kt=it.textBlock.width*Math.cos(Math.PI/180*Math.abs(it.textBlock.angle))+(it.textBlock.height-it.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(it.textBlock.angle)));if(nt.panEnabled)for(lt=0;lt<B.length;lt++)ot[lt]=s(nt.sessionVariables.axisY.height)?nt.sessionVariables.axisY.height=ot[lt]:nt.sessionVariables.axisY.height;else for(lt=0;lt<B.length;lt++)nt.sessionVariables.axisY.height=ot[lt];if(B&&0<B.length)for(lt=B.length-1;0<=lt;lt--)it=Math.round(tt.y2),st=Math.round(tt.y2>B[lt].chart.height?B[lt].chart.height:tt.y2),B[lt].lineCoordinates.y1=it-(ot[lt]+B[lt].margin+Vt),B[lt].lineCoordinates.y2=it-(ot[lt]+B[lt].margin+Vt),"inside"===B[lt].labelPlacement&&0<lt&&(B[lt].lineCoordinates.y1=B[lt].lineCoordinates.y1+ot[lt]-(B[lt]._titleTextBlock?B[lt]._titleTextBlock.height:0)-("inside"===B[lt].tickPlacement?B[lt].tickLength:0),B[lt].lineCoordinates.y2=B[lt].lineCoordinates.y1+B[lt].lineThickness/2),B[lt].bounds={x1:et,y1:it-(ot[lt]+Vt+B[lt].margin),x2:at,y2:st-(Vt+B[lt].margin),width:at-et,height:ot[lt]},B[lt].title&&(B[lt]._titleTextBlock.maxWidth=0<B[lt].titleMaxWidth&&B[lt].titleMaxWidth<B[lt].lineCoordinates.width?B[lt].titleMaxWidth:B[lt].lineCoordinates.width),Vt+=ot[lt]+B[lt].margin;if(L&&0<L.length)for(lt=L.length-1;0<=lt;lt--)L[lt]&&(it=Math.round(tt.y1),st=Math.round(tt.y1+(ct[lt]+L[lt].margin+Pt)),L[lt].lineCoordinates.y1=st,L[lt].lineCoordinates.y2=st,"inside"===L[lt].labelPlacement&&0<lt&&(L[lt].lineCoordinates.y1=st-ct[lt]+(L[lt]._titleTextBlock?L[lt]._titleTextBlock.height:0)),L[lt].bounds={x1:et,y1:it+(L[lt].margin+Pt),x2:at,y2:st,width:at-et,height:At},L[lt].title&&(L[lt]._titleTextBlock.maxWidth=0<L[lt].titleMaxWidth&&L[lt].titleMaxWidth<L[lt].lineCoordinates.width?L[lt].titleMaxWidth:L[lt].lineCoordinates.width),Pt+=ct[lt]+L[lt].margin);if(u&&0<u.length)for(lt=0;lt<u.length;lt++){if(It=u[lt]._labels&&0<u[lt]._labels.length?u[lt]._labels[0].textBlock.fontSize/2:0,et=Math.round(tt.x1+j),it=L&&0<L.length?Math.round(L[0]?L[0].lineCoordinates.y2:tt.y1<Math.max(It,10)?Math.max(It,10):tt.y1):tt.y1<Math.max(It,10)?Math.max(It,10):tt.y1,at=Math.round(tt.x1+Bt+j),st=B&&0<B.length?Math.round(B[0]?B[0].lineCoordinates.y1:tt.y2-_t>nt.height-Math.max(It,10)?nt.height-Math.max(It,10):tt.y2-_t):tt.y2>nt.height-Math.max(It,10)?nt.height-Math.max(It,10):tt.y2,B&&0<B.length)for(It=0;It<B.length;It++)B[It]&&B[It].labelAutoFit&&(at=0>B[It].labelAngle?Math.max(at,bt):0===B[It].labelAngle?Math.max(at,bt/2):at,et=0>B[It].labelAngle||0===B[It].labelAngle?at-Bt:et);if(L&&0<L.length)for(It=0;It<L.length;It++)L[It]&&L[It].labelAutoFit&&(et=(at=L[It].lineCoordinates.x1)-Bt);u[lt].lineCoordinates={x1:at-Ct,y1:it,x2:at-Ct,y2:st,height:Math.abs(st-it)},"inside"===u[lt].labelPlacement&&0<lt&&(u[lt].lineCoordinates.x1=u[lt].lineCoordinates.x1-(wt[lt]-(u[lt]._titleTextBlock?u[lt]._titleTextBlock.height:0))+("outside"===u[lt].tickPlacement?u[lt].tickLength:0),u[lt].lineCoordinates.x2=u[lt].lineCoordinates.x1+u[lt].lineThickness/2),u[lt].bounds={x1:at-(wt[lt]+Ct),y1:it,x2:at,y2:st,width:at-et,height:st-it},u[lt].title&&(u[lt]._titleTextBlock.maxWidth=0<u[lt].titleMaxWidth&&u[lt].titleMaxWidth<u[lt].lineCoordinates.height?u[lt].titleMaxWidth:u[lt].lineCoordinates.height),u[lt].calculateValueToPixelConversionParameters(),u[lt].calculateBreaksSizeInValues(),Ct+=wt[lt]+u[lt].margin}if(_&&0<_.length)for(lt=0;lt<_.length;lt++){if(It=_[lt]._labels&&0<_[lt]._labels.length?_[lt]._labels[0].textBlock.fontSize/2:0,et=Math.round(tt.x1-j),it=L&&0<L.length?Math.round(L[0]?L[0].lineCoordinates.y2:tt.y1<Math.max(It,10)?Math.max(It,10):tt.y1):tt.y1<Math.max(It,10)?Math.max(It,10):tt.y1,at=Math.round(tt.x2-Dt-Ft),st=B&&0<B.length?Math.round(B[0]?B[0].lineCoordinates.y1:tt.y2-_t>nt.height-Math.max(It,10)?nt.height-Math.max(It,10):tt.y2-_t):tt.y2>nt.height-Math.max(It,10)?nt.height-Math.max(It,10):tt.y2,B&&0<B.length)for(It=0;It<B.length;It++)B[It]&&B[It].labelAutoFit&&(at=0>B[It].labelAngle?Math.max(at,bt):0===B[It].labelAngle?Math.max(at,bt/2):at,et=0>B[It].labelAngle||0===B[It].labelAngle?at-Dt:et);if(L&&0<L.length)for(It=0;It<L.length;It++)L[It]&&L[It].labelAutoFit&&(et=(at=L[It].lineCoordinates.x2)-Dt);_[lt].lineCoordinates={x1:at+St,y1:it,x2:at+St,y2:st,height:Math.abs(st-it)},"inside"===_[lt].labelPlacement&&0<lt&&(_[lt].lineCoordinates.x1=_[lt].lineCoordinates.x1+(gt[lt]-(_[lt]._titleTextBlock?_[lt]._titleTextBlock.height:0)-2)-("outside"===_[lt].tickPlacement?_[lt].tickLength:0),_[lt].lineCoordinates.x2=_[lt].lineCoordinates.x1+_[lt].lineThickness/2),_[lt].bounds={x1:_[lt].lineCoordinates.x1,y1:it,x2:at+gt[lt]+St,y2:st,width:at-et,height:st-it},_[lt].title&&(_[lt]._titleTextBlock.maxWidth=0<_[lt].titleMaxWidth&&_[lt].titleMaxWidth<_[lt].lineCoordinates.height?_[lt].titleMaxWidth:_[lt].lineCoordinates.height),_[lt].calculateValueToPixelConversionParameters(),_[lt].calculateBreaksSizeInValues(),St+=gt[lt]+_[lt].margin}for(lt=0;lt<rt.length;lt++)"axisY"===rt[lt].type&&(rt[lt].calculateValueToPixelConversionParameters(),rt[lt].calculateBreaksSizeInValues());if(0<dt){if(u&&0<u.length)for(lt=0;lt<u.length;lt++)ht=Mt[dt-1][lt]===Mt[dt][lt];else ht=!0;if(_&&0<_.length)for(lt=0;lt<_.length;lt++)ut=Tt[dt-1][lt]===Tt[dt][lt];else ut=!0;if(B&&0<B.length)for(lt=0;lt<B.length;lt++)xt=pt[dt-1][lt]===pt[dt][lt];else xt=!0;if(L&&0<L.length)for(lt=0;lt<L.length;lt++)mt=ft[dt-1][lt]===ft[dt][lt];else mt=!0}if(ht&&ut&&xt&&mt)break;dt++}if(B&&0<B.length)for(lt=0;lt<B.length;lt++)B[lt].calculateStripLinesThicknessInValues(),B[lt].calculateBreaksInPixels();if(L&&0<L.length)for(lt=0;lt<L.length;lt++)L[lt].calculateStripLinesThicknessInValues(),L[lt].calculateBreaksInPixels();if(u&&0<u.length)for(lt=0;lt<u.length;lt++)u[lt].calculateStripLinesThicknessInValues(),u[lt].calculateBreaksInPixels();if(_&&0<_.length)for(lt=0;lt<_.length;lt++)_[lt].calculateStripLinesThicknessInValues(),_[lt].calculateBreaksInPixels()}},D.render=function(u,_,B,L,j){var tt=u[0]?u[0].chart:_[0].chart;if(j=tt.ctx,tt.alignVerticalAxes&&tt.alignVerticalAxes(),j.save(),j.beginPath(),u[0]&&j.rect(5,u[0].bounds.y1,u[0].chart.width-10,u[0].bounds.height),_[0]&&j.rect(5,_[_.length-1].bounds.y1,_[0].chart.width-10,_[0].bounds.height),j.clip(),u&&0<u.length)for(var et=0;et<u.length;et++)u[et].renderLabelsTicksAndTitle();if(_&&0<_.length)for(et=0;et<_.length;et++)_[et].renderLabelsTicksAndTitle();if(j.restore(),B&&0<B.length)for(et=0;et<B.length;et++)B[et].renderLabelsTicksAndTitle();if(L&&0<L.length)for(et=0;et<L.length;et++)L[et].renderLabelsTicksAndTitle();if(tt.preparePlotArea(),tt=tt.plotArea,j.save(),j.beginPath(),j.rect(tt.x1,tt.y1,Math.abs(tt.x2-tt.x1),Math.abs(tt.y2-tt.y1)),j.clip(),u&&0<u.length)for(et=0;et<u.length;et++)u[et].renderStripLinesOfThicknessType("value");if(_&&0<_.length)for(et=0;et<_.length;et++)_[et].renderStripLinesOfThicknessType("value");if(B&&0<B.length)for(et=0;et<B.length;et++)B[et].renderStripLinesOfThicknessType("value");if(L&&0<L.length)for(et=0;et<L.length;et++)L[et].renderStripLinesOfThicknessType("value");if(u&&0<u.length)for(et=0;et<u.length;et++)u[et].renderInterlacedColors();if(_&&0<_.length)for(et=0;et<_.length;et++)_[et].renderInterlacedColors();if(B&&0<B.length)for(et=0;et<B.length;et++)B[et].renderInterlacedColors();if(L&&0<L.length)for(et=0;et<L.length;et++)L[et].renderInterlacedColors();if(j.restore(),u&&0<u.length)for(et=0;et<u.length;et++)u[et].renderGrid(),it&&(u[et].createMask(),u[et].renderBreaksBackground());if(_&&0<_.length)for(et=0;et<_.length;et++)_[et].renderGrid(),it&&(_[et].createMask(),_[et].renderBreaksBackground());if(B&&0<B.length)for(et=0;et<B.length;et++)B[et].renderGrid(),it&&(B[et].createMask(),B[et].renderBreaksBackground());if(L&&0<L.length)for(et=0;et<L.length;et++)L[et].renderGrid(),it&&(L[et].createMask(),L[et].renderBreaksBackground());if(u&&0<u.length)for(et=0;et<u.length;et++)u[et].renderAxisLine();if(_&&0<_.length)for(et=0;et<_.length;et++)_[et].renderAxisLine();if(B&&0<B.length)for(et=0;et<B.length;et++)B[et].renderAxisLine();if(L&&0<L.length)for(et=0;et<L.length;et++)L[et].renderAxisLine();if(u&&0<u.length)for(et=0;et<u.length;et++)u[et].renderStripLinesOfThicknessType("pixel");if(_&&0<_.length)for(et=0;et<_.length;et++)_[et].renderStripLinesOfThicknessType("pixel");if(B&&0<B.length)for(et=0;et<B.length;et++)B[et].renderStripLinesOfThicknessType("pixel");if(L&&0<L.length)for(et=0;et<L.length;et++)L[et].renderStripLinesOfThicknessType("pixel")},D.prototype.calculateStripLinesThicknessInValues=function(){for(var u=0;u<this.stripLines.length;u++)if(null!==this.stripLines[u].startValue&&null!==this.stripLines[u].endValue){var _=Math.min(this.stripLines[u].startValue,this.stripLines[u].endValue),B=Math.max(this.stripLines[u].startValue,this.stripLines[u].endValue);_=this.getApparentDifference(_,B),this.stripLines[u].value=this.logarithmic?this.stripLines[u].value*Math.sqrt(Math.log(Math.max(this.stripLines[u].startValue,this.stripLines[u].endValue)/Math.min(this.stripLines[u].startValue,this.stripLines[u].endValue))/Math.log(_)):this.stripLines[u].value+(Math.abs(this.stripLines[u].endValue-this.stripLines[u].startValue)-_)/2,this.stripLines[u].thickness=_,this.stripLines[u]._thicknessType="value"}},D.prototype.calculateBreaksSizeInValues=function(){for(var u,_="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,B=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],L=this.conversionParameters.pixelPerUnit||_/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),j=this.scaleBreaks&&!s(this.scaleBreaks.options.spacing),tt=0;tt<B.length;tt++)u=j||!s(B[tt].options.spacing),B[tt].spacing=Ra(B[tt].spacing,_,8,u?.1*_:8,u?0:3)<<0,B[tt].size=0>B[tt].spacing?0:Math.abs(B[tt].spacing/L),this.logarithmic&&(B[tt].size=Math.pow(this.logarithmBase,B[tt].size))},D.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var u=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];u.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var _=0;_<u.length&&!(u[_].startValue>this.conversionParameters.maximum);_++)u[_].endValue<this.conversionParameters.minimum||(s(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=_),u[_].startValue>=this.conversionParameters.minimum&&(u[_].startPixel=this.convertValueToPixel(u[_].startValue),this.scaleBreaks.lastBreakIndex=_),u[_].endValue<=this.conversionParameters.maximum&&(u[_].endPixel=this.convertValueToPixel(u[_].endValue)))}},D.prototype.renderLabelsTicksAndTitle=function(){var u,_,B=this,L=!1,j=0,tt=0,et=1,it=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(et=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){j=[],et=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var at,st=this.viewportMaximum,nt=this.lineCoordinates.width/Math.log(this.range),ot=this._labels.length-1;0<=ot&&!((u=this._labels[ot]).position<this.viewportMinimum);ot--)u.position>this.viewportMaximum||!(ot===this._labels.length-1||at<Math.log(st/u.position)*nt/et)||(j.push(u),st=u.position,at=u.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=j}else{for(ot=0;ot<this._labels.length;ot++)(u=this._labels[ot]).position<this.viewportMinimum||(j+=at=u.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));j>this.lineCoordinates.width*et&&this.labelAutoFit&&(L=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var rt;for(j=[],st=this.viewportMaximum,nt=this.lineCoordinates.height/Math.log(this.range),ot=this._labels.length-1;0<=ot&&!((u=this._labels[ot]).position<this.viewportMinimum);ot--)u.position>this.viewportMaximum||!(ot===this._labels.length-1||rt<Math.log(st/u.position)*nt)||(j.push(u),st=u.position,rt=u.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=j}else{for(ot=0;ot<this._labels.length;ot++)(u=this._labels[ot]).position<this.viewportMinimum||(tt+=rt=u.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));tt>this.lineCoordinates.height*et&&this.labelAutoFit&&(L=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(u,_){return u.position-_.position})),ot=0,"bottom"===this._position){for(ot=0;ot<this._labels.length;ot++)(u=this._labels[ot]).position<this.viewportMinimum||u.position>this.viewportMaximum||(_=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,tt=1==this.ctx.lineWidth%2?.5+(_.x<<0):_.x<<0,this.ctx.beginPath(),this.ctx.moveTo(tt,_.y<<0),this.ctx.lineTo(tt,_.y+this.tickLength<<0),this.ctx.stroke()),L&&0!=it++%2&&this.labelAutoFit||(0===u.textBlock.angle?(_.x-=u.textBlock.width/2,_.y="inside"===this.labelPlacement?_.y-(("inside"===this.tickPlacement?this.tickLength:0)+u.textBlock.height-u.textBlock.fontSize/2):_.y+("inside"===this.tickPlacement?0:this.tickLength)+u.textBlock.fontSize/2+5):(_.x="inside"===this.labelPlacement?0>this.labelAngle?_.x:_.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):_.x-(0>this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),_.y="inside"===this.labelPlacement?0>this.labelAngle?_.y-("inside"===this.tickPlacement?this.tickLength:0)-5:_.y-("inside"===this.tickPlacement?this.tickLength:0)-Math.abs(u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):_.y+("inside"===this.tickPlacement?0:this.tickLength)+Math.abs(0>this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),u.textBlock.x=_.x,u.textBlock.y=_.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",(function(){for(ot=0;ot<B._labels.length;ot++)if(!((u=B._labels[ot]).position<B.viewportMinimum||u.position>B.viewportMaximum)&&(_=B.getPixelCoordinatesOnAxis(u.position),B.tickThickness)){B.ctx.lineWidth=B.tickThickness,B.ctx.strokeStyle=B.tickColor;var L=1==B.ctx.lineWidth%2?.5+(_.x<<0):_.x<<0;B.ctx.save(),B.ctx.beginPath(),B.ctx.moveTo(L,_.y<<0),B.ctx.lineTo(L,_.y-B.tickLength<<0),B.ctx.stroke(),B.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(ot=0;ot<this._labels.length;ot++)(u=this._labels[ot]).position<this.viewportMinimum||u.position>this.viewportMaximum||(_=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,tt=1==this.ctx.lineWidth%2?.5+(_.x<<0):_.x<<0,this.ctx.beginPath(),this.ctx.moveTo(tt,_.y<<0),this.ctx.lineTo(tt,_.y-this.tickLength<<0),this.ctx.stroke()),L&&0!=it++%2&&this.labelAutoFit||(0===u.textBlock.angle?(_.x-=u.textBlock.width/2,_.y="inside"===this.labelPlacement?_.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:_.y-(("inside"===this.tickPlacement?0:this.tickLength)+u.textBlock.height-u.textBlock.fontSize/2)):(_.x="inside"===this.labelPlacement?0<this.labelAngle?_.x:_.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):_.x+(u.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),_.y="inside"===this.labelPlacement?0<this.labelAngle?_.y+("inside"===this.tickPlacement?this.tickLength:0)+5:_.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:_.y-(("inside"===this.tickPlacement?0:this.tickLength)+((u.textBlock.height-u.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),u.textBlock.x=_.x,u.textBlock.y=_.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",(function(){for(ot=0;ot<B._labels.length;ot++)if(!((u=B._labels[ot]).position<B.viewportMinimum||u.position>B.viewportMaximum)&&(_=B.getPixelCoordinatesOnAxis(u.position),B.tickThickness)){B.ctx.lineWidth=B.tickThickness,B.ctx.strokeStyle=B.tickColor;var L=1==B.ctx.lineWidth%2?.5+(_.x<<0):_.x<<0;B.ctx.save(),B.ctx.beginPath(),B.ctx.moveTo(L,_.y<<0),B.ctx.lineTo(L,_.y+B.tickLength<<0),B.ctx.stroke(),B.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(ot=0;ot<this._labels.length;ot++)(u=this._labels[ot]).position<this.viewportMinimum||u.position>this.viewportMaximum||(_=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,tt=1==this.ctx.lineWidth%2?.5+(_.y<<0):_.y<<0,this.ctx.beginPath(),this.ctx.moveTo(_.x<<0,tt),this.ctx.lineTo(_.x-this.tickLength<<0,tt),this.ctx.stroke()),L&&0!=it++%2&&this.labelAutoFit||(0===this.labelAngle?(u.textBlock.y=_.y,u.textBlock.x="inside"===this.labelPlacement?_.x+("inside"===this.tickPlacement?this.tickLength:0)+5:_.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(u.textBlock.y="inside"===this.labelPlacement?_.y:_.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),u.textBlock.x="inside"===this.labelPlacement?_.x+("inside"===this.tickPlacement?this.tickLength:0)+5:0<this.labelAngle?_.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5:_.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength))));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",(function(){for(ot=0;ot<B._labels.length;ot++)if(!((u=B._labels[ot]).position<B.viewportMinimum||u.position>B.viewportMaximum)&&(_=B.getPixelCoordinatesOnAxis(u.position),B.tickThickness)){B.ctx.lineWidth=B.tickThickness,B.ctx.strokeStyle=B.tickColor;var L=1==B.ctx.lineWidth%2?.5+(_.y<<0):_.y<<0;B.ctx.save(),B.ctx.beginPath(),B.ctx.moveTo(_.x<<0,L),B.ctx.lineTo(_.x+B.tickLength<<0,L),B.ctx.stroke(),B.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(ot=0;ot<this._labels.length;ot++)(u=this._labels[ot]).position<this.viewportMinimum||u.position>this.viewportMaximum||(_=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,tt=1==this.ctx.lineWidth%2?.5+(_.y<<0):_.y<<0,this.ctx.beginPath(),this.ctx.moveTo(_.x<<0,tt),this.ctx.lineTo(_.x+this.tickLength<<0,tt),this.ctx.stroke()),L&&0!=it++%2&&this.labelAutoFit||(0===this.labelAngle?(u.textBlock.y=_.y,u.textBlock.x="inside"===this.labelPlacement?_.x-u.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:_.x+("inside"===this.tickPlacement?0:this.tickLength)+5):(u.textBlock.y="inside"===this.labelPlacement?_.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?_.y:_.y-(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),u.textBlock.x="inside"===this.labelPlacement?_.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:0<this.labelAngle?_.x+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength):_.x+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",(function(){for(ot=0;ot<B._labels.length;ot++)if(!((u=B._labels[ot]).position<B.viewportMinimum||u.position>B.viewportMaximum)&&(_=B.getPixelCoordinatesOnAxis(u.position),B.tickThickness)){B.ctx.lineWidth=B.tickThickness,B.ctx.strokeStyle=B.tickColor;var L=1==B.ctx.lineWidth%2?.5+(_.y<<0):_.y<<0;B.ctx.save(),B.ctx.beginPath(),B.ctx.moveTo(_.x<<0,L),B.ctx.lineTo(_.x-B.tickLength<<0,L),B.ctx.stroke(),B.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(it=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationEnd",(function(){for(ot=0;ot<B._labels.length;ot++)(u=B._labels[ot]).position<B.viewportMinimum||u.position>B.viewportMaximum||L&&0!=it++%2&&B.labelAutoFit||(B.ctx.save(),B.ctx.beginPath(),u.textBlock.render(!0),B.ctx.restore())}),this);else for(ot=0;ot<this._labels.length;ot++)(u=this._labels[ot]).position<this.viewportMinimum||u.position>this.viewportMaximum||L&&0!=it++%2&&this.labelAutoFit||u.textBlock.render(!0)},D.prototype.renderInterlacedColors=function(){var u,_,B=this.chart.plotArea.ctx,L=this.chart.plotArea,j=0;if(u=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(B.fillStyle=this.interlacedColor,j=0;j<this._labels.length;j++)u?(_=this.getPixelCoordinatesOnAxis(this._labels[j].position),u=j+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[j+1].position),B.fillRect(L.x1,Math.min(_.y,u.y),Math.abs(L.x1-L.x2),Math.abs(u.y-_.y)),u=!1):u=!0}else for(B.fillStyle=this.interlacedColor,j=0;j<this._labels.length;j++)u?(u=this.getPixelCoordinatesOnAxis(this._labels[j].position),_=j+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[j+1].position),B.fillRect(Math.min(_.x,u.x),L.y1,Math.abs(_.x-u.x),Math.abs(L.y1-L.y2)),u=!1):u=!0;B.beginPath()},D.prototype.renderStripLinesOfThicknessType=function(u){if(this.stripLines&&0<this.stripLines.length&&u){var _,B=this,L=0,j=0,tt=!1,et=!1,it=[],at=[];for(et=!1,L=0;L<this.stripLines.length;L++){var st=this.stripLines[L];st._thicknessType===u&&("pixel"===u&&(st.value<this.viewportMinimum||st.value>this.viewportMaximum||s(st.value)||isNaN(this.range))||"value"===u&&(st.startValue<=this.viewportMinimum&&st.endValue<=this.viewportMinimum||st.startValue>=this.viewportMaximum&&st.endValue>=this.viewportMaximum||s(st.startValue)||s(st.endValue)||isNaN(this.range))||it.push(st))}for(L=0;L<this._stripLineLabels.length;L++)if(st=this.stripLines[L],!((_=this._stripLineLabels[L]).position<this.viewportMinimum||_.position>this.viewportMaximum||isNaN(this.range))){if(u=this.getPixelCoordinatesOnAxis(_.position),"outside"===_.stripLine.labelPlacement)if(st&&(this.ctx.strokeStyle=st.color,"pixel"===st._thicknessType&&(this.ctx.lineWidth=st.thickness)),"bottom"===this._position){var nt=1==this.ctx.lineWidth%2?.5+(u.x<<0):u.x<<0;this.ctx.beginPath(),this.ctx.moveTo(nt,u.y<<0),this.ctx.lineTo(nt,u.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(u.x-=_.textBlock.width/2,u.y+=this.tickLength+_.textBlock.fontSize/2):(u.x-=0>this.labelAngle?_.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,u.y+=this.tickLength+Math.abs(0>this.labelAngle?_.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(nt=1==this.ctx.lineWidth%2?.5+(u.x<<0):u.x<<0,this.ctx.beginPath(),this.ctx.moveTo(nt,u.y<<0),this.ctx.lineTo(nt,u.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(u.x-=_.textBlock.width/2,u.y-=this.tickLength+_.textBlock.height):(u.x+=(_.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?_.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),u.y-=this.tickLength+(_.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?_.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(nt=1==this.ctx.lineWidth%2?.5+(u.y<<0):u.y<<0,this.ctx.beginPath(),this.ctx.moveTo(u.x<<0,nt),this.ctx.lineTo(u.x-this.tickLength<<0,nt),this.ctx.stroke(),0===this.labelAngle?u.x=u.x-_.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(u.y-=_.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),u.x=0<this.labelAngle?u.x-_.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:u.x-_.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(_.textBlock.height-_.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(nt=1==this.ctx.lineWidth%2?.5+(u.y<<0):u.y<<0,this.ctx.beginPath(),this.ctx.moveTo(u.x<<0,nt),this.ctx.lineTo(u.x+this.tickLength<<0,nt),this.ctx.stroke(),0===this.labelAngle?u.x=u.x+this.tickLength+5:(u.y=0>this.labelAngle?u.y:u.y-(_.textBlock.height-_.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),u.x=0<this.labelAngle?u.x+(_.textBlock.height-_.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:u.x+this.tickLength+5));else _.textBlock.angle=-90,"bottom"===this._position?(_.textBlock.maxWidth=this.options.stripLines[L].labelMaxWidth?this.options.stripLines[L].labelMaxWidth:this.chart.plotArea.height-3,_.textBlock.measureText(),u.x-_.textBlock.height>this.chart.plotArea.x1?s(st.startValue)?u.x-=_.textBlock.height-_.textBlock.fontSize/2:u.x-=_.textBlock.height/2-_.textBlock.fontSize/2+3:(_.textBlock.angle=90,s(st.startValue)?u.x+=_.textBlock.height-_.textBlock.fontSize/2:u.x+=_.textBlock.height/2-_.textBlock.fontSize/2+3),u.y=-90===_.textBlock.angle?"near"===_.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===_.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+_.textBlock.width)/2:this.chart.plotArea.y1+_.textBlock.width+3:"near"===_.stripLine.labelAlign?this.chart.plotArea.y2-_.textBlock.width-3:"center"===_.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-_.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(_.textBlock.maxWidth=this.options.stripLines[L].labelMaxWidth?this.options.stripLines[L].labelMaxWidth:this.chart.plotArea.height-3,_.textBlock.measureText(),u.x-_.textBlock.height>this.chart.plotArea.x1?s(st.startValue)?u.x-=_.textBlock.height-_.textBlock.fontSize/2:u.x-=_.textBlock.height/2-_.textBlock.fontSize/2+3:(_.textBlock.angle=90,s(st.startValue)?u.x+=_.textBlock.height-_.textBlock.fontSize/2:u.x+=_.textBlock.height/2-_.textBlock.fontSize/2+3),u.y=-90===_.textBlock.angle?"near"===_.stripLine.labelAlign?this.chart.plotArea.y1+_.textBlock.width+3:"center"===_.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+_.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===_.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===_.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-_.textBlock.width)/2:this.chart.plotArea.y2-_.textBlock.width-3):"left"===this._position?(_.textBlock.maxWidth=this.options.stripLines[L].labelMaxWidth?this.options.stripLines[L].labelMaxWidth:this.chart.plotArea.width-3,_.textBlock.angle=0,_.textBlock.measureText(),u.y-_.textBlock.height>this.chart.plotArea.y1?s(st.startValue)?u.y-=_.textBlock.height-_.textBlock.fontSize/2:u.y-=_.textBlock.height/2-_.textBlock.fontSize+3:u.y-_.textBlock.height<this.chart.plotArea.y2?u.y+=_.textBlock.fontSize/2+3:s(st.startValue)?u.y-=_.textBlock.height-_.textBlock.fontSize/2:u.y-=_.textBlock.height/2-_.textBlock.fontSize+3,u.x="near"===_.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===_.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-_.textBlock.width/2:this.chart.plotArea.x2-_.textBlock.width-3):"right"===this._position&&(_.textBlock.maxWidth=this.options.stripLines[L].labelMaxWidth?this.options.stripLines[L].labelMaxWidth:this.chart.plotArea.width-3,_.textBlock.angle=0,_.textBlock.measureText(),u.y-+_.textBlock.height>this.chart.plotArea.y1?s(st.startValue)?u.y-=_.textBlock.height-_.textBlock.fontSize/2:u.y-=_.textBlock.height/2-_.textBlock.fontSize/2-3:u.y-_.textBlock.height<this.chart.plotArea.y2?u.y+=_.textBlock.fontSize/2+3:s(st.startValue)?u.y-=_.textBlock.height-_.textBlock.fontSize/2:u.y-=_.textBlock.height/2-_.textBlock.fontSize/2+3,u.x="near"===_.stripLine.labelAlign?this.chart.plotArea.x2-_.textBlock.width-3:"center"===_.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-_.textBlock.width/2:this.chart.plotArea.x1+3);_.textBlock.x=u.x,_.textBlock.y=u.y,at.push(_)}if(!et){for(et=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),L=0;L<it.length;L++)(st=it[L]).showOnTop?tt||(tt=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),j=0;j<it.length;j++)(st=it[j]).showOnTop&&st.render();this.ctx.restore()}),st)):st.render();for(L=0;L<at.length;L++)(_=at[L]).stripLine.showOnTop?et||(et=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(j=0;j<at.length;j++)"inside"===(_=at[j]).stripLine.labelPlacement&&_.stripLine.showOnTop&&(B.ctx.save(),B.ctx.beginPath(),B.ctx.rect(B.chart.plotArea.x1,B.chart.plotArea.y1,B.chart.plotArea.width,B.chart.plotArea.height),B.ctx.clip(),_.textBlock.render(!0),B.ctx.restore())}),_.textBlock)):"inside"===_.stripLine.labelPlacement&&_.textBlock.render(!0);this.ctx.restore(),et=!0}if(et)for(et=!1,L=0;L<at.length;L++)"outside"===(_=at[L]).stripLine.labelPlacement&&_.textBlock.render(!0)}},D.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},D.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var u=this.scaleBreaks._appliedBreaks;it?(this.maskCanvas=sa(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var _=0;_<u.length;_++)u[_].endValue<this.viewportMinimum||u[_].startValue>this.viewportMaximum||isNaN(this.range)||u[_].render(this.maskCtx);this.maskCtx.restore()}},D.prototype.renderCrosshair=function(u,_){isFinite(this.minimum)&&isFinite(this.maximum)&&(this.crosshair.render(u,_),this.crosshair.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this,value:this.crosshair.value},this))},D.prototype.showCrosshair=function(u){s(u)||u<this.viewportMinimum||u>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(u),null,u):this.crosshair.render(null,this.convertValueToPixel(u),u))},D.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var u=this.chart.ctx;u.save();var _,B=this.chart.plotArea;if(u.lineWidth=this.gridThickness,u.strokeStyle=this.gridColor,u.setLineDash&&u.setLineDash(N(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(L=0;L<this._labels.length;L++)this._labels[L].position<this.viewportMinimum||this._labels[L].position>this.viewportMaximum||this._labels[L].breaksLabelType||(u.beginPath(),_=this.getPixelCoordinatesOnAxis(this._labels[L].position),_=1==u.lineWidth%2?.5+(_.x<<0):_.x<<0,u.moveTo(_,B.y1<<0),u.lineTo(_,B.y2<<0),u.stroke());else if("left"===this._position||"right"===this._position)for(var L=0;L<this._labels.length;L++)this._labels[L].position<this.viewportMinimum||this._labels[L].position>this.viewportMaximum||this._labels[L].breaksLabelType||(u.beginPath(),_=this.getPixelCoordinatesOnAxis(this._labels[L].position),_=1==u.lineWidth%2?.5+(_.y<<0):_.y<<0,u.moveTo(B.x1<<0,_),u.lineTo(B.x2<<0,_),u.stroke());u.restore()}},D.prototype.renderAxisLine=function(){var u,_,B=this.chart.ctx,L=it?this.chart._preRenderCtx:B,j=Math.ceil(this.tickThickness/(this.reversed?-2:2)),tt=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(L.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(u=this.lineCoordinates.x2,_=this.lineCoordinates.x1):(u=this.lineCoordinates.x1,_=this.lineCoordinates.x2),L.lineWidth=this.lineThickness,L.strokeStyle=this.lineColor?this.lineColor:"black",L.setLineDash&&L.setLineDash(N(this.lineDashType,this.lineThickness));var et=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(L.beginPath(),this.scaleBreaks&&!s(this.scaleBreaks.firstBreakIndex))if(s(this.scaleBreaks.lastBreakIndex))u=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+tt;else for(var at=this.scaleBreaks.firstBreakIndex;at<=this.scaleBreaks.lastBreakIndex;at++)L.moveTo(u,et),L.lineTo(this.scaleBreaks._appliedBreaks[at].startPixel+j,et),u=this.scaleBreaks._appliedBreaks[at].endPixel+tt;u&&(L.moveTo(u,et),L.lineTo(_,et)),L.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(u=this.lineCoordinates.y1,_=this.lineCoordinates.y2):(u=this.lineCoordinates.y2,_=this.lineCoordinates.y1),L.lineWidth=this.lineThickness,L.strokeStyle=this.lineColor,L.setLineDash&&L.setLineDash(N(this.lineDashType,this.lineThickness)),et=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,L.beginPath(),this.scaleBreaks&&!s(this.scaleBreaks.firstBreakIndex))if(s(this.scaleBreaks.lastBreakIndex))u=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+j;else for(at=this.scaleBreaks.firstBreakIndex;at<=this.scaleBreaks.lastBreakIndex;at++)L.moveTo(et,u),L.lineTo(et,this.scaleBreaks._appliedBreaks[at].startPixel+tt),u=this.scaleBreaks._appliedBreaks[at].endPixel+j;u&&(L.moveTo(et,u),L.lineTo(et,_)),L.stroke()}it&&(B.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),L.clearRect(0,0,this.chart.width,this.chart.height)),L.restore()},D.prototype.getPixelCoordinatesOnAxis=function(u){var _={};return"bottom"!==this._position&&"top"!==this._position||(_.x=this.convertValueToPixel(u),_.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(_.y=this.convertValueToPixel(u),_.x=this.lineCoordinates.x2),_},D.prototype.convertPixelToValue=function(u){if(void 0===u)return null;var _,B=0,L=0,j=(B=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(L="number"==typeof u?u:"left"===this._position||"right"===this._position?u.y:u.x,this.logarithmic){if(u=_=Math.pow(this.logarithmBase,(L-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),L<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(L=0;L<j.length;L++)if(!(j[L].endValue<this.conversionParameters.minimum))if(B)if(j[L].startValue<this.conversionParameters.minimum){if(1<j[L].size&&this.conversionParameters.minimum*Math.pow(j[L].endValue/j[L].startValue,Math.log(_)/Math.log(j[L].size))<j[L].endValue){u=Math.pow(j[L].endValue/j[L].startValue,Math.log(_)/Math.log(j[L].size));break}u*=j[L].endValue/this.conversionParameters.minimum/Math.pow(j[L].size,Math.log(j[L].endValue/this.conversionParameters.minimum)/Math.log(j[L].endValue/j[L].startValue)),_/=Math.pow(j[L].size,Math.log(j[L].endValue/this.conversionParameters.minimum)/Math.log(j[L].endValue/j[L].startValue)),B=!1}else{if(!(_>j[L].startValue/this.conversionParameters.minimum))break;if((_/=j[L].startValue/this.conversionParameters.minimum)<j[L].size){u*=Math.pow(j[L].endValue/j[L].startValue,1===j[L].size?1:Math.log(_)/Math.log(j[L].size))/_;break}u*=j[L].endValue/j[L].startValue/j[L].size,_/=j[L].size,B=!1}else{if(!(_>j[L].startValue/j[L-1].endValue))break;if((_/=j[L].startValue/j[L-1].endValue)<j[L].size){u*=Math.pow(j[L].endValue/j[L].startValue,1===j[L].size?1:Math.log(_)/Math.log(j[L].size))/_;break}u*=j[L].endValue/j[L].startValue/j[L].size,_/=j[L].size}}else for(L=j.length-1;0<=L;L--)if(!(j[L].startValue>this.conversionParameters.minimum))if(B)if(j[L].endValue>this.conversionParameters.minimum){if(1<j[L].size&&this.conversionParameters.minimum*Math.pow(j[L].endValue/j[L].startValue,Math.log(_)/Math.log(j[L].size))>j[L].startValue){u=Math.pow(j[L].endValue/j[L].startValue,Math.log(_)/Math.log(j[L].size));break}u*=j[L].startValue/this.conversionParameters.minimum*Math.pow(j[L].size,Math.log(j[L].startValue/this.conversionParameters.minimum)/Math.log(j[L].endValue/j[L].startValue))*_,_*=Math.pow(j[L].size,Math.log(this.conversionParameters.minimum/j[L].startValue)/Math.log(j[L].endValue/j[L].startValue)),B=!1}else{if(!(_<j[L].endValue/this.conversionParameters.minimum))break;if((_/=j[L].endValue/this.conversionParameters.minimum)>1/j[L].size){u*=Math.pow(j[L].endValue/j[L].startValue,1>=j[L].size?1:Math.log(_)/Math.log(j[L].size))*_;break}u/=j[L].endValue/j[L].startValue/j[L].size,_*=j[L].size,B=!1}else{if(!(_<j[L].endValue/j[L+1].startValue))break;if((_/=j[L].endValue/j[L+1].startValue)>1/j[L].size){u*=Math.pow(j[L].endValue/j[L].startValue,1>=j[L].size?1:Math.log(_)/Math.log(j[L].size))*_;break}u/=j[L].endValue/j[L].startValue/j[L].size,_*=j[L].size}B=u*this.viewportMinimum}else{if(u=_=(L-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,L<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(L=0;L<j.length;L++)if(!(j[L].endValue<this.conversionParameters.minimum))if(B)if(j[L].startValue<this.conversionParameters.minimum){if(j[L].size&&this.conversionParameters.minimum+_*(j[L].endValue-j[L].startValue)/j[L].size<j[L].endValue){u=0>=j[L].size?0:_*(j[L].endValue-j[L].startValue)/j[L].size;break}u+=j[L].endValue-this.conversionParameters.minimum-j[L].size*(j[L].endValue-this.conversionParameters.minimum)/(j[L].endValue-j[L].startValue),_-=j[L].size*(j[L].endValue-this.conversionParameters.minimum)/(j[L].endValue-j[L].startValue),B=!1}else{if(!(_>j[L].startValue-this.conversionParameters.minimum))break;if((_-=j[L].startValue-this.conversionParameters.minimum)<j[L].size){u+=(j[L].endValue-j[L].startValue)*(0===j[L].size?1:_/j[L].size)-_;break}u+=j[L].endValue-j[L].startValue-j[L].size,_-=j[L].size,B=!1}else{if(!(_>j[L].startValue-j[L-1].endValue))break;if((_-=j[L].startValue-j[L-1].endValue)<j[L].size){u+=(j[L].endValue-j[L].startValue)*(0===j[L].size?1:_/j[L].size)-_;break}u+=j[L].endValue-j[L].startValue-j[L].size,_-=j[L].size}}else for(L=j.length-1;0<=L;L--)if(!(j[L].startValue>this.conversionParameters.minimum))if(B)if(j[L].endValue>this.conversionParameters.minimum){if(j[L].size&&this.conversionParameters.minimum+_*(j[L].endValue-j[L].startValue)/j[L].size>j[L].startValue){u=0>=j[L].size?0:_*(j[L].endValue-j[L].startValue)/j[L].size;break}u+=j[L].startValue-this.conversionParameters.minimum+j[L].size*(this.conversionParameters.minimum-j[L].startValue)/(j[L].endValue-j[L].startValue),_+=j[L].size*(this.conversionParameters.minimum-j[L].startValue)/(j[L].endValue-j[L].startValue),B=!1}else{if(!(_<j[L].endValue-this.conversionParameters.minimum))break;if((_-=j[L].endValue-this.conversionParameters.minimum)>-1*j[L].size){u+=(j[L].endValue-j[L].startValue)*(0===j[L].size?1:_/j[L].size)+_;break}u-=j[L].endValue-j[L].startValue-j[L].size,_+=j[L].size,B=!1}else{if(!(_<j[L].endValue-j[L+1].startValue))break;if((_-=j[L].endValue-j[L+1].startValue)>-1*j[L].size){u+=(j[L].endValue-j[L].startValue)*(0===j[L].size?1:_/j[L].size)+_;break}u-=j[L].endValue-j[L].startValue-j[L].size,_+=j[L].size}B=this.conversionParameters.minimum+u}return B},D.prototype.convertValueToPixel=function(u){return u=this.getApparentDifference(this.conversionParameters.minimum,u,u),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(u/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(u-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(u-this.conversionParameters.minimum)+.5},D.prototype.getApparentDifference=function(u,_,B,L){var j=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){B=s(B)?_/u:B;for(var tt=0;tt<j.length&&!(_<j[tt].startValue);tt++)u>j[tt].endValue||(u<=j[tt].startValue&&_>=j[tt].endValue?B=B/j[tt].endValue*j[tt].startValue*j[tt].size:u>=j[tt].startValue&&_>=j[tt].endValue?B=B/j[tt].endValue*u*Math.pow(j[tt].size,Math.log(j[tt].endValue/u)/Math.log(j[tt].endValue/j[tt].startValue)):u<=j[tt].startValue&&_<=j[tt].endValue?B=B/_*j[tt].startValue*Math.pow(j[tt].size,Math.log(_/j[tt].startValue)/Math.log(j[tt].endValue/j[tt].startValue)):!L&&u>j[tt].startValue&&_<j[tt].endValue&&(B=u*Math.pow(j[tt].size,Math.log(_/u)/Math.log(j[tt].endValue/j[tt].startValue))))}else for(B=s(B)?Math.abs(_-u):B,tt=0;tt<j.length&&!(_<j[tt].startValue);tt++)u>j[tt].endValue||(u<=j[tt].startValue&&_>=j[tt].endValue?B=B-j[tt].endValue+j[tt].startValue+j[tt].size:u>j[tt].startValue&&_>=j[tt].endValue?B=B-j[tt].endValue+u+j[tt].size*(j[tt].endValue-u)/(j[tt].endValue-j[tt].startValue):u<=j[tt].startValue&&_<j[tt].endValue?B=B-_+j[tt].startValue+j[tt].size*(_-j[tt].startValue)/(j[tt].endValue-j[tt].startValue):!L&&u>j[tt].startValue&&_<j[tt].endValue&&(B=u+j[tt].size*(_-u)/(j[tt].endValue-j[tt].startValue)));return B},D.prototype.setViewPortRange=function(u,_){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(u,_),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(u,_)},D.prototype.getXValueAt=function(u){if(!u)return null;var _=null;return"left"===this._position?_=this.convertPixelToValue(u.y):"bottom"===this._position&&(_=this.convertPixelToValue(u.x)),_},D.prototype.calculateValueToPixelConversionParameters=function(u){u=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var _={pixelPerUnit:null,minimum:null,reference:null},B=this.lineCoordinates.width,L=this.lineCoordinates.height;if(B="bottom"===this._position||"top"===this._position?B:L,L=Math.abs(this.range),this.logarithmic)for(var j=0;j<u.length&&!(this.viewportMaximum<u[j].startValue);j++)this.viewportMinimum>u[j].endValue||(this.viewportMinimum>=u[j].startValue&&this.viewportMaximum<=u[j].endValue?B=0:this.viewportMinimum<=u[j].startValue&&this.viewportMaximum>=u[j].endValue?(L=L/u[j].endValue*u[j].startValue,B=0<u[j].spacing.toString().indexOf("%")?B*(1-parseFloat(u[j].spacing)/100):B-Math.min(u[j].spacing,.1*B)):this.viewportMinimum>u[j].startValue&&this.viewportMaximum>=u[j].endValue?(L=L/u[j].endValue*this.viewportMinimum,B=0<u[j].spacing.toString().indexOf("%")?B*(1-parseFloat(u[j].spacing)/100*Math.log(u[j].endValue/this.viewportMinimum)/Math.log(u[j].endValue/u[j].startValue)):B-Math.min(u[j].spacing,.1*B)*Math.log(u[j].endValue/this.viewportMinimum)/Math.log(u[j].endValue/u[j].startValue)):this.viewportMinimum<=u[j].startValue&&this.viewportMaximum<u[j].endValue&&(L=L/this.viewportMaximum*u[j].startValue,B=0<u[j].spacing.toString().indexOf("%")?B*(1-parseFloat(u[j].spacing)/100*Math.log(this.viewportMaximum/u[j].startValue)/Math.log(u[j].endValue/u[j].startValue)):B-Math.min(u[j].spacing,.1*B)*Math.log(this.viewportMaximum/u[j].startValue)/Math.log(u[j].endValue/u[j].startValue)));else for(j=0;j<u.length&&!(this.viewportMaximum<u[j].startValue);j++)this.viewportMinimum>u[j].endValue||(this.viewportMinimum>=u[j].startValue&&this.viewportMaximum<=u[j].endValue?B=0:this.viewportMinimum<=u[j].startValue&&this.viewportMaximum>=u[j].endValue?(L=L-u[j].endValue+u[j].startValue,B=0<u[j].spacing.toString().indexOf("%")?B*(1-parseFloat(u[j].spacing)/100):B-Math.min(u[j].spacing,.1*B)):this.viewportMinimum>u[j].startValue&&this.viewportMaximum>=u[j].endValue?(L=L-u[j].endValue+this.viewportMinimum,B=0<u[j].spacing.toString().indexOf("%")?B*(1-parseFloat(u[j].spacing)/100*(u[j].endValue-this.viewportMinimum)/(u[j].endValue-u[j].startValue)):B-Math.min(u[j].spacing,.1*B)*(u[j].endValue-this.viewportMinimum)/(u[j].endValue-u[j].startValue)):this.viewportMinimum<=u[j].startValue&&this.viewportMaximum<u[j].endValue&&(L=L-this.viewportMaximum+u[j].startValue,B=0<u[j].spacing.toString().indexOf("%")?B*(1-parseFloat(u[j].spacing)/100*(this.viewportMaximum-u[j].startValue)/(u[j].endValue-u[j].startValue)):B-Math.min(u[j].spacing,.1*B)*(this.viewportMaximum-u[j].startValue)/(u[j].endValue-u[j].startValue)));_.minimum=this.viewportMinimum,_.maximum=this.viewportMaximum,_.range=L,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(_.lnLogarithmBase=Math.log(this.logarithmBase),_.pixelPerUnit=(this.reversed?-1:1)*B*_.lnLogarithmBase/Math.log(Math.abs(L))):_.pixelPerUnit=(this.reversed?-1:1)*B/Math.abs(L),_.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(_.lnLogarithmBase=Math.log(this.logarithmBase),_.pixelPerUnit=(this.reversed?1:-1)*B*_.lnLogarithmBase/Math.log(Math.abs(L))):_.pixelPerUnit=(this.reversed?1:-1)*B/Math.abs(L),_.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=_},D.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var u=this.chart.layoutManager.getFreeSpace(),_=!1,B=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=u.width,this.maxHeight=u.height):(this.maxWidth=u.height,this.maxHeight=u.width),u="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var L,j,tt,et=4;if("axisX"===this.type&&(et=600>this.maxWidth?8:6),u=Math.max(et,Math.floor(this.maxWidth/u)),et=0,!s(this.options.viewportMinimum)&&!s(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!s(this.options.viewportMinimum)||s(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!s(this.options.viewportMaximum)||s(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(et=0;et<this.scaleBreaks._appliedBreaks.length;et++)if((!s(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[et].startValue||!s(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[et].startValue||!s(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[et].startValue)&&(!s(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[et].endValue||!s(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[et].endValue||!s(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[et].endValue)){this.scaleBreaks._appliedBreaks.splice(et,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(L=0;L<this.dataSeries.length;L++)"dateTime"===this.dataSeries[L].xValueType&&(B=!0);L=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,0==(j=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-L&&(j+=et=void 0===this.options.interval?.4:this.options.interval,L-=et),1/0!==this.dataInfo.minDiff?tt=this.dataInfo.minDiff:1<j-L?tt=.5*Math.abs(j-L):(tt=1,B&&(_=!0))}else"axisY"===this.type&&(L=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,j=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(L)||isFinite(j)?isFinite(L)?isFinite(j)||(j=L):L=j:(j=void 0===this.options.interval?-1/0:this.options.interval,L=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===L&&0===j?(j+=9,L=0):0==j-L?(j+=et=Math.min(Math.abs(.01*Math.abs(j)),5),L-=et):L>j?(et=Math.min(.01*Math.abs(this.getApparentDifference(j,L,null,!0)),5),0<=j?L=j-et:j=isFinite(L)?L+et:0):(et=Math.min(.01*Math.abs(this.getApparentDifference(L,j,null,!0)),.05),0!==j&&(j+=et),0!==L&&(L-=et)),tt=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<j-L?.5*Math.abs(j-L):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<L&&(L=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>j&&(j=0));et=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?L:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?j:this.viewportMaximum,null,!0),"axisX"===this.type&&B?(this.intervalType||(et/1<=u?(this.interval=1,this.intervalType="millisecond"):et/2<=u?(this.interval=2,this.intervalType="millisecond"):et/5<=u?(this.interval=5,this.intervalType="millisecond"):et/10<=u?(this.interval=10,this.intervalType="millisecond"):et/20<=u?(this.interval=20,this.intervalType="millisecond"):et/50<=u?(this.interval=50,this.intervalType="millisecond"):et/100<=u?(this.interval=100,this.intervalType="millisecond"):et/200<=u?(this.interval=200,this.intervalType="millisecond"):et/250<=u?(this.interval=250,this.intervalType="millisecond"):et/300<=u?(this.interval=300,this.intervalType="millisecond"):et/400<=u?(this.interval=400,this.intervalType="millisecond"):et/500<=u?(this.interval=500,this.intervalType="millisecond"):et/(1*ut.secondDuration)<=u?(this.interval=1,this.intervalType="second"):et/(2*ut.secondDuration)<=u?(this.interval=2,this.intervalType="second"):et/(5*ut.secondDuration)<=u?(this.interval=5,this.intervalType="second"):et/(10*ut.secondDuration)<=u?(this.interval=10,this.intervalType="second"):et/(15*ut.secondDuration)<=u?(this.interval=15,this.intervalType="second"):et/(20*ut.secondDuration)<=u?(this.interval=20,this.intervalType="second"):et/(30*ut.secondDuration)<=u?(this.interval=30,this.intervalType="second"):et/(1*ut.minuteDuration)<=u?(this.interval=1,this.intervalType="minute"):et/(2*ut.minuteDuration)<=u?(this.interval=2,this.intervalType="minute"):et/(5*ut.minuteDuration)<=u?(this.interval=5,this.intervalType="minute"):et/(10*ut.minuteDuration)<=u?(this.interval=10,this.intervalType="minute"):et/(15*ut.minuteDuration)<=u?(this.interval=15,this.intervalType="minute"):et/(20*ut.minuteDuration)<=u?(this.interval=20,this.intervalType="minute"):et/(30*ut.minuteDuration)<=u?(this.interval=30,this.intervalType="minute"):et/(1*ut.hourDuration)<=u?(this.interval=1,this.intervalType="hour"):et/(2*ut.hourDuration)<=u?(this.interval=2,this.intervalType="hour"):et/(3*ut.hourDuration)<=u?(this.interval=3,this.intervalType="hour"):et/(6*ut.hourDuration)<=u?(this.interval=6,this.intervalType="hour"):et/(1*ut.dayDuration)<=u?(this.interval=1,this.intervalType="day"):et/(2*ut.dayDuration)<=u?(this.interval=2,this.intervalType="day"):et/(4*ut.dayDuration)<=u?(this.interval=4,this.intervalType="day"):et/(1*ut.weekDuration)<=u?(this.interval=1,this.intervalType="week"):et/(2*ut.weekDuration)<=u?(this.interval=2,this.intervalType="week"):et/(3*ut.weekDuration)<=u?(this.interval=3,this.intervalType="week"):et/(1*ut.monthDuration)<=u?(this.interval=1,this.intervalType="month"):et/(2*ut.monthDuration)<=u?(this.interval=2,this.intervalType="month"):et/(3*ut.monthDuration)<=u?(this.interval=3,this.intervalType="month"):et/(6*ut.monthDuration)<=u?(this.interval=6,this.intervalType="month"):(this.interval=et/(1*ut.yearDuration)<=u?1:et/(2*ut.yearDuration)<=u?2:et/(4*ut.yearDuration)<=u?4:Math.floor(D.getNiceNumber(et/(u-1),!0)/ut.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=L-tt/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=j+tt/2),_?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",et=D.getNiceNumber(et,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:D.getNiceNumber(et/(u-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?L-tt/2:Math.floor(L/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?j+tt/2:Math.ceil(j/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=D.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(u-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(L=null!==this.minimum?this.minimum:this.dataInfo.min,0==(j=null!==this.maximum?this.maximum:this.dataInfo.max)-L&&(j+=et=void 0===this.options.interval?.4:this.options.interval,L-=et),tt=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<j-L?.5*Math.abs(j-L):1):"axisY"===this.type&&(L=null!==this.minimum?this.minimum:this.dataInfo.min,j=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(L)||isFinite(j)?0===L&&0===j?(j+=9,L=0):0==j-L?(j+=et=Math.min(Math.abs(.01*Math.abs(j)),5),L-=et):L>j?(et=Math.min(.01*Math.abs(this.getApparentDifference(j,L,null,!0)),5),0<=j?L=j-et:j=isFinite(L)?L+et:0):(et=Math.min(.01*Math.abs(this.getApparentDifference(L,j,null,!0)),.05),0!==j&&(j+=et),0!==L&&(L-=et)):(j=void 0===this.options.interval?-1/0:this.options.interval,L=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),tt=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<j-L?.5*Math.abs(j-L):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<L&&(L=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>j&&(j=0)),Math.abs(this.getApparentDifference(L,j,null,!0)),"axisX"===this.type&&B?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=L-tt/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=j+tt/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?L-tt/2:Math.floor(L/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?j+tt/2:Math.ceil(j/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),s(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),s(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&B?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=D.generateValueFormatString(this.range,2))}},D.prototype.calculateLogarithmicAxisParameters=function(){var u,_,B,L,j,tt=this.chart.layoutManager.getFreeSpace(),et=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=tt.width,this.maxHeight=tt.height):(this.maxWidth=tt.height,this.maxHeight=tt.width),tt="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),j=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(j=0;j<this.scaleBreaks._appliedBreaks.length;j++)if((!s(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[j].startValue||!s(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[j].startValue||!s(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[j].startValue)&&(!s(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[j].endValue||!s(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[j].endValue||!s(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[j].endValue)){this.scaleBreaks._appliedBreaks.splice(j,1);break}"axisX"===this.type?(_=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,1==(B=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/_&&(B*=j=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),_/=j),L=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:B/_>this.logarithmBase?B/_*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(_=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,B=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=_&&!isFinite(B)?(B=void 0===this.options.interval?0:this.options.interval,_=1):0>=_?_=B:isFinite(B)||(B=_),1===_&&1===B?(B*=this.logarithmBase-1/this.logarithmBase,_=1):1==B/_?(B*=j=Math.min(B*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),_/=j):_>B?(j=Math.min(_/B*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=B?_=B/j:B=_*j):(j=Math.min(B/_*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==B&&(B*=j),1!==_&&(_/=j)),L=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:B/_>this.logarithmBase?B/_*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<_&&(_=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>B&&(B=1)),j=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?B:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?_:this.viewportMinimum);var it=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?B:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?_:this.viewportMinimum);if(this.intervalType="number",j=Math.pow(this.logarithmBase,D.getNiceNumber(Math.abs(Math.log(j)/et),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=D.getNiceExponent(Math.log(j)/et/(tt-1),!0),u=D.getNiceNumber(it/(tt-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?_/Math.sqrt(L):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(_)/et/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?B*Math.sqrt(L):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(B)/et/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=D.getNiceExponent(Math.ceil(Math.log(j)/et)/(tt-1)),u=D.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(tt-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(_=null!==this.minimum?this.minimum:this.dataInfo.min,1==(B=null!==this.maximum?this.maximum:this.dataInfo.max)/_&&(B*=j=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),_/=j),L=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:B/_>this.logarithmBase?B/_*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(_=null!==this.minimum?this.minimum:this.dataInfo.min,B=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(_)||isFinite(B)?1===_&&1===B?(B*=this.logarithmBase,_/=this.logarithmBase):1==B/_?(B*=j=Math.pow(this.logarithmBase,this.interval),_/=j):_>B?(j=Math.min(_/B*.01,5),1<=B?_=B/j:B=_*j):(j=Math.min(B/_*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==B&&(B*=j),1!==_&&(_/=j)):(B=void 0===this.options.interval?0:this.options.interval,_=1),L=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:B/_>this.logarithmBase?B/_*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<_&&(_=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>B&&(B=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?_/Math.sqrt(L):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(_)/et/this.interval)),s(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?B*Math.sqrt(L):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(B)/et/this.interval)),s(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),_=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(et*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=tt,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>tt?2:3)){for(et=Math.floor(this.viewportMinimum/u+.5)*u;et<this.viewportMinimum;)et+=u;this.equidistantInterval=!1,this.intervalStartPosition=et,this.interval=u}else this.options.interval||(u=Math.ceil(this.interval),this.range>this.interval&&(this.interval=u,_=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(et*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=_;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(et=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(et)&&isFinite(et)||(et=2),2<et))for(j=0;j<et-2;j++)this.valueFormatString+="#"},D.generateValueFormatString=function(u,_){var B="#,##0.",L=_;1>u&&(L+=Math.floor(Math.abs(Math.log(u)/Math.LN10)),isNaN(L)||!isFinite(L))&&(L=_);for(var j=0;j<L;j++)B+="#";return B},D.getNiceExponent=function(u,_){var B=Math.floor(Math.log(u)/Math.LN10),L=u/Math.pow(10,B);return L=0>B?1>=L?1:5>=L?5:10:Math.max(Math.floor(L),1),Number(-20>B?L*Math.pow(10,B):(L*Math.pow(10,B)).toFixed(20))},D.getNiceNumber=function(u,_){var B=Math.floor(Math.log(u)/Math.LN10),L=u/Math.pow(10,B);return L=_?1.5>L?1:3>L?2:7>L?5:10:1>=L?1:2>=L?2:5>=L?5:10,Number(-20>B?L*Math.pow(10,B):(L*Math.pow(10,B)).toFixed(20))},D.prototype.getLabelStartPoint=function(){var u=ut[this.intervalType+"Duration"]*this.interval;return u=new Date(Math.floor(this.viewportMinimum/u)*u),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<u.getMilliseconds()&&(u.setSeconds(u.getSeconds()+1),u.setMilliseconds(0)):"minute"===this.intervalType?(0<u.getSeconds()||0<u.getMilliseconds())&&(u.setMinutes(u.getMinutes()+1),u.setSeconds(0),u.setMilliseconds(0)):"hour"===this.intervalType?(0<u.getMinutes()||0<u.getSeconds()||0<u.getMilliseconds())&&(u.setHours(u.getHours()+1),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)):"day"===this.intervalType?(0<u.getHours()||0<u.getMinutes()||0<u.getSeconds()||0<u.getMilliseconds())&&(u.setDate(u.getDate()+1),u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)):"week"===this.intervalType?(0<u.getDay()||0<u.getHours()||0<u.getMinutes()||0<u.getSeconds()||0<u.getMilliseconds())&&(u.setDate(u.getDate()+(7-u.getDay())),u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)):"month"===this.intervalType?(1<u.getDate()||0<u.getHours()||0<u.getMinutes()||0<u.getSeconds()||0<u.getMilliseconds())&&(u.setMonth(u.getMonth()+1),u.setDate(1),u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)):"year"===this.intervalType&&(0<u.getMonth()||1<u.getDate()||0<u.getHours()||0<u.getMinutes()||0<u.getSeconds()||0<u.getMilliseconds())&&(u.setFullYear(u.getFullYear()+1),u.setMonth(0),u.setDate(1),u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0))),u},na(Z,V),na(U,V),U.prototype.createUserOptions=function(u){if(void 0!==u||this.options._isPlaceholder){var _=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Ba(this.parent[this.optionsName]),_=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===u?{}:u,this.parent.options[this.optionsName][_]=this.options}},U.prototype.render=function(u){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var _=this.ctx,B=this.ctx.globalAlpha;this.ctx=u||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var L,j,tt,et,it,at,st=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),nt=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,Q(this.id),u=Math.max(this.spacing,3);var ot=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=ot,this.ctx.setLineDash&&this.ctx.setLineDash(N(this.lineDashType,ot)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(st=1==ot%2?.5+(st.x<<0):st.x<<0,j=1==ot%2?.5+(nt.x<<0):nt.x<<0,"top"===this.scaleBreaks.parent._position?(nt=this.chart.plotArea.y1,tt=this.chart.plotArea.y2+ot/2+.5<<0):(nt=this.chart.plotArea.y2,tt=this.chart.plotArea.y1-ot/2+.5<<0,u*=-1),this.bounds={x1:st-ot/2,y1:nt,x2:j+ot/2,y2:tt},this.ctx.moveTo(st,nt),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=u||"bottom"===this.scaleBreaks.parent._position&&0<=u)this.ctx.lineTo(st,tt),this.ctx.lineTo(j,tt),this.ctx.lineTo(j,nt);else if("wavy"===this.type){et=st,L=.5,at=(tt-(it=nt))/u/3;for(var rt=0;rt<at;rt++)this.ctx.bezierCurveTo(et+L*u,it+u,et+L*u,it+2*u,et,it+3*u),it+=3*u,L*=-1;for(this.ctx.bezierCurveTo(et+L*u,it+u,et+L*u,it+2*u,et,it+3*u),et=j,L*=-1,this.ctx.lineTo(et,it),rt=0;rt<at;rt++)this.ctx.bezierCurveTo(et+L*u,it-u,et+L*u,it-2*u,et,it-3*u),it-=3*u,L*=-1}else if("zigzag"===this.type){for(L=-1,et=st+u,at=(tt-(it=nt+u))/u/2,rt=0;rt<at;rt++)this.ctx.lineTo(et,it),et+=2*L*u,it+=2*u,L*=-1;for(this.ctx.lineTo(et,it),et+=j-st,rt=0;rt<at+1;rt++)this.ctx.lineTo(et,it),et+=2*L*u,it-=2*u,L*=-1;this.ctx.lineTo(et+L*u,it+u)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(nt=1==ot%2?.5+(nt.y<<0):nt.y<<0,tt=1==ot%2?.5+(st.y<<0):st.y<<0,"left"===this.scaleBreaks.parent._position?(st=this.chart.plotArea.x1,j=this.chart.plotArea.x2+ot/2+.5<<0):(st=this.chart.plotArea.x2,j=this.chart.plotArea.x1-ot/2+.5<<0,u*=-1),this.bounds={x1:st,y1:nt-ot/2,x2:j,y2:tt+ot/2},this.ctx.moveTo(st,nt),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=u||"right"===this.scaleBreaks.parent._position&&0<=u)this.ctx.lineTo(j,nt),this.ctx.lineTo(j,tt),this.ctx.lineTo(st,tt);else if("wavy"===this.type){for(it=nt,L=.5,at=(j-(et=st))/u/3,rt=0;rt<at;rt++)this.ctx.bezierCurveTo(et+u,it+L*u,et+2*u,it+L*u,et+3*u,it),et+=3*u,L*=-1;for(this.ctx.bezierCurveTo(et+u,it+L*u,et+2*u,it+L*u,et+3*u,it),it=tt,L*=-1,this.ctx.lineTo(et,it),rt=0;rt<at;rt++)this.ctx.bezierCurveTo(et-u,it+L*u,et-2*u,it+L*u,et-3*u,it),et-=3*u,L*=-1}else if("zigzag"===this.type){for(L=1,it=nt-u,at=(j-(et=st+u))/u/2,rt=0;rt<at;rt++)this.ctx.lineTo(et,it),it+=2*L*u,et+=2*u,L*=-1;for(this.ctx.lineTo(et,it),it+=tt-nt,rt=0;rt<at+1;rt++)this.ctx.lineTo(et,it),it+=2*L*u,et-=2*u,L*=-1;this.ctx.lineTo(et+u,it+L*u)}0<ot&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=B,this.ctx=_}},na(M,V),M.prototype.createUserOptions=function(u){if(void 0!==u||this.options._isPlaceholder){var _=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Ba(this.parent.stripLines),_=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===u?{}:u,this.parent.options.stripLines[_]=this.options}},M.prototype.render=function(){this.ctx.save();var u=this.parent.getPixelCoordinatesOnAxis(this.value),_=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<_){var B=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var L,j,tt,et,it=this.ctx.globalAlpha;this.ctx.globalAlpha=B,Q(this.id),this.ctx.lineWidth=_,this.ctx.setLineDash&&this.ctx.setLineDash(N(this.lineDashType,_)),"bottom"===this.parent._position||"top"===this.parent._position?(L=j=1==this.ctx.lineWidth%2?.5+(u.x<<0):u.x<<0,tt=this.chart.plotArea.y1,et=this.chart.plotArea.y2,this.bounds={x1:L-_/2,y1:tt,x2:j+_/2,y2:et}):"left"!==this.parent._position&&"right"!==this.parent._position||(tt=et=1==this.ctx.lineWidth%2?.5+(u.y<<0):u.y<<0,L=this.chart.plotArea.x1,j=this.chart.plotArea.x2,this.bounds={x1:L,y1:tt-_/2,x2:j,y2:et+_/2}),this.ctx.moveTo(L,tt),this.ctx.lineTo(j,et),this.ctx.stroke(),this.ctx.globalAlpha=it}this.ctx.restore()},na($,V),$.prototype.showAt=function(u){if(!this.enabled)return!1;var _=this.chart,B=!1;if(_.resetOverlayedCanvas(),_.clearedOverlayedCanvas=this.parent.type,"xySwapped"===_.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var L=0;L<_.axisY.length;L++)this.parent===_.axisY[L]&&(_.axisY[L]._crosshairValue=u>=_.axisY[L].viewportMinimum&&u<=_.axisY[L].viewportMaximum?u:null);else if("top"===this.parent._position)for(L=0;L<_.axisY2.length;L++)this.parent===_.axisY2[L]&&(_.axisY2[L]._crosshairValue=u>=_.axisY2[L].viewportMinimum&&u<=_.axisY2[L].viewportMaximum?u:null);else if("left"===this.parent._position)for(L=0;L<_.axisX.length;L++)this.parent===_.axisX[L]&&(_.axisX[L]._crosshairValue=u>=_.axisX[L].viewportMinimum&&u<=_.axisX[L].viewportMaximum?u:null);else if("right"===this.parent._position)for(L=0;L<_.axisX2.length;L++)this.parent===_.axisX2[L]&&(_.axisX2[L]._crosshairValue=u>=_.axisX2[L].viewportMinimum&&u<=_.axisX2[L].viewportMaximum?u:null)}else if("bottom"===this.parent._position)for(L=0;L<_.axisX.length;L++)this.parent===_.axisX[L]&&(_.axisX[L]._crosshairValue=u>=_.axisX[L].viewportMinimum&&u<=_.axisX[L].viewportMaximum?u:null);else if("top"===this.parent._position)for(L=0;L<_.axisX2.length;L++)this.parent===_.axisX2[L]&&(_.axisX2[L]._crosshairValue=u>=_.axisX2[L].viewportMinimum&&u<=_.axisX2[L].viewportMaximum?u:null);else if("left"===this.parent._position)for(L=0;L<_.axisY.length;L++)this.parent===_.axisY[L]&&(_.axisY[L]._crosshairValue=u>=_.axisY[L].viewportMinimum&&u<=_.axisY[L].viewportMaximum?u:null);else if("right"===this.parent._position)for(L=0;L<_.axisY2.length;L++)this.parent===_.axisY2[L]&&(_.axisY2[L]._crosshairValue=u>=_.axisY2[L].viewportMinimum&&u<=_.axisY2[L].viewportMaximum?u:null);for(L=0;L<_.axisX.length;L++)u=_.axisX[L]._crosshairValue,_.axisX[L].crosshair&&_.axisX[L].crosshair.enabled&&!s(u)&&u>=_.axisX[L].viewportMinimum&&u<=_.axisX[L].viewportMaximum&&(_.axisX[L].showCrosshair(u),_.axisX[L].crosshair._updatedValue=u,this===_.axisX[L].crosshair&&(B=!0));for(L=0;L<_.axisX2.length;L++)u=_.axisX2[L]._crosshairValue,_.axisX2[L].crosshair&&_.axisX2[L].crosshair.enabled&&!s(u)&&u>=_.axisX2[L].viewportMinimum&&u<=_.axisX2[L].viewportMaximum&&(_.axisX2[L].showCrosshair(u),_.axisX2[L].crosshair._updatedValue=u,this===_.axisX2[L].crosshair&&(B=!0));for(L=0;L<_.axisY.length;L++)u=_.axisY[L]._crosshairValue,_.axisY[L].crosshair&&_.axisY[L].crosshair.enabled&&!s(u)&&u>=_.axisY[L].viewportMinimum&&u<=_.axisY[L].viewportMaximum&&(_.axisY[L].showCrosshair(u),_.axisY[L].crosshair._updatedValue=u,this===_.axisY[L].crosshair&&(B=!0));for(L=0;L<_.axisY2.length;L++)u=_.axisY2[L]._crosshairValue,_.axisY2[L].crosshair&&_.axisY2[L].crosshair.enabled&&!s(u)&&_._crosshairY2Value>=_.axisY2[L].viewportMinimum&&_._crosshairY2Value<=_.axisY2[L].viewportMaximum&&(_.axisY2[L].showCrosshair(u),_.axisY2[L].crosshair._updatedValue=u,this===_.axisY2[L].crosshair&&(B=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),B},$.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},$.prototype.render=function(u,_,B){var L,j,tt,et,it=null,at=null,st=null,nt="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var ot=0;ot="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=D.generateValueFormatString(this.parent.range,ot)}st=null===this.opacity?1:this.opacity,ot=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var rt=this.chart.overlaidCanvasCtx,lt=rt.globalAlpha;if(rt.globalAlpha=st,rt.beginPath(),rt.strokeStyle=this.color,rt.lineWidth=ot,rt.save(),this.labelFontSize=s(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,this.labelMaxWidth=s(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=s(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<ot&&rt.setLineDash&&rt.setLineDash(N(this.lineDashType,ot)),st=new ia(rt,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:nt,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var ht=0;if(nt=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var dt=null;"bottom"===this.parent._position||"top"===this.parent._position?ht=this.parent.dataSeries[0].axisX.convertPixelToValue({y:_}):"left"!==this.parent._position&&"right"!==this.parent._position||(ht=this.parent.convertPixelToValue({y:_}));for(var ct=0;ct<this.parent.dataSeries.length;ct++)(dt=this.parent.dataSeries[ct].getDataPointAtX(ht,!0))&&0<=dt.index&&(dt.dataSeries=this.parent.dataSeries[ct],null!==dt.dataPoint.y&&dt.dataSeries.visible&&nt.push(dt));if(dt=null,0===nt.length)return;if(nt.sort((function(u,_){return u.distance-_.distance})),dt=Math.abs(u-this.parent.convertValueToPixel(nt[0].dataPoint.y)),ct=0,"rangeBar"===nt[0].dataSeries.type||"error"===nt[0].dataSeries.type){dt=Math.abs(u-this.parent.convertValueToPixel(nt[ct].dataPoint.y[0]));var pt=0;for(ht=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(var ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(u-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else(pt=Math.abs(u-this.parent.convertValueToPixel(nt[ht].dataPoint.y)))<dt&&(dt=pt,ct=ht)}else if("stackedBar"===nt[0].dataSeries.type){dt=Math.abs(u-this.parent.convertValueToPixel(nt[0].dataPoint.y));var xt=pt=0;for(ht=ct=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(u-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else xt+=nt[ht].dataPoint.y,(pt=Math.abs(u-this.parent.convertValueToPixel(xt)))<dt&&(dt=pt,ct=ht)}else if("stackedBar100"===nt[0].dataSeries.type){dt=Math.abs(u-this.parent.convertValueToPixel(nt[0].dataPoint.y));var mt=xt=pt=0;for(ht=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(u-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else xt+=nt[ht].dataPoint.y,mt=nt[ht].dataPoint.x.getTime?nt[ht].dataPoint.x.getTime():nt[ht].dataPoint.x,mt=xt/nt[ht].dataSeries.plotUnit.dataPointYSums[mt]*100,(pt=Math.abs(u-this.parent.convertValueToPixel(mt)))<dt&&(dt=pt,ct=ht)}else for(dt=Math.abs(u-this.parent.convertValueToPixel(nt[0].dataPoint.y)),ht=ct=pt=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(u-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else(pt=Math.abs(u-this.parent.convertValueToPixel(nt[ht].dataPoint.y)))<dt&&(dt=pt,ct=ht);if(ut=nt[ct],"bottom"===this.parent._position||"top"===this.parent._position){if(L=0,"rangeBar"===this.parent.dataSeries[ct].type||"error"===this.parent.dataSeries[ct].type){for(dt=Math.abs(u-this.parent.convertValueToPixel(ut.dataPoint.y[0])),ht=pt=0;ht<ut.dataPoint.y.length;ht++)(pt=Math.abs(u-this.parent.convertValueToPixel(ut.dataPoint.y[ht])))<dt&&(dt=pt,L=ht);it=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(ut.dataPoint.y[L])<<0):this.parent.convertValueToPixel(ut.dataPoint.y[L])<<0,this.value=ut.dataPoint.y[L],st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataPoint.y[L]}):s(this.options.label)?ea(B||ut.dataPoint.y[L],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[ct].type){for(dt=Math.abs(u-this.parent.convertValueToPixel(nt[0].dataPoint.y)),xt=pt=0,ht=ct;0<=ht;ht--)xt+=nt[ht].dataPoint.y,(pt=Math.abs(u-this.parent.convertValueToPixel(xt)))<dt&&(dt=pt,L=ht);it=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(xt)<<0):this.parent.convertValueToPixel(xt)<<0,this.value=xt,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataPoint.y}):s(this.options.label)?ea(B||ut.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[ct].type){for(dt=Math.abs(u-this.parent.convertValueToPixel(nt[0].dataPoint.y)),mt=xt=pt=0,ht=ct;0<=ht;ht--)xt+=nt[ht].dataPoint.y,mt=nt[ht].dataPoint.x.getTime?nt[ht].dataPoint.x.getTime():nt[ht].dataPoint.x,mt=xt/nt[ht].dataSeries.plotUnit.dataPointYSums[mt]*100,(pt=Math.abs(u-this.parent.convertValueToPixel(mt)))<dt&&(dt=pt,L=ht);it=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(mt)<<0):this.parent.convertValueToPixel(mt)<<0,this.value=mt,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||mt}):s(this.options.label)?ea(B||mt,this.valueFormatString,this.chart._cultureInfo):this.label}else it=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(ut.dataPoint.y)<<0):this.parent.convertValueToPixel(ut.dataPoint.y)<<0,this.value=ut.dataPoint.y,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataPoint.y}):s(this.options.label)?ea(B||ut.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;L=j=it,tt=this.chart.plotArea.y1,et=this.chart.plotArea.y2,this.bounds={x1:L-ot/2,y1:tt,x2:j+ot/2,y2:et},st.x=L-st.measureText().width/2,st.x+st.width>this.chart.bounds.x2?st.x=this.chart.bounds.x2-st.width:st.x<this.chart.bounds.x1&&(st.x=this.chart.bounds.x1),st.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-st.height+this.parent.tickLength:st.fontSize/2)+2,st.y+st.height>this.chart.bounds.y2?st.y=this.chart.bounds.y2-st.height:st.y<this.chart.bounds.y1&&(st.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(tt=et=at=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(ut.dataPoint.x)<<0):this.parent.convertValueToPixel(ut.dataPoint.x)<<0,L=this.chart.plotArea.x1,j=this.chart.plotArea.x2,this.bounds={x1:L,y1:tt-ot/2,x2:j,y2:et+ot/2},mt=!1,this.parent.labels)for(nt=Math.ceil(this.parent.interval),ht=0;ht<this.parent.viewportMaximum;ht+=nt){if(!this.parent.labels[ht]){mt=!1;break}mt=!0}if(mt){if("axisX"===this.parent.type)for(ht=this.parent.convertPixelToValue({y:_}),dt=null,ct=0;ct<this.parent.dataSeries.length;ct++)(dt=this.parent.dataSeries[ct].getDataPointAtX(ht,!0))&&0<=dt.index&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:ut.dataPoint.x}):s(this.options.label)?dt.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataPoint.x}):s(this.options.label)?ft(B||ut.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataPoint.x}):s(this.options.label)?ea(B||ut.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=ut.dataPoint.x,st.y=et+st.fontSize/2-st.measureText().height/2+2,st.y-st.fontSize/2<this.chart.bounds.y1?st.y=this.chart.bounds.y1+st.fontSize/2+2:st.y+st.measureText().height-st.fontSize/2>this.chart.bounds.y2&&(st.y=this.chart.bounds.y2-st.measureText().height+st.fontSize/2),"left"===this.parent._position?st.x=this.parent.lineCoordinates.x2-st.measureText().width:"right"===this.parent._position&&(st.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(ht=this.parent.convertPixelToValue({x:u}),ct=0;ct<this.parent.dataSeries.length;ct++)(dt=this.parent.dataSeries[ct].getDataPointAtX(ht,!0))&&0<=dt.index&&(dt.dataSeries=this.parent.dataSeries[ct],null!==dt.dataPoint.y&&dt.dataSeries.visible&&nt.push(dt));if(0===nt.length)return;if(nt.sort((function(u,_){return u.distance-_.distance})),ut=nt[0],L=j=it=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(ut.dataPoint.x)<<0):this.parent.convertValueToPixel(ut.dataPoint.x)<<0,tt=this.chart.plotArea.y1,et=this.chart.plotArea.y2,this.bounds={x1:L-ot/2,y1:tt,x2:j+ot/2,y2:et},mt=!1,this.parent.labels)for(nt=Math.ceil(this.parent.interval),ht=0;ht<this.parent.viewportMaximum;ht+=nt){if(!this.parent.labels[ht]){mt=!1;break}mt=!0}if(mt){if("axisX"===this.parent.type)for(ht=this.parent.convertPixelToValue({x:u}),dt=null,ct=0;ct<this.parent.dataSeries.length;ct++)(dt=this.parent.dataSeries[ct].getDataPointAtX(ht,!0))&&0<=dt.index&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:ut.dataPoint.x}):s(this.options.label)?dt.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:ut.dataPoint.x}):s(this.options.label)?ft(B||ut.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:ut.dataPoint.x}):s(this.options.label)?ea(B||ut.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=ut.dataPoint.x,st.x=L-st.measureText().width/2,st.x+st.width>this.chart.bounds.x2&&(st.x=this.chart.bounds.x2-st.width),st.x<this.chart.bounds.x1&&(st.x=this.chart.bounds.x1),"bottom"===this.parent._position?st.y=this.parent.lineCoordinates.y2+st.fontSize/2+2:"top"===this.parent._position&&(st.y=this.parent.lineCoordinates.y1-st.height+st.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!s(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(ht=this.parent.dataSeries[0].axisX.convertPixelToValue({x:u})),ct=0;ct<this.parent.dataSeries.length;ct++)(dt=this.parent.dataSeries[ct].getDataPointAtX(ht,!0))&&0<=dt.index&&(dt.dataSeries=this.parent.dataSeries[ct],null!==dt.dataPoint.y&&dt.dataSeries.visible&&nt.push(dt));if(0===nt.length)return;if(nt.sort((function(u,_){return u.distance-_.distance})),ct=0,"rangeColumn"===nt[0].dataSeries.type||"rangeArea"===nt[0].dataSeries.type||"error"===nt[0].dataSeries.type||"rangeSplineArea"===nt[0].dataSeries.type||"candlestick"===nt[0].dataSeries.type||"ohlc"===nt[0].dataSeries.type||"boxAndWhisker"===nt[0].dataSeries.type)for(dt=Math.abs(_-this.parent.convertValueToPixel(nt[0].dataPoint.y[0])),ht=pt=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(_-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else(pt=Math.abs(_-this.parent.convertValueToPixel(nt[ht].dataPoint.y)))<dt&&(dt=pt,ct=ht);else if("stackedColumn"===nt[0].dataSeries.type||"stackedArea"===nt[0].dataSeries.type)for(dt=Math.abs(_-this.parent.convertValueToPixel(nt[0].dataPoint.y)),ht=xt=pt=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(_-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else xt+=nt[ht].dataPoint.y,(pt=Math.abs(_-this.parent.convertValueToPixel(xt)))<dt&&(dt=pt,ct=ht);else if("stackedColumn100"===nt[0].dataSeries.type||"stackedArea100"===nt[0].dataSeries.type)for(dt=Math.abs(_-this.parent.convertValueToPixel(nt[0].dataPoint.y)),ht=mt=xt=pt=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(_-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else xt+=nt[ht].dataPoint.y,mt=nt[ht].dataPoint.x.getTime?nt[ht].dataPoint.x.getTime():nt[ht].dataPoint.x,mt=xt/nt[ht].dataSeries.plotUnit.dataPointYSums[mt]*100,(pt=Math.abs(_-this.parent.convertValueToPixel(mt)))<dt&&(dt=pt,ct=ht);else for(dt=Math.abs(_-this.parent.convertValueToPixel(nt[0].dataPoint.y)),ht=pt=0;ht<nt.length;ht++)if(nt[ht].dataPoint.y&&nt[ht].dataPoint.y.length)for(ut=0;ut<nt[ht].dataPoint.y.length;ut++)(pt=Math.abs(_-this.parent.convertValueToPixel(nt[ht].dataPoint.y[ut])))<dt&&(dt=pt,ct=ht);else(pt=Math.abs(_-this.parent.convertValueToPixel(nt[ht].dataPoint.y)))<dt&&(dt=pt,ct=ht);if(ut=nt[ct],L=0,"rangeColumn"===this.parent.dataSeries[ct].type||"rangeArea"===this.parent.dataSeries[ct].type||"error"===this.parent.dataSeries[ct].type||"rangeSplineArea"===this.parent.dataSeries[ct].type||"candlestick"===this.parent.dataSeries[ct].type||"ohlc"===this.parent.dataSeries[ct].type||"boxAndWhisker"===this.parent.dataSeries[ct].type){for(dt=Math.abs(_-this.parent.convertValueToPixel(ut.dataPoint.y[0])),ht=pt=0;ht<ut.dataPoint.y.length;ht++)(pt=Math.abs(_-this.parent.convertValueToPixel(ut.dataPoint.y[ht])))<dt&&(dt=pt,L=ht);at=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(ut.dataPoint.y[L])<<0):this.parent.convertValueToPixel(ut.dataPoint.y[L])<<0,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataPoint.y[L]}):s(this.options.label)?ea(B||ut.dataPoint.y[L],this.valueFormatString,this.chart._cultureInfo):this.label,this.value=ut.dataPoint.y[L]}else if("stackedColumn"===this.parent.dataSeries[ct].type||"stackedArea"===this.parent.dataSeries[ct].type){for(dt=Math.abs(_-this.parent.convertValueToPixel(nt[0].dataPoint.y)),xt=pt=0,ht=ct;0<=ht;ht--)xt+=nt[ht].dataPoint.y,(pt=Math.abs(_-this.parent.convertValueToPixel(xt)))<dt&&(dt=pt,L=ht);at=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(xt)<<0):this.parent.convertValueToPixel(xt)<<0,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataPoint.y}):s(this.options.label)?ea(B||ut.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=xt}else if("stackedColumn100"===this.parent.dataSeries[ct].type||"stackedArea100"===this.parent.dataSeries[ct].type){for(dt=Math.abs(_-this.parent.convertValueToPixel(nt[0].dataPoint.y)),xt=pt=0,ht=ct;0<=ht;ht--)xt+=nt[ht].dataPoint.y,mt=nt[ht].dataPoint.x.getTime?nt[ht].dataPoint.x.getTime():nt[ht].dataPoint.x,mt=xt/nt[ht].dataSeries.plotUnit.dataPointYSums[mt]*100,(pt=Math.abs(_-this.parent.convertValueToPixel(mt)))<dt&&(dt=pt,L=ht);at=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(mt)<<0):this.parent.convertValueToPixel(mt)<<0,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||mt}):s(this.options.label)?ea(B||mt,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=mt}else"waterfall"===this.parent.dataSeries[ct].type?(at=1==rt.lineWidth%2?.5+(this.parent.convertValueToPixel(ut.dataSeries.dataPointEOs[ut.index].cumulativeSum)<<0):this.parent.convertValueToPixel(ut.dataSeries.dataPointEOs[ut.index].cumulativeSum)<<0,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||ut.dataSeries.dataPointEOs[ut.index].cumulativeSum}):s(this.options.label)?ea(B||ut.dataSeries.dataPointEOs[ut.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=ut.dataSeries.dataPointEOs[ut.index].cumulativeSum):(at=1==rt.lineWidth%2?(s(u)?_:this.parent.convertValueToPixel(ut.dataPoint.y)<<0)+.5:s(u)?_:this.parent.convertValueToPixel(ut.dataPoint.y)<<0,st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:ut.dataPoint.y}):s(this.options.label)?ea(B||ut.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=ut.dataPoint.y);tt=et=at,L=this.chart.plotArea.x1,j=this.chart.plotArea.x2,this.bounds={x1:L,y1:tt-ot/2,x2:j,y2:et+ot/2},st.y=et+st.fontSize/2-st.measureText().height/2+2,st.y-st.fontSize/2<this.chart.bounds.y1?st.y=this.chart.bounds.y1+st.fontSize/2+2:st.y+st.measureText().height-st.fontSize/2>this.chart.bounds.y2&&(st.y=this.chart.bounds.y2-st.measureText().height+st.fontSize/2),"left"===this.parent._position?st.x=this.parent.lineCoordinates.x2-st.measureText().width:"right"===this.parent._position&&(st.x=this.parent.lineCoordinates.x2)}nt=null,"bottom"!==this.parent._position&&"top"!==this.parent._position||("top"===this.parent._position&&st.y-st.fontSize/2<this.chart.bounds.y1&&(st.y=this.chart.bounds.y1+st.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-st.fontSize/2+st.measureText().height>this.chart.bounds.y2&&(st.y=this.chart.bounds.y2-st.height+st.fontSize/2+2),L>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&j<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<ot&&(rt.moveTo(L,tt),rt.lineTo(j,et),rt.stroke(),this._hidden=!1),rt.restore(),!s(st.text)&&("number"==typeof st.text.valueOf()||0<st.text.length)&&st.render(!0))),"left"!==this.parent._position&&"right"!==this.parent._position||("left"===this.parent._position&&st.x<this.chart.bounds.x1&&(st.x=this.chart.bounds.x1),"right"===this.parent._position&&st.x+st.measureText().width>this.chart.bounds.x2&&(st.x=this.chart.bounds.x2-st.measureText().width),et>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&tt<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<ot&&(rt.moveTo(L,tt),rt.lineTo(j,et),rt.stroke(),this._hidden=!1),rt.restore(),!s(st.text)&&("number"==typeof st.text.valueOf()||0<st.text.length)&&st.render(!0)))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(L=j=it=1==rt.lineWidth%2?.5+(u<<0):u<<0,tt=this.chart.plotArea.y1,et=this.chart.plotArea.y2,this.bounds={x1:L-ot/2,y1:tt,x2:j+ot/2,y2:et}):"left"!==this.parent._position&&"right"!==this.parent._position||(tt=et=at=1==rt.lineWidth%2?.5+(_<<0):_<<0,L=this.chart.plotArea.x1,j=this.chart.plotArea.x2,this.bounds={x1:L,y1:tt-ot/2,x2:j,y2:et+ot/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(mt=!1,this.parent.labels)for(nt=Math.ceil(this.parent.interval),ht=0;ht<this.parent.viewportMaximum;ht+=nt){if(!this.parent.labels[ht]){mt=!1;break}mt=!0}if(mt){if("axisX"===this.parent.type)for(ht=this.parent.convertPixelToValue({y:_}),dt=null,ct=0;ct<this.parent.dataSeries.length;ct++)(dt=this.parent.dataSeries[ct].getDataPointAtX(ht,!0))&&0<=dt.index&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||this.parent.convertPixelToValue(u)}):s(this.options.label)?dt.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||this.parent.convertPixelToValue(_)}):s(this.options.label)?ft(B||this.parent.convertPixelToValue(_),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||this.parent.convertPixelToValue(_)}):s(this.options.label)?ea(B||this.parent.convertPixelToValue(_),this.valueFormatString,this.chart._cultureInfo):this.label);st.y=_+st.fontSize/2-st.measureText().height/2+2,st.y-st.fontSize/2<this.chart.bounds.y1?st.y=this.chart.bounds.y1+st.fontSize/2+2:st.y+st.measureText().height-st.fontSize/2>this.chart.bounds.y2&&(st.y=this.chart.bounds.y2-st.measureText().height+st.fontSize/2),"left"===this.parent._position?st.x=this.parent.lineCoordinates.x1-st.measureText().width:"right"===this.parent._position&&(st.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||this.parent.convertPixelToValue(u)}):s(this.options.label)?ea(B||this.parent.convertPixelToValue(u),this.valueFormatString,this.chart._cultureInfo):this.label,st.x=L-st.measureText().width/2,st.x+st.width>this.chart.bounds.x2&&(st.x=this.chart.bounds.x2-st.width),st.x<this.chart.bounds.x1&&(st.x=this.chart.bounds.x1),"bottom"===this.parent._position?st.y=this.parent.lineCoordinates.y2+st.fontSize/2+2:"top"===this.parent._position&&(st.y=this.parent.lineCoordinates.y1-st.height+st.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(mt=!1,nt="",this.parent.labels)for(nt=Math.ceil(this.parent.interval),ht=0;ht<this.parent.viewportMaximum;ht+=nt){if(!this.parent.labels[ht]){mt=!1;break}mt=!0}if(mt){if("axisX"===this.parent.type)for(ht=this.parent.convertPixelToValue({x:u}),dt=null,ct=0;ct<this.parent.dataSeries.length;ct++)(dt=this.parent.dataSeries[ct].getDataPointAtX(ht,!0))&&0<=dt.index&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||this.parent.convertPixelToValue(u)}):s(this.options.label)?B||dt.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||this.parent.convertPixelToValue(u)}):s(this.options.label)?ft(B||this.parent.convertPixelToValue(u),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||(0<this.parent.dataSeries.length?this.parent.convertPixelToValue(u):"")}):s(this.options.label)?ea(B||this.parent.convertPixelToValue(u),this.valueFormatString,this.chart._cultureInfo):this.label);st.x=L-st.measureText().width/2,st.x+st.width>this.chart.bounds.x2&&(st.x=this.chart.bounds.x2-st.width),st.x<this.chart.bounds.x1&&(st.x=this.chart.bounds.x1),"bottom"===this.parent._position?st.y=this.parent.lineCoordinates.y2+st.fontSize/2+2:"top"===this.parent._position&&(st.y=this.parent.lineCoordinates.y1-st.height+st.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(st.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B||this.parent.convertPixelToValue(_)}):s(this.options.label)?ea(B||this.parent.convertPixelToValue(_),this.valueFormatString,this.chart._cultureInfo):this.label,st.y=_+st.fontSize/2-st.measureText().height/2+2,st.y-st.fontSize/2<this.chart.bounds.y1?st.y=this.chart.bounds.y1+st.fontSize/2+2:st.y+st.measureText().height-st.fontSize/2>this.chart.bounds.y2&&(st.y=this.chart.bounds.y2-st.measureText().height+st.fontSize/2),"left"===this.parent._position?st.x=this.parent.lineCoordinates.x2-st.measureText().width:"right"===this.parent._position&&(st.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&st.x<this.chart.bounds.x1?st.x=this.chart.bounds.x1:"right"===this.parent._position&&st.x+st.measureText().width>this.chart.bounds.x2?st.x=this.chart.bounds.x2-st.measureText().width:"top"===this.parent._position&&st.y-st.fontSize/2<this.chart.bounds.y1?st.y=this.chart.bounds.y1+st.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-st.fontSize/2+st.measureText().height>this.chart.bounds.y2&&(st.y=this.chart.bounds.y2-st.height+st.fontSize/2+2),0<ot&&(rt.moveTo(L,tt),rt.lineTo(j,et),rt.stroke(),this._hidden=!1),rt.restore(),!s(st.text)&&("number"==typeof st.text.valueOf()||0<st.text.length)&&st.render(!0),this.value="bottom"===this.parent._position||"top"===this.parent._position?this.parent.convertPixelToValue(u):this.parent.convertPixelToValue(_)}"bottom"!==this.parent._position&&"top"!==this.parent._position||(this._updatedValue=this.parent.convertPixelToValue(it)),"left"!==this.parent._position&&"right"!==this.parent._position||(this._updatedValue=this.parent.convertPixelToValue(at)),rt.globalAlpha=lt},na(Y,V),Y.prototype._initialize=function(){var u;this.updateOption("updated"),this.updateOption("hidden"),this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",u='<div style=" width: auto;height: auto;min-width: 50px;',u+="line-height: auto;",u+="margin: 0px 0px 0px 0px;",u+="padding: 5px;",u+="font-family: Calibri, Arial, Georgia, serif;",u+="font-weight: normal;",u+="font-style: "+(it?"italic;":"normal;"),u+="font-size: 14px;",u+="color: #000000;",u+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",u+="text-align: left;",u+="border: 2px solid gray;",u+=it?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",u+="text-indent: 0px;",u+="white-space: nowrap;",u+="border-radius: 5px;",u+="-moz-user-select:none;",u+="-khtml-user-select: none;",u+="-webkit-user-select: none;",u+="-ms-user-select: none;",u+="user-select: none;",it||(u+="filter: alpha(opacity = 90);",u+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),u+='} "> Sample Tooltip</div>',this.container.innerHTML=u,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},Y.prototype.mouseMoveHandler=function(u,_){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(u,_))},Y.prototype._updateToolTip=function(u,_,B){if(B=void 0===B||B,this.container||this._initialize(),this.enabled||(this.hide(),this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)),!this.chart.disableToolTip){if(void 0===u||void 0===_){if(isNaN(this._prevX)||isNaN(this._prevY))return;u=this._prevX,_=this._prevY}else this._prevX=u,this._prevY=_;var L=null,j=null,tt=[],et=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var at=[];if(this.chart.axisX)for(var st=0;st<this.chart.axisX.length;st++){et=this.chart.axisX[st].convertPixelToValue({y:_});var nt=null;for(L=0;L<this.chart.axisX[st].dataSeries.length;L++)(nt=this.chart.axisX[st].dataSeries[L].getDataPointAtX(et,B))&&0<=nt.index&&(nt.dataSeries=this.chart.axisX[st].dataSeries[L],null!==nt.dataPoint.y&&at.push(nt));nt=null}if(this.chart.axisX2)for(st=0;st<this.chart.axisX2.length;st++){for(et=this.chart.axisX2[st].convertPixelToValue({y:_}),nt=null,L=0;L<this.chart.axisX2[st].dataSeries.length;L++)(nt=this.chart.axisX2[st].dataSeries[L].getDataPointAtX(et,B))&&0<=nt.index&&(nt.dataSeries=this.chart.axisX2[st].dataSeries[L],null!==nt.dataPoint.y&&at.push(nt));nt=null}}else{if(at=[],this.chart.axisX)for(st=0;st<this.chart.axisX.length;st++)for(et=this.chart.axisX[st].convertPixelToValue({x:u}),nt=null,L=0;L<this.chart.axisX[st].dataSeries.length;L++)(nt=this.chart.axisX[st].dataSeries[L].getDataPointAtX(et,B))&&0<=nt.index&&(nt.dataSeries=this.chart.axisX[st].dataSeries[L],null!==nt.dataPoint.y&&at.push(nt));if(this.chart.axisX2)for(st=0;st<this.chart.axisX2.length;st++)for(et=this.chart.axisX2[st].convertPixelToValue({x:u}),nt=null,L=0;L<this.chart.axisX2[st].dataSeries.length;L++)(nt=this.chart.axisX2[st].dataSeries[L].getDataPointAtX(et,B))&&0<=nt.index&&(nt.dataSeries=this.chart.axisX2[st].dataSeries[L],null!==nt.dataPoint.y&&at.push(nt))}if(0===at.length)return;for(at.sort((function(u,_){return u.distance-_.distance})),B=at[0],L=0;L<at.length;L++)at[L].dataPoint.x.valueOf()===B.dataPoint.x.valueOf()&&tt.push(at[L]);at=null}else{if(nt=this.chart.getDataPointAtXY(u,_,B))this.currentDataPointIndex=nt.dataPointIndex,this.currentSeriesIndex=nt.dataSeries.index;else if(it)if(0<(nt=Ya(u,_,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[nt]){if("legendItem"===(nt=this.chart._eventManager.objectMap[nt]).objectType)return;this.currentSeriesIndex=nt.dataSeriesIndex,this.currentDataPointIndex=0<=nt.dataPointIndex?nt.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(j=this.chart.data[this.currentSeriesIndex],nt={},0<=this.currentDataPointIndex)L=j.dataPoints[this.currentDataPointIndex],nt.dataSeries=j,nt.dataPoint=L,nt.index=this.currentDataPointIndex,nt.distance=Math.abs(L.x-et),"waterfall"===j.type&&(nt.cumulativeSumYStartValue=j.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,nt.cumulativeSum=j.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==j.type&&"stepLine"!==j.type&&"spline"!==j.type&&"area"!==j.type&&"stepArea"!==j.type&&"splineArea"!==j.type&&"stackedArea"!==j.type&&"stackedArea100"!==j.type&&"rangeArea"!==j.type&&"rangeSplineArea"!==j.type&&"candlestick"!==j.type&&"ohlc"!==j.type&&"boxAndWhisker"!==j.type)return;et=j.axisX.convertPixelToValue({x:u}),s(nt=j.getDataPointAtX(et,B))||(nt.dataSeries=j,this.currentDataPointIndex=nt.index,L=nt.dataPoint)}if(!s(nt)&&!s(nt.dataPoint)&&!s(nt.dataPoint.y))if(nt.dataSeries.axisY)if(0<nt.dataPoint.y.length){for(L=B=0;L<nt.dataPoint.y.length;L++)nt.dataPoint.y[L]<nt.dataSeries.axisY.viewportMinimum?B--:nt.dataPoint.y[L]>nt.dataSeries.axisY.viewportMaximum&&B++;B<nt.dataPoint.y.length&&B>-nt.dataPoint.y.length&&tt.push(nt)}else"column"===j.type||"bar"===j.type?0>nt.dataPoint.y?0>nt.dataSeries.axisY.viewportMinimum&&nt.dataSeries.axisY.viewportMaximum>=nt.dataPoint.y&&tt.push(nt):nt.dataSeries.axisY.viewportMinimum<=nt.dataPoint.y&&0<=nt.dataSeries.axisY.viewportMaximum&&tt.push(nt):"bubble"===j.type?(B=this.chart._eventManager.objectMap[j.dataPointIds[nt.index]].size/2,nt.dataPoint.y>=nt.dataSeries.axisY.viewportMinimum-B&&nt.dataPoint.y<=nt.dataSeries.axisY.viewportMaximum+B&&tt.push(nt)):"waterfall"===j.type?(B=0,nt.cumulativeSumYStartValue<nt.dataSeries.axisY.viewportMinimum?B--:nt.cumulativeSumYStartValue>nt.dataSeries.axisY.viewportMaximum&&B++,nt.cumulativeSum<nt.dataSeries.axisY.viewportMinimum?B--:nt.cumulativeSum>nt.dataSeries.axisY.viewportMaximum&&B++,2>B&&-2<B&&tt.push(nt)):(0<=nt.dataSeries.type.indexOf("100")||"stackedColumn"===j.type||"stackedBar"===j.type||nt.dataPoint.y>=nt.dataSeries.axisY.viewportMinimum&&nt.dataPoint.y<=nt.dataSeries.axisY.viewportMaximum)&&tt.push(nt);else tt.push(nt)}}if(0<tt.length){if(this.highlightObjects(tt),this.enabled){var ot="";if(null!==(ot=this.getToolTipInnerHTML({entries:tt}))){this.contentDiv.innerHTML=ot,B=!1,"none"===this.container.style.display&&(B=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:it?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===tt[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:tt[0].dataPoint.color?tt[0].dataPoint.color:0<tt[0].dataPoint.y?tt[0].dataSeries.risingColor:tt[0].dataSeries.fallingColor:"error"===tt[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:tt[0].dataSeries.color?tt[0].dataSeries.color:tt[0].dataSeries._colorSet[j.index%tt[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:tt[0].dataPoint.color?tt[0].dataPoint.color:tt[0].dataSeries.color?tt[0].dataSeries.color:tt[0].dataSeries._colorSet[tt[0].index%tt[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:it?"italic":"normal"}catch(u){}"pie"===tt[0].dataSeries.type||"doughnut"===tt[0].dataSeries.type||"funnel"===tt[0].dataSeries.type||"pyramid"===tt[0].dataSeries.type||"bar"===tt[0].dataSeries.type||"rangeBar"===tt[0].dataSeries.type||"stackedBar"===tt[0].dataSeries.type||"stackedBar100"===tt[0].dataSeries.type?u=u-10-this.container.clientWidth:(u=tt[0].dataSeries.axisX.convertValueToPixel(tt[0].dataPoint.x)-this.container.clientWidth<<0,u-=10),0>u&&(u+=this.container.clientWidth+20),u+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(u=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(_=10-(_=1!==tt.length||this.shared||"line"!==tt[0].dataSeries.type&&"stepLine"!==tt[0].dataSeries.type&&"spline"!==tt[0].dataSeries.type&&"area"!==tt[0].dataSeries.type&&"stepArea"!==tt[0].dataSeries.type&&"splineArea"!==tt[0].dataSeries.type?"bar"===tt[0].dataSeries.type||"rangeBar"===tt[0].dataSeries.type||"stackedBar"===tt[0].dataSeries.type||"stackedBar100"===tt[0].dataSeries.type?tt[0].dataSeries.axisX.convertValueToPixel(tt[0].dataPoint.x):_:tt[0].dataSeries.axisY.convertValueToPixel(tt[0].dataPoint.y)))+this.container.clientHeight+5&&(_-=_+this.container.clientHeight+5-0),this.fixMozTransitionDelay(u,_),!this.animationEnabled||B?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=u,this.positionBottom=_,this.container.style.left=u+"px",this.container.style.bottom=_+"px"}else this.hide(!1),this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}for(_=[],L=0;L<tt.length;L++)_.push({xValue:tt[L].dataPoint.x,dataPoint:tt[L].dataPoint,dataSeries:tt[L].dataSeries,dataPointIndex:tt[L].index,dataSeriesIndex:tt[L].dataSeries._index});ot={chart:this.chart,toolTip:this.options,content:ot,entries:_},this._entries=tt,this.dispatchEvent("updated",ot,this)}else this.hide()}},Y.prototype.highlightObjects=function(u){var B=this.chart.overlaidCanvasCtx;(s(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas)&&(this.chart.resetOverlayedCanvas(),B.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),B.save();var L=this.chart.plotArea,j=0;for(B.beginPath(),B.rect(L.x1,L.y1,L.x2-L.x1,L.y2-L.y1),B.clip(),L=0;L<u.length;L++){var tt=u[L];if((tt=this.chart._eventManager.objectMap[tt.dataSeries.dataPointIds[tt.index]])&&tt.objectType&&"dataPoint"===tt.objectType){var et=(j=this.chart.data[tt.dataSeriesIndex]).dataPoints[tt.dataPointIndex],it=tt.dataPointIndex;!1===et.highlightEnabled||!0!==j.highlightEnabled&&!0!==et.highlightEnabled||("line"===j.type||"stepLine"===j.type||"spline"===j.type||"scatter"===j.type||"area"===j.type||"stepArea"===j.type||"splineArea"===j.type||"stackedArea"===j.type||"stackedArea100"===j.type||"rangeArea"===j.type||"rangeSplineArea"===j.type?((et=j.getMarkerProperties(it,tt.x1,tt.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*et.size<<0,10),et.borderColor=et.borderColor||"#FFFFFF",et.borderThickness=et.borderThickness||Math.ceil(.1*et.size),_.drawMarkers([et]),void 0!==tt.y2&&((et=j.getMarkerProperties(it,tt.x1,tt.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*et.size<<0,10),et.borderColor=et.borderColor||"#FFFFFF",et.borderThickness=et.borderThickness||Math.ceil(.1*et.size),_.drawMarkers([et]))):"bubble"===j.type?((et=j.getMarkerProperties(it,tt.x1,tt.y1,this.chart.overlaidCanvasCtx)).size=tt.size,et.color="white",et.borderColor="white",B.globalAlpha=.3,_.drawMarkers([et]),B.globalAlpha=1):"column"===j.type||"stackedColumn"===j.type||"stackedColumn100"===j.type||"bar"===j.type||"rangeBar"===j.type||"stackedBar"===j.type||"stackedBar100"===j.type||"rangeColumn"===j.type||"waterfall"===j.type?ca(B,tt.x1,tt.y1,tt.x2,tt.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===j.type||"doughnut"===j.type?X(B,tt.center,tt.radius,"white",j.type,tt.startAngle,tt.endAngle,.3,tt.percentInnerRadius):"funnel"===j.type||"pyramid"===j.type?pa(B,tt.funnelSection,.3,"white"):"candlestick"===j.type?(B.globalAlpha=1,B.strokeStyle=tt.color,B.lineWidth=2*tt.borderThickness,j=0==B.lineWidth%2?0:.5,B.beginPath(),B.moveTo(tt.x3-j,Math.min(tt.y2,tt.y3)),B.lineTo(tt.x3-j,Math.min(tt.y1,tt.y4)),B.stroke(),B.beginPath(),B.moveTo(tt.x3-j,Math.max(tt.y1,tt.y4)),B.lineTo(tt.x3-j,Math.max(tt.y2,tt.y3)),B.stroke(),ca(B,tt.x1,Math.min(tt.y1,tt.y4),tt.x2,Math.max(tt.y1,tt.y4),"transparent",2*tt.borderThickness,tt.color,!1,!1,!1,!1),B.globalAlpha=1):"ohlc"===j.type?(B.globalAlpha=1,B.strokeStyle=tt.color,B.lineWidth=2*tt.borderThickness,j=0==B.lineWidth%2?0:.5,B.beginPath(),B.moveTo(tt.x3-j,tt.y2),B.lineTo(tt.x3-j,tt.y3),B.stroke(),B.beginPath(),B.moveTo(tt.x3,tt.y1),B.lineTo(tt.x1,tt.y1),B.stroke(),B.beginPath(),B.moveTo(tt.x3,tt.y4),B.lineTo(tt.x2,tt.y4),B.stroke(),B.globalAlpha=1):"boxAndWhisker"===j.type?(B.save(),B.globalAlpha=1,B.strokeStyle=tt.stemColor,B.lineWidth=2*tt.stemThickness,0<tt.stemThickness&&(B.beginPath(),B.moveTo(tt.x3,tt.y2+tt.borderThickness/2),B.lineTo(tt.x3,tt.y1+tt.whiskerThickness/2),B.stroke(),B.beginPath(),B.moveTo(tt.x3,tt.y4-tt.whiskerThickness/2),B.lineTo(tt.x3,tt.y3-tt.borderThickness/2),B.stroke()),B.beginPath(),ca(B,tt.x1-tt.borderThickness/2,Math.max(tt.y2+tt.borderThickness/2,tt.y3+tt.borderThickness/2),tt.x2+tt.borderThickness/2,Math.min(tt.y2-tt.borderThickness/2,tt.y3-tt.borderThickness/2),"transparent",tt.borderThickness,tt.color,!1,!1,!1,!1),B.globalAlpha=1,B.strokeStyle=tt.whiskerColor,B.lineWidth=2*tt.whiskerThickness,0<tt.whiskerThickness&&(B.beginPath(),B.moveTo(Math.floor(tt.x3-tt.whiskerLength/2),tt.y4),B.lineTo(Math.ceil(tt.x3+tt.whiskerLength/2),tt.y4),B.stroke(),B.beginPath(),B.moveTo(Math.floor(tt.x3-tt.whiskerLength/2),tt.y1),B.lineTo(Math.ceil(tt.x3+tt.whiskerLength/2),tt.y1),B.stroke()),B.globalAlpha=1,B.strokeStyle=tt.lineColor,B.lineWidth=2*tt.lineThickness,0<tt.lineThickness&&(B.beginPath(),B.moveTo(tt.x1,tt.y5),B.lineTo(tt.x2,tt.y5),B.stroke()),B.restore(),B.globalAlpha=1):"error"===j.type&&y(B,tt.x1,tt.y1,tt.x2,tt.y2,"white",tt.whiskerProperties,tt.stemProperties,tt.isXYSwapped,.3))}}B.restore(),B.globalAlpha=1,B.beginPath()},Y.prototype.getToolTipInnerHTML=function(u){u=u.entries;for(var _=null,B=null,L=null,j=0,tt="",et=!0,it=0;it<u.length;it++)if(u[it].dataSeries.toolTipContent||u[it].dataPoint.toolTipContent){et=!1;break}if(et&&(this.content&&"function"==typeof this.content||this.contentFormatter))u={chart:this.chart,toolTip:this.options,entries:u},_=this.contentFormatter?this.contentFormatter(u):this.content(u);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var at=null,st="";for(it=0;it<u.length;it++)B=u[it].dataSeries,L=u[it].dataPoint,j=u[it].index,tt="",0===it&&et&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?st+=void 0!==this.chart.axisX[0].labels[L.x]?this.chart.axisX[0].labels[L.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(st+=void 0!==this.chart.axisX2[0].labels[L.x]?this.chart.axisX2[0].labels[L.x]:"{x}"),st+="</br>",st=this.chart.replaceKeywordsWithValue(st,L,B,j)),null===L.toolTipContent||void 0===L.toolTipContent&&null===B.options.toolTipContent||("line"===B.type||"stepLine"===B.type||"spline"===B.type||"area"===B.type||"stepArea"===B.type||"splineArea"===B.type||"column"===B.type||"bar"===B.type||"scatter"===B.type||"stackedColumn"===B.type||"stackedColumn100"===B.type||"stackedBar"===B.type||"stackedBar100"===B.type||"stackedArea"===B.type||"stackedArea100"===B.type||"waterfall"===B.type?(this.chart.axisX&&1<this.chart.axisX.length&&(tt+=at!=B.axisXIndex?B.axisX.title?B.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),tt+=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",at=B.axisXIndex):"bubble"===B.type?(this.chart.axisX&&1<this.chart.axisX.length&&(tt+=at!=B.axisXIndex?B.axisX.title?B.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),tt+=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===B.type||"rangeBar"===B.type||"rangeArea"===B.type||"rangeSplineArea"===B.type||"error"===B.type?(this.chart.axisX&&1<this.chart.axisX.length&&(tt+=at!=B.axisXIndex?B.axisX.title?B.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),tt+=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===B.type||"ohlc"===B.type?(this.chart.axisX&&1<this.chart.axisX.length&&(tt+=at!=B.axisXIndex?B.axisX.title?B.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),tt+=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===B.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(tt+=at!=B.axisXIndex?B.axisX.title?B.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),tt+=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===_&&(_=""),!0===this.reversed?(_=this.chart.replaceKeywordsWithValue(tt,L,B,j)+_,it<u.length-1&&(_="</br>"+_)):(_+=this.chart.replaceKeywordsWithValue(tt,L,B,j),it<u.length-1&&(_+="</br>")));null!==_&&(_=st+_)}else{if(B=u[0].dataSeries,L=u[0].dataPoint,j=u[0].index,null===L.toolTipContent||void 0===L.toolTipContent&&null===B.options.toolTipContent)return null;"line"===B.type||"stepLine"===B.type||"spline"===B.type||"area"===B.type||"stepArea"===B.type||"splineArea"===B.type||"column"===B.type||"bar"===B.type||"scatter"===B.type||"stackedColumn"===B.type||"stackedColumn100"===B.type||"stackedBar"===B.type||"stackedBar100"===B.type||"stackedArea"===B.type||"stackedArea100"===B.type||"waterfall"===B.type?tt=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(L.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===B.type?tt=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(L.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===B.type||"doughnut"===B.type||"funnel"===B.type||"pyramid"===B.type?tt=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(L.name?"{name}:</span>&nbsp;&nbsp;":L.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===B.type||"rangeBar"===B.type||"rangeArea"===B.type||"rangeSplineArea"===B.type||"error"===B.type?tt=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(L.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===B.type||"ohlc"===B.type?tt=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(L.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===B.type&&(tt=L.toolTipContent?L.toolTipContent:B.toolTipContent?B.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(L.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===_&&(_=""),_+=this.chart.replaceKeywordsWithValue(tt,L,B,j)}return _},Y.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var u=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=u,this.container.style.MsTransition=u,this.container.style.transition=u,this.container.style.MozTransition=this.mozContainerTransition}},Y.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Y.prototype.hide=function(u){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===u||u)&&this.chart.resetOverlayedCanvas())},Y.prototype.show=function(u,_,B){this._updateToolTip(u,_,void 0!==B&&B)},Y.prototype.showAtIndex=function(u,_){},Y.prototype.showAtX=function(u,_){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var B,L,j,tt=[];if(j=!1,_=!s(_)&&0<=_&&_<this.chart.data.length?_:0,this.shared)for(var et=0;et<this.chart.data.length;et++)(L=(B=this.chart.data[et]).getDataPointAtX(u,!1))&&L.dataPoint&&!s(L.dataPoint.y)&&B.visible&&(L.dataSeries=B,tt.push(L));else(L=(B=this.chart.data[_]).getDataPointAtX(u,!1))&&L.dataPoint&&!s(L.dataPoint.y)&&B.visible&&(L.dataSeries=B,tt.push(L));if(!(0<tt.length))return this.hide(),!1;for(et=0;et<tt.length;et++){if(!((L=tt[et]).dataPoint.x<L.dataSeries.axisX.viewportMinimum||L.dataPoint.x>L.dataSeries.axisX.viewportMaximum||L.dataPoint.y<L.dataSeries.axisY.viewportMinimum||L.dataPoint.y>L.dataSeries.axisY.viewportMaximum)){j=!1;break}j=!0}if(j)return this.hide(),!1;if(this.highlightObjects(tt),this._entries=tt,L="",null===(L=this.getToolTipInnerHTML({entries:tt})))return this.hide(!1),!1;this.contentDiv.innerHTML=L,L=!1,"none"===this.container.style.display&&(L=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:it?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===tt[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:tt[0].dataPoint.color?tt[0].dataPoint.color:0<tt[0].dataPoint.y?tt[0].dataSeries.risingColor:tt[0].dataSeries.fallingColor:"error"===tt[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:tt[0].dataSeries.color?tt[0].dataSeries.color:tt[0].dataSeries._colorSet[B.index%tt[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:tt[0].dataPoint.color?tt[0].dataPoint.color:tt[0].dataSeries.color?tt[0].dataSeries.color:tt[0].dataSeries._colorSet[tt[0].index%tt[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:it?"italic":"normal"}catch(u){}return"pie"===tt[0].dataSeries.type||"doughnut"===tt[0].dataSeries.type||"funnel"===tt[0].dataSeries.type||"pyramid"===tt[0].dataSeries.type?B=mouseX-10-this.container.clientWidth:(B="bar"===tt[0].dataSeries.type||"rangeBar"===tt[0].dataSeries.type||"stackedBar"===tt[0].dataSeries.type||"stackedBar100"===tt[0].dataSeries.type?tt[0].dataSeries.axisY.convertValueToPixel(tt[0].dataPoint.y)-this.container.clientWidth<<0:tt[0].dataSeries.axisX.convertValueToPixel(tt[0].dataPoint.x)-this.container.clientWidth<<0,B-=10),0>B&&(B+=this.container.clientWidth+20),B+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(B=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(tt=10-(tt=!(1!==tt.length||this.shared||"line"!==tt[0].dataSeries.type&&"stepLine"!==tt[0].dataSeries.type&&"spline"!==tt[0].dataSeries.type&&"area"!==tt[0].dataSeries.type&&"stepArea"!==tt[0].dataSeries.type&&"splineArea"!==tt[0].dataSeries.type)||"bar"!==tt[0].dataSeries.type&&"rangeBar"!==tt[0].dataSeries.type&&"stackedBar"!==tt[0].dataSeries.type&&"stackedBar100"!==tt[0].dataSeries.type?tt[0].dataSeries.axisY.convertValueToPixel(tt[0].dataPoint.y):tt[0].dataSeries.axisX.convertValueToPixel(tt[0].dataPoint.x)))+this.container.clientHeight+5&&(tt-=tt+this.container.clientHeight+5-0),this.fixMozTransitionDelay(B,tt),!this.animationEnabled||L?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=B+"px",this.container.style.bottom=tt+"px",!0},Y.prototype.fixMozTransitionDelay=function(u,_){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var B=parseFloat(this.container.style.left),L=(B=isNaN(B)?0:B,parseFloat(this.container.style.bottom));L=isNaN(L)?0:L,10<Math.sqrt(Math.pow(B-u,2)+Math.pow(L-_,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},Y.prototype.getContainerTransition=function(u){return"left "+u+"s ease-out 0s, bottom "+u+"s ease-out 0s"},da.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],it&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},da.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},da.prototype.mouseEventHandler=function(u){if("mousemove"===u.type||"click"===u.type){var _=[],B=Na(u),L=null;if((L=this.chart.getObjectAtXY(B.x,B.y,!1))&&void 0!==this.objectMap[L])if("dataPoint"===(L=this.objectMap[L]).objectType){var j=this.chart.data[L.dataSeriesIndex],tt=j.dataPoints[L.dataPointIndex],et=L.dataPointIndex;L.eventParameter={x:B.x,y:B.y,dataPoint:tt,dataSeries:j.options,dataPointIndex:et,dataSeriesIndex:j.index,chart:this.chart},L.eventContext={context:tt,userContext:tt,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},_.push(L),(L=this.objectMap[j.id]).eventParameter={x:B.x,y:B.y,dataPoint:tt,dataSeries:j.options,dataPointIndex:et,dataSeriesIndex:j.index,chart:this.chart},L.eventContext={context:j,userContext:j.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},_.push(this.objectMap[j.id])}else"legendItem"===L.objectType&&(j=this.chart.data[L.dataSeriesIndex],tt=null!==L.dataPointIndex?j.dataPoints[L.dataPointIndex]:null,L.eventParameter={x:B.x,y:B.y,dataSeries:j.options,dataPoint:tt,dataPointIndex:L.dataPointIndex,dataSeriesIndex:L.dataSeriesIndex,chart:this.chart},L.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},_.push(L));for(j=[],B=0;B<this.mouseoveredObjectMaps.length;B++){for(tt=!0,L=0;L<_.length;L++)if(_[L].id===this.mouseoveredObjectMaps[B].id){tt=!1;break}tt?this.fireEvent(this.mouseoveredObjectMaps[B],"mouseout",u):j.push(this.mouseoveredObjectMaps[B])}for(this.mouseoveredObjectMaps=j,B=0;B<_.length;B++){for(j=!1,L=0;L<this.mouseoveredObjectMaps.length;L++)if(_[B].id===this.mouseoveredObjectMaps[L].id){j=!0;break}j||(this.fireEvent(_[B],"mouseover",u),this.mouseoveredObjectMaps.push(_[B])),"click"===u.type?this.fireEvent(_[B],"click",u):"mousemove"===u.type&&this.fireEvent(_[B],"mousemove",u)}}},da.prototype.fireEvent=function(u,_,B){if(u&&_){var L=u.eventParameter,j=u.eventContext,tt=u.eventContext.userContext;tt&&j&&tt[j[_]]&&tt[j[_]].call(tt,L),"mouseout"!==_?tt.cursor&&tt.cursor!==B.target.style.cursor&&(B.target.style.cursor=tt.cursor):(B.target.style.cursor=this.chart._defaultCursor,delete u.eventParameter,delete u.eventContext),"click"===_&&"dataPoint"===u.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[u.dataSeriesIndex],L),"click"===_&&"dataPoint"===u.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[u.dataSeriesIndex],L)}},ha.prototype.animate=function(_,B,L,j,tt){var et=this;for(this.chart.isAnimating=!0,tt=tt||u.easing.linear,L&&this.animations.push({startTime:(new Date).getTime()+(_||0),duration:B,animationCallback:L,onComplete:j}),_=[];0<this.animations.length;)B=this.animations.shift(),L=(new Date).getTime(),j=0,B.startTime<=L&&(j=tt(Math.min(L-B.startTime,B.duration),0,1,B.duration),j=Math.min(j,1),isNaN(j)||!isFinite(j))&&(j=1),1>j&&_.push(B),B.animationCallback(j),1<=j&&B.onComplete&&B.onComplete();this.animations=_,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){et.animate.call(et)})):this.chart.isAnimating=!1},ha.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var u={yScaleAnimation:function(u,_){if(0!==u){var B=_.dest,L=_.source.canvas,j=_.animationBase;B.drawImage(L,0,0,L.width,L.height,0,j-j*u,B.canvas.width/kt,u*B.canvas.height/kt)}},xScaleAnimation:function(u,_){if(0!==u){var B=_.dest,L=_.source.canvas,j=_.animationBase;B.drawImage(L,0,0,L.width,L.height,j-j*u,0,u*B.canvas.width/kt,B.canvas.height/kt)}},xClipAnimation:function(u,_){if(0!==u){var B=_.dest,L=_.source.canvas;B.save(),0<u&&B.drawImage(L,0,0,L.width*u,L.height,0,0,L.width*u/kt,L.height/kt),B.restore()}},fadeInAnimation:function(u,_){if(0!==u){var B=_.dest,L=_.source.canvas;B.save(),B.globalAlpha=u,B.drawImage(L,0,0,L.width,L.height,0,0,B.canvas.width/kt,B.canvas.height/kt),B.restore()}},easing:{linear:function(u,_,B,L){return B*u/L+_},easeOutQuad:function(u,_,B,L){return-B*(u/=L)*(u-2)+_},easeOutQuart:function(u,_,B,L){return-B*((u=u/L-1)*u*u*u-1)+_},easeInQuad:function(u,_,B,L){return B*(u/=L)*u+_},easeInQuart:function(u,_,B,L){return B*(u/=L)*u*u*u+_}}},_={drawMarker:function(u,_,B,L,j,tt,et,it){if(B){var at=1;B.fillStyle=tt||"#000000",B.strokeStyle=et||"#000000",B.lineWidth=it||0,B.setLineDash&&B.setLineDash(N("solid",it)),"circle"===L?(B.moveTo(u,_),B.beginPath(),B.arc(u,_,j/2,0,2*Math.PI,!1),tt&&B.fill(),it&&(et?B.stroke():(at=B.globalAlpha,B.globalAlpha=.15,B.strokeStyle="black",B.stroke(),B.globalAlpha=at))):"square"===L?(B.beginPath(),B.rect(u-j/2,_-j/2,j,j),tt&&B.fill(),it&&(et?B.stroke():(at=B.globalAlpha,B.globalAlpha=.15,B.strokeStyle="black",B.stroke(),B.globalAlpha=at))):"triangle"===L?(B.beginPath(),B.moveTo(u-j/2,_+j/2),B.lineTo(u+j/2,_+j/2),B.lineTo(u,_-j/2),B.closePath(),tt&&B.fill(),it&&(et?B.stroke():(at=B.globalAlpha,B.globalAlpha=.15,B.strokeStyle="black",B.stroke(),B.globalAlpha=at)),B.beginPath()):"cross"===L&&(B.strokeStyle=tt,B.lineWidth=j/4,B.beginPath(),B.moveTo(u-j/2,_-j/2),B.lineTo(u+j/2,_+j/2),B.stroke(),B.moveTo(u+j/2,_-j/2),B.lineTo(u-j/2,_+j/2),B.stroke())}},drawMarkers:function(u){for(var B=0;B<u.length;B++){var L=u[B];_.drawMarker(L.x,L.y,L.ctx,L.type,L.size,L.color,L.borderColor,L.borderThickness)}}};return m}()).version="v3.2.17 GA",window.CanvasJS&&nt&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=nt)}(),document.createElement("canvas").getContext||function(){function V(){return this.context_||(this.context_=new C(this))}function N(u){return String(u).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function O(u){u.namespaces.g_vml_||u.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),u.namespaces.g_o_||u.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),u.styleSheets.ex_canvas_||((u=u.createStyleSheet()).owningElement.id="ex_canvas_",u.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function X(u){var _=u.srcElement;switch(u.propertyName){case"width":_.getContext().clearRect(),_.style.width=_.attributes.width.nodeValue+"px",_.firstChild.style.width=_.clientWidth+"px";break;case"height":_.getContext().clearRect(),_.style.height=_.attributes.height.nodeValue+"px",_.firstChild.style.height=_.clientHeight+"px"}}function Y(u){(u=u.srcElement).firstChild&&(u.firstChild.style.width=u.clientWidth+"px",u.firstChild.style.height=u.clientHeight+"px")}function t(u,_){for(var B=[[1,0,0],[0,1,0],[0,0,1]],L=0;3>L;L++)for(var j=0;3>j;j++){for(var tt=0,et=0;3>et;et++)tt+=u[L][et]*_[et][j];B[L][j]=tt}return B}function P(u,_){_.fillStyle=u.fillStyle,_.lineCap=u.lineCap,_.lineJoin=u.lineJoin,_.lineWidth=u.lineWidth,_.miterLimit=u.miterLimit,_.shadowBlur=u.shadowBlur,_.shadowColor=u.shadowColor,_.shadowOffsetX=u.shadowOffsetX,_.shadowOffsetY=u.shadowOffsetY,_.strokeStyle=u.strokeStyle,_.globalAlpha=u.globalAlpha,_.font=u.font,_.textAlign=u.textAlign,_.textBaseline=u.textBaseline,_.arcScaleX_=u.arcScaleX_,_.arcScaleY_=u.arcScaleY_,_.lineScale_=u.lineScale_}function Q(u){var _=u.indexOf("(",3),B=u.indexOf(")",_+1);return 4==(_=u.substring(_+1,B).split(",")).length&&"a"==u.charAt(3)||(_[3]=1),_}function E(u,_,B){return Math.min(B,Math.max(_,u))}function F(u,_,B){return 0>B&&B++,1<B&&B--,1>6*B?u+6*(_-u)*B:1>2*B?_:2>3*B?u+6*(_-u)*(2/3-B):u}function G(u){if(u in ht)return ht[u];var _,B=1;if("#"==(u=String(u)).charAt(0))_=u;else if(/^rgb/.test(u)){B=Q(u),_="#";for(var L,j=0;3>j;j++)L=-1!=B[j].indexOf("%")?Math.floor(parseFloat(B[j])/100*255):+B[j],_+=nt[E(L,0,255)];B=+B[3]}else if(/^hsl/.test(u)){if(j=B=Q(u),0>(_=parseFloat(j[0])/360%360)&&_++,L=E(parseFloat(j[1])/100,0,1),j=E(parseFloat(j[2])/100,0,1),0==L)L=j=_=j;else{var tt=.5>j?j*(1+L):j+L-j*L,et=2*j-tt;L=F(et,tt,_+1/3),j=F(et,tt,_),_=F(et,tt,_-1/3)}_="#"+nt[Math.floor(255*L)]+nt[Math.floor(255*j)]+nt[Math.floor(255*_)],B=B[3]}else _=lt[u]||u;return ht[u]={color:_,alpha:B}}function C(u){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*et,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=u;var _="width:"+u.clientWidth+"px;height:"+u.clientHeight+"px;overflow:hidden;position:absolute",B=u.ownerDocument.createElement("div");B.style.cssText=_,u.appendChild(B),(_=B.cloneNode(!1)).style.backgroundColor="red",_.style.filter="alpha(opacity=0)",u.appendChild(_),this.element_=B,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function R(u,_,B,L){u.currentPath_.push({type:"bezierCurveTo",cp1x:_.x,cp1y:_.y,cp2x:B.x,cp2y:B.y,x:L.x,y:L.y}),u.currentX_=L.x,u.currentY_=L.y}function S(u,_){var B=(L=G(u.strokeStyle)).color,L=L.alpha*u.globalAlpha,j=u.lineScale_*u.lineWidth;1>j&&(L*=j),_.push("<g_vml_:stroke",' opacity="',L,'"',' joinstyle="',u.lineJoin,'"',' miterlimit="',u.miterLimit,'"',' endcap="',ct[u.lineCap]||"square",'"',' weight="',j,'px"',' color="',B,'" />')}function T(_,B,L,j){var tt=_.fillStyle,it=_.arcScaleX_,at=_.arcScaleY_,st=j.x-L.x,nt=j.y-L.y;if(tt instanceof w){var ot=0,rt=j=0,lt=0,ht=1;if("gradient"==tt.type_){ot=tt.x1_/it,L=tt.y1_/at;var dt=s(_,tt.x0_/it,tt.y0_/at);ot=s(_,ot,L),0>(ot=180*Math.atan2(ot.x-dt.x,ot.y-dt.y)/Math.PI)&&(ot+=360),1e-6>ot&&(ot=0)}else j=((dt=s(_,tt.x0_,tt.y0_)).x-L.x)/st,rt=(dt.y-L.y)/nt,st/=it*et,nt/=at*et,ht=u.max(st,nt),lt=2*tt.r0_/ht,ht=2*tt.r1_/ht-lt;(it=tt.colors_).sort((function(u,_){return u.offset-_.offset})),at=it.length,dt=it[0].color,L=it[at-1].color,st=it[0].alpha*_.globalAlpha,_=it[at-1].alpha*_.globalAlpha,nt=[];for(var ct=0;ct<at;ct++){var pt=it[ct];nt.push(pt.offset*ht+lt+" "+pt.color)}B.push('<g_vml_:fill type="',tt.type_,'"',' method="none" focus="100%"',' color="',dt,'"',' color2="',L,'"',' colors="',nt.join(","),'"',' opacity="',_,'"',' g_o_:opacity2="',st,'"',' angle="',ot,'"',' focusposition="',j,",",rt,'" />')}else tt instanceof I?st&&nt&&B.push("<g_vml_:fill",' position="',-L.x/st*it*it,",",-L.y/nt*at*at,'"',' type="tile"',' src="',tt.src_,'" />'):(tt=G(_.fillStyle),B.push('<g_vml_:fill color="',tt.color,'" opacity="',tt.alpha*_.globalAlpha,'" />'))}function s(u,_,B){return u=u.m_,{x:et*(_*u[0][0]+B*u[1][0]+u[2][0])-it,y:et*(_*u[0][1]+B*u[1][1]+u[2][1])-it}}function z(u,_,B){isFinite(_[0][0])&&isFinite(_[0][1])&&isFinite(_[1][0])&&isFinite(_[1][1])&&isFinite(_[2][0])&&isFinite(_[2][1])&&(u.m_=_,B&&(u.lineScale_=tt(j(_[0][0]*_[1][1]-_[0][1]*_[1][0]))))}function w(u){this.type_=u,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function I(u,_){if(!u||1!=u.nodeType||"IMG"!=u.tagName)throw new A("TYPE_MISMATCH_ERR");if("complete"!=u.readyState)throw new A("INVALID_STATE_ERR");switch(_){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=_;break;default:throw new A("SYNTAX_ERR")}this.src_=u.src,this.width_=u.width,this.height_=u.height}function A(u){this.code=this[u],this.message=u+": DOM Exception "+this.code}var u=Math,_=u.round,B=u.sin,L=u.cos,j=u.abs,tt=u.sqrt,et=10,it=et/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var at=Array.prototype.slice;O(document);var st={init:function(u){(u=u||document).createElement("canvas"),u.attachEvent("onreadystatechange",function W(u,_,B){var L=at.call(arguments,2);return function(){return u.apply(_,L.concat(at.call(arguments)))}}(this.init_,this,u))},init_:function(u){u=u.getElementsByTagName("canvas");for(var _=0;_<u.length;_++)this.initElement(u[_])},initElement:function(u){if(!u.getContext){u.getContext=V,O(u.ownerDocument),u.innerHTML="",u.attachEvent("onpropertychange",X),u.attachEvent("onresize",Y);var _=u.attributes;_.width&&_.width.specified?u.style.width=_.width.nodeValue+"px":u.width=u.clientWidth,_.height&&_.height.specified?u.style.height=_.height.nodeValue+"px":u.height=u.clientHeight}return u}};st.init();for(var nt=[],ot=0;16>ot;ot++)for(var rt=0;16>rt;rt++)nt[16*ot+rt]=ot.toString(16)+rt.toString(16);var lt={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ht={},dt={},ct={butt:"flat",round:"round"};(ot=C.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},ot.beginPath=function(){this.currentPath_=[]},ot.moveTo=function(u,_){var B=s(this,u,_);this.currentPath_.push({type:"moveTo",x:B.x,y:B.y}),this.currentX_=B.x,this.currentY_=B.y},ot.lineTo=function(u,_){var B=s(this,u,_);this.currentPath_.push({type:"lineTo",x:B.x,y:B.y}),this.currentX_=B.x,this.currentY_=B.y},ot.bezierCurveTo=function(u,_,B,L,j,tt){j=s(this,j,tt),R(this,u=s(this,u,_),B=s(this,B,L),j)},ot.quadraticCurveTo=function(u,_,B,L){u=s(this,u,_),B=s(this,B,L),R(this,L={x:this.currentX_+2/3*(u.x-this.currentX_),y:this.currentY_+2/3*(u.y-this.currentY_)},{x:L.x+(B.x-this.currentX_)/3,y:L.y+(B.y-this.currentY_)/3},B)},ot.arc=function(u,_,j,tt,at,st){j*=et;var nt=st?"at":"wa",ot=u+L(tt)*j-it,rt=_+B(tt)*j-it;tt=u+L(at)*j-it,at=_+B(at)*j-it,ot!=tt||st||(ot+=.125),u=s(this,u,_),ot=s(this,ot,rt),tt=s(this,tt,at),this.currentPath_.push({type:nt,x:u.x,y:u.y,radius:j,xStart:ot.x,yStart:ot.y,xEnd:tt.x,yEnd:tt.y})},ot.rect=function(u,_,B,L){this.moveTo(u,_),this.lineTo(u+B,_),this.lineTo(u+B,_+L),this.lineTo(u,_+L),this.closePath()},ot.strokeRect=function(u,_,B,L){var j=this.currentPath_;this.beginPath(),this.moveTo(u,_),this.lineTo(u+B,_),this.lineTo(u+B,_+L),this.lineTo(u,_+L),this.closePath(),this.stroke(),this.currentPath_=j},ot.fillRect=function(u,_,B,L){var j=this.currentPath_;this.beginPath(),this.moveTo(u,_),this.lineTo(u+B,_),this.lineTo(u+B,_+L),this.lineTo(u,_+L),this.closePath(),this.fill(),this.currentPath_=j},ot.createLinearGradient=function(u,_,B,L){var j=new w("gradient");return j.x0_=u,j.y0_=_,j.x1_=B,j.y1_=L,j},ot.createRadialGradient=function(u,_,B,L,j,tt){var et=new w("gradientradial");return et.x0_=u,et.y0_=_,et.r0_=B,et.x1_=L,et.y1_=j,et.r1_=tt,et},ot.drawImage=function(B,L){var j,tt,it,at,st,nt,ot,rt;it=B.runtimeStyle.width,at=B.runtimeStyle.height,B.runtimeStyle.width="auto",B.runtimeStyle.height="auto";var lt=B.width,ht=B.height;if(B.runtimeStyle.width=it,B.runtimeStyle.height=at,3==arguments.length)j=arguments[1],tt=arguments[2],st=nt=0,ot=it=lt,rt=at=ht;else if(5==arguments.length)j=arguments[1],tt=arguments[2],it=arguments[3],at=arguments[4],st=nt=0,ot=lt,rt=ht;else{if(9!=arguments.length)throw Error("Invalid number of arguments");st=arguments[1],nt=arguments[2],ot=arguments[3],rt=arguments[4],j=arguments[5],tt=arguments[6],it=arguments[7],at=arguments[8]}var dt=s(this,j,tt),ct=[];if(ct.push(" <g_vml_:group",' coordsize="',10*et,",",10*et,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var pt=[];pt.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",_(dt.x/et),",","Dy=",_(dt.y/et),"");var ut=s(this,j+it,tt),xt=s(this,j,tt+at);j=s(this,j+it,tt+at),dt.x=u.max(dt.x,ut.x,xt.x,j.x),dt.y=u.max(dt.y,ut.y,xt.y,j.y),ct.push("padding:0 ",_(dt.x/et),"px ",_(dt.y/et),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",pt.join(""),", sizingmethod='clip');")}else ct.push("top:",_(dt.y/et),"px;left:",_(dt.x/et),"px;");ct.push(' ">','<g_vml_:image src="',B.src,'"',' style="width:',et*it,"px;"," height:",et*at,'px"',' cropleft="',st/lt,'"',' croptop="',nt/ht,'"',' cropright="',(lt-st-ot)/lt,'"',' cropbottom="',(ht-nt-rt)/ht,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",ct.join(""))},ot.stroke=function(u){var B=[];B.push("<g_vml_:shape",' filled="',!!u,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*et,",",10*et,'"',' stroked="',!u,'"',' path="');for(var L={x:null,y:null},j={x:null,y:null},tt=0;tt<this.currentPath_.length;tt++){var it=this.currentPath_[tt];switch(it.type){case"moveTo":B.push(" m ",_(it.x),",",_(it.y));break;case"lineTo":B.push(" l ",_(it.x),",",_(it.y));break;case"close":B.push(" x "),it=null;break;case"bezierCurveTo":B.push(" c ",_(it.cp1x),",",_(it.cp1y),",",_(it.cp2x),",",_(it.cp2y),",",_(it.x),",",_(it.y));break;case"at":case"wa":B.push(" ",it.type," ",_(it.x-this.arcScaleX_*it.radius),",",_(it.y-this.arcScaleY_*it.radius)," ",_(it.x+this.arcScaleX_*it.radius),",",_(it.y+this.arcScaleY_*it.radius)," ",_(it.xStart),",",_(it.yStart)," ",_(it.xEnd),",",_(it.yEnd))}it&&((null==L.x||it.x<L.x)&&(L.x=it.x),(null==j.x||it.x>j.x)&&(j.x=it.x),(null==L.y||it.y<L.y)&&(L.y=it.y),(null==j.y||it.y>j.y)&&(j.y=it.y))}B.push(' ">'),u?T(this,B,L,j):S(this,B),B.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",B.join(""))},ot.fill=function(){this.stroke(!0)},ot.closePath=function(){this.currentPath_.push({type:"close"})},ot.save=function(){var u={};P(this,u),this.aStack_.push(u),this.mStack_.push(this.m_),this.m_=t([[1,0,0],[0,1,0],[0,0,1]],this.m_)},ot.restore=function(){this.aStack_.length&&(P(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},ot.translate=function(u,_){z(this,t([[1,0,0],[0,1,0],[u,_,1]],this.m_),!1)},ot.rotate=function(u){var _=L(u);z(this,t([[_,u=B(u),0],[-u,_,0],[0,0,1]],this.m_),!1)},ot.scale=function(u,_){this.arcScaleX_*=u,this.arcScaleY_*=_,z(this,t([[u,0,0],[0,_,0],[0,0,1]],this.m_),!0)},ot.transform=function(u,_,B,L,j,tt){z(this,t([[u,_,0],[B,L,0],[j,tt,1]],this.m_),!0)},ot.setTransform=function(u,_,B,L,j,tt){z(this,[[u,_,0],[B,L,0],[j,tt,1]],!0)},ot.drawText_=function(u,B,L,j,tt){var it=this.m_;j=0;var at,st=1e3,nt=0,ot=[];if(at=this.font,dt[at])at=dt[at];else{var rt=document.createElement("div").style;try{rt.font=at}catch(u){}at=dt[at]={style:rt.fontStyle||"normal",variant:rt.fontVariant||"normal",weight:rt.fontWeight||"normal",size:rt.fontSize||10,family:rt.fontFamily||"sans-serif"}}rt=at;var lt=this.element_;for(var ht in at={},rt)at[ht]=rt[ht];switch(ht=parseFloat(lt.currentStyle.fontSize),lt=parseFloat(rt.size),"number"==typeof rt.size?at.size=rt.size:-1!=rt.size.indexOf("px")?at.size=lt:-1!=rt.size.indexOf("em")?at.size=ht*lt:-1!=rt.size.indexOf("%")?at.size=ht/100*lt:-1!=rt.size.indexOf("pt")?at.size=lt/.75:at.size=ht,at.size*=.981,ht=at.style+" "+at.variant+" "+at.weight+" "+at.size+"px "+at.family,lt=this.element_.currentStyle,rt=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":rt="ltr"==lt.direction?"right":"left";break;case"start":rt="rtl"==lt.direction?"right":"left";break;default:rt="left"}switch(this.textBaseline){case"hanging":case"top":nt=at.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":nt=-at.size/2.25}switch(rt){case"right":j=1e3,st=.05;break;case"center":j=st=500}B=s(this,B+0,L+nt),ot.push('<g_vml_:line from="',-j,' 0" to="',st,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!tt,'" stroked="',!!tt,'" style="position:absolute;width:1px;height:1px;">'),tt?S(this,ot):T(this,ot,{x:-j,y:0},{x:st,y:at.size}),tt=it[0][0].toFixed(3)+","+it[1][0].toFixed(3)+","+it[0][1].toFixed(3)+","+it[1][1].toFixed(3)+",0,0",B=_(B.x/et)+","+_(B.y/et),ot.push('<g_vml_:skew on="t" matrix="',tt,'" ',' offset="',B,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',N(u),'" style="v-text-align:',rt,";font:",N(ht),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",ot.join(""))},ot.fillText=function(u,_,B,L){this.drawText_(u,_,B,L,!1)},ot.strokeText=function(u,_,B,L){this.drawText_(u,_,B,L,!0)},ot.measureText=function(u){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var _=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(_.createTextNode(u)),{width:this.textMeasureEl_.offsetWidth}},ot.clip=function(){},ot.arcTo=function(){},ot.createPattern=function(u,_){return new I(u,_)},w.prototype.addColorStop=function(u,_){_=G(_),this.colors_.push({offset:u,color:_.color,alpha:_.alpha})},(ot=A.prototype=Error()).INDEX_SIZE_ERR=1,ot.DOMSTRING_SIZE_ERR=2,ot.HIERARCHY_REQUEST_ERR=3,ot.WRONG_DOCUMENT_ERR=4,ot.INVALID_CHARACTER_ERR=5,ot.NO_DATA_ALLOWED_ERR=6,ot.NO_MODIFICATION_ALLOWED_ERR=7,ot.NOT_FOUND_ERR=8,ot.NOT_SUPPORTED_ERR=9,ot.INUSE_ATTRIBUTE_ERR=10,ot.INVALID_STATE_ERR=11,ot.SYNTAX_ERR=12,ot.INVALID_MODIFICATION_ERR=13,ot.NAMESPACE_ERR=14,ot.INVALID_ACCESS_ERR=15,ot.VALIDATION_ERR=16,ot.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=st,CanvasRenderingContext2D=C,CanvasGradient=w,CanvasPattern=I,DOMException=A}(),function(u){"function"==typeof define&&define.amd?define(["jquery"],u):"object"==typeof exports?u(require("jquery")):u(window.jQuery||window.Zepto)}((function(u){var _,B,L,j,tt,et,MagnificPopup=function(){},it=!!window.jQuery,at=u(window),_mfpOn=function(u,B){_.ev.on("mfp"+u+".mfp",B)},_getEl=function(_,B,L,j){var tt=document.createElement("div");return tt.className="mfp-"+_,L&&(tt.innerHTML=L),j?B&&B.appendChild(tt):(tt=u(tt),B&&tt.appendTo(B)),tt},_mfpTrigger=function(B,L){_.ev.triggerHandler("mfp"+B,L),_.st.callbacks&&(B=B.charAt(0).toLowerCase()+B.slice(1),_.st.callbacks[B]&&_.st.callbacks[B].apply(_,u.isArray(L)?L:[L]))},_getCloseBtn=function(B){return B===et&&_.currTemplate.closeBtn||(_.currTemplate.closeBtn=u(_.st.closeMarkup.replace("%title%",_.st.tClose)),et=B),_.currTemplate.closeBtn},_checkInstance=function(){u.magnificPopup.instance||((_=new MagnificPopup).init(),u.magnificPopup.instance=_)};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var B=navigator.appVersion;_.isLowIE=_.isIE8=document.all&&!document.addEventListener,_.isAndroid=/android/gi.test(B),_.isIOS=/iphone|ipad|ipod/gi.test(B),_.supportsTransition=function(){var u=document.createElement("p").style,_=["ms","O","Moz","Webkit"];if(void 0!==u.transition)return!0;for(;_.length;)if(_.pop()+"Transition"in u)return!0;return!1}(),_.probablyMobile=_.isAndroid||_.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),L=u(document),_.popupsCache={}},open:function(B){var j;if(!1===B.isObj){_.items=B.items.toArray(),_.index=0;var et,it=B.items;for(j=0;j<it.length;j++)if((et=it[j]).parsed&&(et=et.el[0]),et===B.el[0]){_.index=j;break}}else _.items=u.isArray(B.items)?B.items:[B.items],_.index=B.index||0;if(!_.isOpen){_.types=[],tt="",B.mainEl&&B.mainEl.length?_.ev=B.mainEl.eq(0):_.ev=L,B.key?(_.popupsCache[B.key]||(_.popupsCache[B.key]={}),_.currTemplate=_.popupsCache[B.key]):_.currTemplate={},_.st=u.extend(!0,{},u.magnificPopup.defaults,B),_.fixedContentPos="auto"===_.st.fixedContentPos?!_.probablyMobile:_.st.fixedContentPos,_.st.modal&&(_.st.closeOnContentClick=!1,_.st.closeOnBgClick=!1,_.st.showCloseBtn=!1,_.st.enableEscapeKey=!1),_.bgOverlay||(_.bgOverlay=_getEl("bg").on("click.mfp",(function(){_.close()})),_.wrap=_getEl("wrap").attr("tabindex",-1).on("click.mfp",(function(u){_._checkIfClose(u.target)&&_.close()})),_.container=_getEl("container",_.wrap)),_.contentContainer=_getEl("content"),_.st.preloader&&(_.preloader=_getEl("preloader",_.container,_.st.tLoading));var st=u.magnificPopup.modules;for(j=0;j<st.length;j++){var nt=st[j];nt=nt.charAt(0).toUpperCase()+nt.slice(1),_["init"+nt].call(_)}_mfpTrigger("BeforeOpen"),_.st.showCloseBtn&&(_.st.closeBtnInside?(_mfpOn("MarkupParse",(function(u,_,B,L){B.close_replaceWith=_getCloseBtn(L.type)})),tt+=" mfp-close-btn-in"):_.wrap.append(_getCloseBtn())),_.st.alignTop&&(tt+=" mfp-align-top"),_.fixedContentPos?_.wrap.css({overflow:_.st.overflowY,overflowX:"hidden",overflowY:_.st.overflowY}):_.wrap.css({top:at.scrollTop(),position:"absolute"}),(!1===_.st.fixedBgPos||"auto"===_.st.fixedBgPos&&!_.fixedContentPos)&&_.bgOverlay.css({height:L.height(),position:"absolute"}),_.st.enableEscapeKey&&L.on("keyup.mfp",(function(u){27===u.keyCode&&_.close()})),at.on("resize.mfp",(function(){_.updateSize()})),_.st.closeOnContentClick||(tt+=" mfp-auto-cursor"),tt&&_.wrap.addClass(tt);var ot=_.wH=at.height(),rt={};if(_.fixedContentPos&&_._hasScrollBar(ot)){var lt=_._getScrollbarSize();lt&&(rt.marginRight=lt)}_.fixedContentPos&&(_.isIE7?u("body, html").css("overflow","hidden"):rt.overflow="hidden");var ht=_.st.mainClass;return _.isIE7&&(ht+=" mfp-ie7"),ht&&_._addClassToMFP(ht),_.updateItemHTML(),_mfpTrigger("BuildControls"),u("html").css(rt),_.bgOverlay.add(_.wrap).prependTo(_.st.prependTo||u(document.body)),_._lastFocusedEl=document.activeElement,setTimeout((function(){_.content?(_._addClassToMFP("mfp-ready"),_._setFocus()):_.bgOverlay.addClass("mfp-ready"),L.on("focusin.mfp",_._onFocusIn)}),16),_.isOpen=!0,_.updateSize(ot),_mfpTrigger("Open"),B}_.updateItemHTML()},close:function(){_.isOpen&&(_mfpTrigger("BeforeClose"),_.isOpen=!1,_.st.removalDelay&&!_.isLowIE&&_.supportsTransition?(_._addClassToMFP("mfp-removing"),setTimeout((function(){_._close()}),_.st.removalDelay)):_._close())},_close:function(){_mfpTrigger("Close");var B="mfp-removing mfp-ready ";if(_.bgOverlay.detach(),_.wrap.detach(),_.container.empty(),_.st.mainClass&&(B+=_.st.mainClass+" "),_._removeClassFromMFP(B),_.fixedContentPos){var j={marginRight:""};_.isIE7?u("body, html").css("overflow",""):j.overflow="",u("html").css(j)}L.off("keyup.mfp focusin.mfp"),_.ev.off(".mfp"),_.wrap.attr("class","mfp-wrap").removeAttr("style"),_.bgOverlay.attr("class","mfp-bg"),_.container.attr("class","mfp-container"),!_.st.showCloseBtn||_.st.closeBtnInside&&!0!==_.currTemplate[_.currItem.type]||_.currTemplate.closeBtn&&_.currTemplate.closeBtn.detach(),_.st.autoFocusLast&&_._lastFocusedEl&&u(_._lastFocusedEl).focus(),_.currItem=null,_.content=null,_.currTemplate=null,_.prevHeight=0,_mfpTrigger("AfterClose")},updateSize:function(u){if(_.isIOS){var B=document.documentElement.clientWidth/window.innerWidth,L=window.innerHeight*B;_.wrap.css("height",L),_.wH=L}else _.wH=u||at.height();_.fixedContentPos||_.wrap.css("height",_.wH),_mfpTrigger("Resize")},updateItemHTML:function(){var B=_.items[_.index];_.contentContainer.detach(),_.content&&_.content.detach(),B.parsed||(B=_.parseEl(_.index));var L=B.type;if(_mfpTrigger("BeforeChange",[_.currItem?_.currItem.type:"",L]),_.currItem=B,!_.currTemplate[L]){var tt=!!_.st[L]&&_.st[L].markup;_mfpTrigger("FirstMarkupParse",tt),_.currTemplate[L]=!tt||u(tt)}j&&j!==B.type&&_.container.removeClass("mfp-"+j+"-holder");var et=_["get"+L.charAt(0).toUpperCase()+L.slice(1)](B,_.currTemplate[L]);_.appendContent(et,L),B.preloaded=!0,_mfpTrigger("Change",B),j=B.type,_.container.prepend(_.contentContainer),_mfpTrigger("AfterChange")},appendContent:function(u,B){_.content=u,u?_.st.showCloseBtn&&_.st.closeBtnInside&&!0===_.currTemplate[B]?_.content.find(".mfp-close").length||_.content.append(_getCloseBtn()):_.content=u:_.content="",_mfpTrigger("BeforeAppend"),_.container.addClass("mfp-"+B+"-holder"),_.contentContainer.append(_.content)},parseEl:function(B){var L,j=_.items[B];if(j.tagName?j={el:u(j)}:(L=j.type,j={data:j,src:j.src}),j.el){for(var tt=_.types,et=0;et<tt.length;et++)if(j.el.hasClass("mfp-"+tt[et])){L=tt[et];break}j.src=j.el.attr("data-mfp-src"),j.src||(j.src=j.el.attr("href"))}return j.type=L||_.st.type||"inline",j.index=B,j.parsed=!0,_.items[B]=j,_mfpTrigger("ElementParse",j),_.items[B]},addGroup:function(u,B){var eHandler=function(L){L.mfpEl=this,_._openClick(L,u,B)};B||(B={});var L="click.magnificPopup";B.mainEl=u,B.items?(B.isObj=!0,u.off(L).on(L,eHandler)):(B.isObj=!1,B.delegate?u.off(L).on(L,B.delegate,eHandler):(B.items=u,u.off(L).on(L,eHandler)))},_openClick:function(B,L,j){if((void 0!==j.midClick?j.midClick:u.magnificPopup.defaults.midClick)||!(2===B.which||B.ctrlKey||B.metaKey||B.altKey||B.shiftKey)){var tt=void 0!==j.disableOn?j.disableOn:u.magnificPopup.defaults.disableOn;if(tt)if(u.isFunction(tt)){if(!tt.call(_))return!0}else if(at.width()<tt)return!0;B.type&&(B.preventDefault(),_.isOpen&&B.stopPropagation()),j.el=u(B.mfpEl),j.delegate&&(j.items=L.find(j.delegate)),_.open(j)}},updateStatus:function(u,L){if(_.preloader){B!==u&&_.container.removeClass("mfp-s-"+B),L||"loading"!==u||(L=_.st.tLoading);var j={status:u,text:L};_mfpTrigger("UpdateStatus",j),u=j.status,L=j.text,_.preloader.html(L),_.preloader.find("a").on("click",(function(u){u.stopImmediatePropagation()})),_.container.addClass("mfp-s-"+u),B=u}},_checkIfClose:function(B){if(!u(B).hasClass("mfp-prevent-close")){var L=_.st.closeOnContentClick,j=_.st.closeOnBgClick;if(L&&j)return!0;if(!_.content||u(B).hasClass("mfp-close")||_.preloader&&B===_.preloader[0])return!0;if(B===_.content[0]||u.contains(_.content[0],B)){if(L)return!0}else if(j&&u.contains(document,B))return!0;return!1}},_addClassToMFP:function(u){_.bgOverlay.addClass(u),_.wrap.addClass(u)},_removeClassFromMFP:function(u){this.bgOverlay.removeClass(u),_.wrap.removeClass(u)},_hasScrollBar:function(u){return(_.isIE7?L.height():document.body.scrollHeight)>(u||at.height())},_setFocus:function(){(_.st.focus?_.content.find(_.st.focus).eq(0):_.wrap).focus()},_onFocusIn:function(B){if(B.target!==_.wrap[0]&&!u.contains(_.wrap[0],B.target))return _._setFocus(),!1},_parseMarkup:function(_,B,L){var j;L.data&&(B=u.extend(L.data,B)),_mfpTrigger("MarkupParse",[_,B,L]),u.each(B,(function(B,L){if(void 0===L||!1===L)return!0;if((j=B.split("_")).length>1){var tt=_.find(".mfp-"+j[0]);if(tt.length>0){var et=j[1];"replaceWith"===et?tt[0]!==L[0]&&tt.replaceWith(L):"img"===et?tt.is("img")?tt.attr("src",L):tt.replaceWith(u("<img>").attr("src",L).attr("class",tt.attr("class"))):tt.attr(j[1],L)}}else _.find(".mfp-"+B).html(L)}))},_getScrollbarSize:function(){if(void 0===_.scrollbarSize){var u=document.createElement("div");u.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(u),_.scrollbarSize=u.offsetWidth-u.clientWidth,document.body.removeChild(u)}return _.scrollbarSize}},u.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(_,B){return _checkInstance(),(_=_?u.extend(!0,{},_):{}).isObj=!0,_.index=B||0,this.instance.open(_)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(_,B){B.options&&(u.magnificPopup.defaults[_]=B.options),u.extend(this.proto,B.proto),this.modules.push(_)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},u.fn.magnificPopup=function(B){_checkInstance();var L=u(this);if("string"==typeof B)if("open"===B){var j,tt=it?L.data("magnificPopup"):L[0].magnificPopup,et=parseInt(arguments[1],10)||0;tt.items?j=tt.items[et]:(j=L,tt.delegate&&(j=j.find(tt.delegate)),j=j.eq(et)),_._openClick({mfpEl:j},L,tt)}else _.isOpen&&_[B].apply(_,Array.prototype.slice.call(arguments,1));else B=u.extend(!0,{},B),it?L.data("magnificPopup",B):L[0].magnificPopup=B,_.addGroup(L,B);return L};var st,nt,ot,_putInlineElementsBack=function(){ot&&(nt.after(ot.addClass(st)).detach(),ot=null)};u.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){_.types.push("inline"),_mfpOn("Close.inline",(function(){_putInlineElementsBack()}))},getInline:function(B,L){if(_putInlineElementsBack(),B.src){var j=_.st.inline,tt=u(B.src);if(tt.length){var et=tt[0].parentNode;et&&et.tagName&&(nt||(st=j.hiddenClass,nt=_getEl(st),st="mfp-"+st),ot=tt.after(nt).detach().removeClass(st)),_.updateStatus("ready")}else _.updateStatus("error",j.tNotFound),tt=u("<div>");return B.inlineElement=tt,tt}return _.updateStatus("ready"),_._parseMarkup(L,{},B),L}}});var rt,_removeAjaxCursor=function(){rt&&u(document.body).removeClass(rt)},_destroyAjaxRequest=function(){_removeAjaxCursor(),_.req&&_.req.abort()};u.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){_.types.push("ajax"),rt=_.st.ajax.cursor,_mfpOn("Close.ajax",_destroyAjaxRequest),_mfpOn("BeforeChange.ajax",_destroyAjaxRequest)},getAjax:function(B){rt&&u(document.body).addClass(rt),_.updateStatus("loading");var L=u.extend({url:B.src,success:function(L,j,tt){var et={data:L,xhr:tt};_mfpTrigger("ParseAjax",et),_.appendContent(u(et.data),"ajax"),B.finished=!0,_removeAjaxCursor(),_._setFocus(),setTimeout((function(){_.wrap.addClass("mfp-ready")}),16),_.updateStatus("ready"),_mfpTrigger("AjaxContentAdded")},error:function(){_removeAjaxCursor(),B.finished=B.loadError=!0,_.updateStatus("error",_.st.ajax.tError.replace("%url%",B.src))}},_.st.ajax.settings);return _.req=u.ajax(L),""}}});var lt,ht,_getTitle=function(B){if(B.data&&void 0!==B.data.title)return B.data.title;var L=_.st.image.titleSrc;if(L){if(u.isFunction(L))return L.call(_,B);if(B.el)return B.el.attr(L)||""}return""};u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var B=_.st.image,L=".image";_.types.push("image"),_mfpOn("Open"+L,(function(){"image"===_.currItem.type&&B.cursor&&u(document.body).addClass(B.cursor)})),_mfpOn("Close"+L,(function(){B.cursor&&u(document.body).removeClass(B.cursor),at.off("resize.mfp")})),_mfpOn("Resize"+L,_.resizeImage),_.isLowIE&&_mfpOn("AfterChange",_.resizeImage)},resizeImage:function(){var u=_.currItem;if(u&&u.img&&_.st.image.verticalFit){var B=0;_.isLowIE&&(B=parseInt(u.img.css("padding-top"),10)+parseInt(u.img.css("padding-bottom"),10)),u.img.css("max-height",_.wH-B)}},_onImageHasSize:function(u){u.img&&(u.hasSize=!0,lt&&clearInterval(lt),u.isCheckingImgSize=!1,_mfpTrigger("ImageHasSize",u),u.imgHidden&&(_.content&&_.content.removeClass("mfp-loading"),u.imgHidden=!1))},findImageSize:function(u){var B=0,L=u.img[0],mfpSetInterval=function(j){lt&&clearInterval(lt),lt=setInterval((function(){L.naturalWidth>0?_._onImageHasSize(u):(B>200&&clearInterval(lt),3==++B?mfpSetInterval(10):40===B?mfpSetInterval(50):100===B&&mfpSetInterval(500))}),j)};mfpSetInterval(1)},getImage:function(B,L){var j=0,onLoadComplete=function(){B&&(B.img[0].complete?(B.img.off(".mfploader"),B===_.currItem&&(_._onImageHasSize(B),_.updateStatus("ready")),B.hasSize=!0,B.loaded=!0,_mfpTrigger("ImageLoadComplete")):++j<200?setTimeout(onLoadComplete,100):onLoadError())},onLoadError=function(){B&&(B.img.off(".mfploader"),B===_.currItem&&(_._onImageHasSize(B),_.updateStatus("error",tt.tError.replace("%url%",B.src))),B.hasSize=!0,B.loaded=!0,B.loadError=!0)},tt=_.st.image,et=L.find(".mfp-img");if(et.length){var it=document.createElement("img");it.className="mfp-img",B.el&&B.el.find("img").length&&(it.alt=B.el.find("img").attr("alt")),B.img=u(it).on("load.mfploader",onLoadComplete).on("error.mfploader",onLoadError),it.src=B.src,et.is("img")&&(B.img=B.img.clone()),(it=B.img[0]).naturalWidth>0?B.hasSize=!0:it.width||(B.hasSize=!1)}return _._parseMarkup(L,{title:_getTitle(B),img_replaceWith:B.img},B),_.resizeImage(),B.hasSize?(lt&&clearInterval(lt),B.loadError?(L.addClass("mfp-loading"),_.updateStatus("error",tt.tError.replace("%url%",B.src))):(L.removeClass("mfp-loading"),_.updateStatus("ready")),L):(_.updateStatus("loading"),B.loading=!0,B.hasSize||(B.imgHidden=!0,L.addClass("mfp-loading"),_.findImageSize(B)),L)}}}),u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(u){return u.is("img")?u:u.find("img")}},proto:{initZoom:function(){var u,B=_.st.zoom,L=".zoom";if(B.enabled&&_.supportsTransition){var j,tt,et=B.duration,getElToAnimate=function(u){var _=u.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),L="all "+B.duration/1e3+"s "+B.easing,j={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},tt="transition";return j["-webkit-"+tt]=j["-moz-"+tt]=j["-o-"+tt]=j[tt]=L,_.css(j),_},showMainContent=function(){_.content.css("visibility","visible")};_mfpOn("BuildControls"+L,(function(){if(_._allowZoom()){if(clearTimeout(j),_.content.css("visibility","hidden"),!(u=_._getItemToZoom()))return void showMainContent();(tt=getElToAnimate(u)).css(_._getOffset()),_.wrap.append(tt),j=setTimeout((function(){tt.css(_._getOffset(!0)),j=setTimeout((function(){showMainContent(),setTimeout((function(){tt.remove(),u=tt=null,_mfpTrigger("ZoomAnimationEnded")}),16)}),et)}),16)}})),_mfpOn("BeforeClose"+L,(function(){if(_._allowZoom()){if(clearTimeout(j),_.st.removalDelay=et,!u){if(!(u=_._getItemToZoom()))return;tt=getElToAnimate(u)}tt.css(_._getOffset(!0)),_.wrap.append(tt),_.content.css("visibility","hidden"),setTimeout((function(){tt.css(_._getOffset())}),16)}})),_mfpOn("Close"+L,(function(){_._allowZoom()&&(showMainContent(),tt&&tt.remove(),u=null)}))}},_allowZoom:function(){return"image"===_.currItem.type},_getItemToZoom:function(){return!!_.currItem.hasSize&&_.currItem.img},_getOffset:function(B){var L,j=(L=B?_.currItem.img:_.st.zoom.opener(_.currItem.el||_.currItem)).offset(),tt=parseInt(L.css("padding-top"),10),et=parseInt(L.css("padding-bottom"),10);j.top-=u(window).scrollTop()-tt;var at={width:L.width(),height:(it?L.innerHeight():L[0].offsetHeight)-et-tt};return void 0===ht&&(ht=void 0!==document.createElement("p").style.MozTransform),ht?at["-moz-transform"]=at.transform="translate("+j.left+"px,"+j.top+"px)":(at.left=j.left,at.top=j.top),at}}});var _fixIframeBugs=function(u){if(_.currTemplate.iframe){var B=_.currTemplate.iframe.find("iframe");B.length&&(u||(B[0].src="//about:blank"),_.isIE8&&B.css("display",u?"block":"none"))}};u.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){_.types.push("iframe"),_mfpOn("BeforeChange",(function(u,_,B){_!==B&&("iframe"===_?_fixIframeBugs():"iframe"===B&&_fixIframeBugs(!0))})),_mfpOn("Close.iframe",(function(){_fixIframeBugs()}))},getIframe:function(B,L){var j=B.src,tt=_.st.iframe;u.each(tt.patterns,(function(){if(j.indexOf(this.index)>-1)return this.id&&(j="string"==typeof this.id?j.substr(j.lastIndexOf(this.id)+this.id.length,j.length):this.id.call(this,j)),j=this.src.replace("%id%",j),!1}));var et={};return tt.srcAction&&(et[tt.srcAction]=j),_._parseMarkup(L,et,B),_.updateStatus("ready"),L}}});var _getLoopedId=function(u){var B=_.items.length;return u>B-1?u-B:u<0?B+u:u},_replaceCurrTotal=function(u,_,B){return u.replace(/%curr%/gi,_+1).replace(/%total%/gi,B)};u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var B=_.st.gallery,j=".mfp-gallery";if(_.direction=!0,!B||!B.enabled)return!1;tt+=" mfp-gallery",_mfpOn("Open"+j,(function(){B.navigateByImgClick&&_.wrap.on("click"+j,".mfp-img",(function(){if(_.items.length>1)return _.next(),!1})),L.on("keydown"+j,(function(u){37===u.keyCode?_.prev():39===u.keyCode&&_.next()}))})),_mfpOn("UpdateStatus"+j,(function(u,B){B.text&&(B.text=_replaceCurrTotal(B.text,_.currItem.index,_.items.length))})),_mfpOn("MarkupParse"+j,(function(u,L,j,tt){var et=_.items.length;j.counter=et>1?_replaceCurrTotal(B.tCounter,tt.index,et):""})),_mfpOn("BuildControls"+j,(function(){if(_.items.length>1&&B.arrows&&!_.arrowLeft){var L=B.arrowMarkup,j=_.arrowLeft=u(L.replace(/%title%/gi,B.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),tt=_.arrowRight=u(L.replace(/%title%/gi,B.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");j.click((function(){_.prev()})),tt.click((function(){_.next()})),_.container.append(j.add(tt))}})),_mfpOn("Change"+j,(function(){_._preloadTimeout&&clearTimeout(_._preloadTimeout),_._preloadTimeout=setTimeout((function(){_.preloadNearbyImages(),_._preloadTimeout=null}),16)})),_mfpOn("Close"+j,(function(){L.off(j),_.wrap.off("click"+j),_.arrowRight=_.arrowLeft=null}))},next:function(){_.direction=!0,_.index=_getLoopedId(_.index+1),_.updateItemHTML()},prev:function(){_.direction=!1,_.index=_getLoopedId(_.index-1),_.updateItemHTML()},goTo:function(u){_.direction=u>=_.index,_.index=u,_.updateItemHTML()},preloadNearbyImages:function(){var u,B=_.st.gallery.preload,L=Math.min(B[0],_.items.length),j=Math.min(B[1],_.items.length);for(u=1;u<=(_.direction?j:L);u++)_._preloadItem(_.index+u);for(u=1;u<=(_.direction?L:j);u++)_._preloadItem(_.index-u)},_preloadItem:function(B){if(B=_getLoopedId(B),!_.items[B].preloaded){var L=_.items[B];L.parsed||(L=_.parseEl(B)),_mfpTrigger("LazyLoad",L),"image"===L.type&&(L.img=u('<img class="mfp-img" />').on("load.mfploader",(function(){L.hasSize=!0})).on("error.mfploader",(function(){L.hasSize=!0,L.loadError=!0,_mfpTrigger("LazyLoadError",L)})).attr("src",L.src)),L.preloaded=!0}}}}),u.magnificPopup.registerModule("retina",{options:{replaceSrc:function(u){return u.src.replace(/\.\w+$/,(function(u){return"@2x"+u}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var u=_.st.retina,B=u.ratio;(B=isNaN(B)?B():B)>1&&(_mfpOn("ImageHasSize.retina",(function(u,_){_.img.css({"max-width":_.img[0].naturalWidth/B,width:"100%"})})),_mfpOn("ElementParse.retina",(function(_,L){L.src=u.replaceSrc(L,B)})))}}}}),_checkInstance()})),function(u){"function"==typeof define&&define.amd?define(["jquery"],u):"object"==typeof module&&module.exports?module.exports=function(_,B){return void 0===B&&(B="undefined"!=typeof window?require("jquery"):require("jquery")(_)),u(B),B}:u(jQuery)}((function(u){"use strict";var _=u(document),B=u(window),L=["a","e","i","o","u","n","c","y"],j=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],Selectric=function(_,B){this.element=_,this.$element=u(_),this.state={multiple:!!this.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},this.eventTriggers={open:this.open,close:this.close,destroy:this.destroy,refresh:this.refresh,init:this.init},this.init(B)};Selectric.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(u){for(var _=j.length;_--;)u=u.toLowerCase().replace(j[_],L[_]);return u},format:function(u){var _=arguments;return(""+u).replace(/\{(?:(\d+)|(\w+))\}/g,(function(u,B,L){return L&&_[1]?_[1][L]:_[B]}))},nextEnabledItem:function(u,_){for(;u[_=(_+1)%u.length].disabled;);return _},previousEnabledItem:function(u,_){for(;u[_=(_>0?_:u.length)-1].disabled;);return _},toDash:function(u){return u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(_,B){var L=B.element,j=B.options["on"+_],tt=[L].concat([].slice.call(arguments).slice(1));u.isFunction(j)&&j.apply(L,tt),u(L).trigger("selectric-"+this.toDash(_),tt)},arrayToClassname:function(_){var B=u.grep(_,(function(u){return!!u}));return u.trim(B.join(" "))}},init:function(_){var B=this;if(B.options=u.extend(!0,{},u.fn.selectric.defaults,B.options,_),B.utils.triggerCallback("BeforeInit",B),B.destroy(!0),B.options.disableOnMobile&&B.utils.isMobile())B.disableOnMobile=!0;else{B.classes=B.getClassNames();var L=u("<input/>",{class:B.classes.input,readonly:B.utils.isMobile()}),j=u("<div/>",{class:B.classes.items,tabindex:-1}),tt=u("<div/>",{class:B.classes.scroll}),et=u("<div/>",{class:B.classes.prefix,html:B.options.arrowButtonMarkup}),it=u("<span/>",{class:"label"}),at=B.$element.wrap("<div/>").parent().append(et.prepend(it),j,L),st=u("<div/>",{class:B.classes.hideselect});B.elements={input:L,items:j,itemsScroll:tt,wrapper:et,label:it,outerWrapper:at},B.options.nativeOnMobile&&B.utils.isMobile()&&(B.elements.input=void 0,st.addClass(B.classes.prefix+"-is-native"),B.$element.on("change",(function(){B.refresh()}))),B.$element.on(B.eventTriggers).wrap(st),B.originalTabindex=B.$element.prop("tabindex"),B.$element.prop("tabindex",-1),B.populate(),B.activate(),B.utils.triggerCallback("Init",B)}},activate:function(){var u=this.elements.items.closest(":visible").children(":hidden").addClass(this.classes.tempshow),_=this.$element.width();u.removeClass(this.classes.tempshow),this.utils.triggerCallback("BeforeActivate",this),this.elements.outerWrapper.prop("class",this.utils.arrayToClassname([this.classes.wrapper,this.$element.prop("class").replace(/\S+/g,this.classes.prefix+"-$&"),this.options.responsive?this.classes.responsive:""])),this.options.inheritOriginalWidth&&_>0&&this.elements.outerWrapper.width(_),this.unbindEvents(),this.$element.prop("disabled")?(this.elements.outerWrapper.addClass(this.classes.disabled),this.elements.input&&this.elements.input.prop("disabled",!0)):(this.state.enabled=!0,this.elements.outerWrapper.removeClass(this.classes.disabled),this.$li=this.elements.items.removeAttr("style").find("li"),this.bindEvents()),this.utils.triggerCallback("Activate",this)},getClassNames:function(){var _=this,B=_.options.customClass,L={};return u.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),(function(u,j){var tt=B.prefix+j;L[j.toLowerCase()]=B.camelCase?tt:_.utils.toDash(tt)})),L.prefix=B.prefix,L},setLabel:function(){var _=this,B=_.options.labelBuilder;if(_.state.multiple){var L=u.isArray(_.state.currValue)?_.state.currValue:[_.state.currValue];L=0===L.length?[0]:L;var j=u.map(L,(function(B){return u.grep(_.lookupItems,(function(u){return u.index===B}))[0]}));j=u.grep(j,(function(_){return j.length>1||0===j.length?""!==u.trim(_.value):_})),j=u.map(j,(function(L){return u.isFunction(B)?B(L):_.utils.format(B,L)})),_.options.multiple.maxLabelEntries&&(j.length>=_.options.multiple.maxLabelEntries+1?(j=j.slice(0,_.options.multiple.maxLabelEntries)).push(u.isFunction(B)?B({text:"..."}):_.utils.format(B,{text:"..."})):j.slice(j.length-1)),_.elements.label.html(j.join(_.options.multiple.separator))}else{var tt=_.lookupItems[_.state.currValue];_.elements.label.html(u.isFunction(B)?B(tt):_.utils.format(B,tt))}},populate:function(){var _=this,B=_.$element.children(),L=_.$element.find("option"),j=L.filter(":selected"),tt=L.index(j),et=0,it=_.state.multiple?[]:0;j.length>1&&_.state.multiple&&(tt=[],j.each((function(){tt.push(u(this).index())}))),_.state.currValue=~tt?tt:it,_.state.selectedIdx=_.state.currValue,_.state.highlightedIdx=_.state.currValue,_.items=[],_.lookupItems=[],B.length&&(B.each((function(B){var L=u(this);if(L.is("optgroup")){var j={element:L,label:L.prop("label"),groupDisabled:L.prop("disabled"),items:[]};L.children().each((function(B){var L=u(this);j.items[B]=_.getItemData(et,L,j.groupDisabled||L.prop("disabled")),_.lookupItems[et]=j.items[B],et++})),_.items[B]=j}else _.items[B]=_.getItemData(et,L,L.prop("disabled")),_.lookupItems[et]=_.items[B],et++})),_.setLabel(),_.elements.items.append(_.elements.itemsScroll.html(_.getItemsMarkup(_.items))))},getItemData:function(_,B,L){return{index:_,element:B,value:B.val(),className:B.prop("class"),text:B.html(),slug:u.trim(this.utils.replaceDiacritics(B.html())),alt:B.attr("data-alt"),selected:B.prop("selected"),disabled:L}},getItemsMarkup:function(_){var B=this,L="<ul>";return u.isFunction(B.options.listBuilder)&&B.options.listBuilder&&(_=B.options.listBuilder(_)),u.each(_,(function(_,j){void 0!==j.label?(L+=B.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',B.utils.arrayToClassname([B.classes.group,j.groupDisabled?"disabled":"",j.element.prop("class")]),B.classes.grouplabel,j.element.prop("label")),u.each(j.items,(function(u,_){L+=B.getItemMarkup(_.index,_)})),L+="</ul>"):L+=B.getItemMarkup(j.index,j)})),L+"</ul>"},getItemMarkup:function(_,B){var L=this.options.optionsItemBuilder,j={value:B.value,text:B.text,slug:B.slug,index:B.index};return this.utils.format('<li data-index="{1}" class="{2}">{3}</li>',_,this.utils.arrayToClassname([B.className,_===this.items.length-1?"last":"",B.disabled?"disabled":"",B.selected?"selected":""]),u.isFunction(L)?this.utils.format(L(B,this.$element,_),B):this.utils.format(L,j))},unbindEvents:function(){this.elements.wrapper.add(this.$element).add(this.elements.outerWrapper).add(this.elements.input).off(".sl")},bindEvents:function(){var _=this;_.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",(function(B){u(this).toggleClass(_.classes.hover,"mouseenter"===B.type),_.options.openOnHover&&(clearTimeout(_.closeTimer),"mouseleave"===B.type?_.closeTimer=setTimeout(u.proxy(_.close,_),_.options.hoverIntentTimeout):_.open())})),_.elements.wrapper.on("click.sl",(function(u){_.state.opened?_.close():_.open(u)})),_.options.nativeOnMobile&&_.utils.isMobile()||(_.$element.on("focus.sl",(function(){_.elements.input.focus()})),_.elements.input.prop({tabindex:_.originalTabindex,disabled:!1}).on("keydown.sl",u.proxy(_.handleKeys,_)).on("focusin.sl",(function(u){_.elements.outerWrapper.addClass(_.classes.focus),_.elements.input.one("blur",(function(){_.elements.input.blur()})),_.options.openOnFocus&&!_.state.opened&&_.open(u)})).on("focusout.sl",(function(){_.elements.outerWrapper.removeClass(_.classes.focus)})).on("input propertychange",(function(){var B=_.elements.input.val(),L=new RegExp("^"+_.utils.escapeRegExp(B),"i");clearTimeout(_.resetStr),_.resetStr=setTimeout((function(){_.elements.input.val("")}),_.options.keySearchTimeout),B.length&&u.each(_.items,(function(u,B){if(!B.disabled){if(L.test(B.text)||L.test(B.slug))return _.highlight(u),!1;if(B.alt)for(var j=B.alt.split("|"),tt=0;tt<j.length&&j[tt];tt++)if(L.test(j[tt].trim()))return _.highlight(u),!1}}))}))),_.$li.on({mousedown:function(u){u.preventDefault(),u.stopPropagation()},click:function(){return _.select(u(this).data("index")),!1}})},handleKeys:function(_){var B=_.which,L=this.options.keys,j=u.inArray(B,L.previous)>-1,tt=u.inArray(B,L.next)>-1,et=u.inArray(B,L.select)>-1,it=u.inArray(B,L.open)>-1,at=this.state.highlightedIdx,st=j&&0===at||tt&&at+1===this.items.length,nt=0;if(13!==B&&32!==B||_.preventDefault(),j||tt){if(!this.options.allowWrap&&st)return;j&&(nt=this.utils.previousEnabledItem(this.lookupItems,at)),tt&&(nt=this.utils.nextEnabledItem(this.lookupItems,at)),this.highlight(nt)}if(et&&this.state.opened)return this.select(at),void(this.state.multiple&&this.options.multiple.keepMenuOpen||this.close());it&&!this.state.opened&&this.open()},refresh:function(){this.populate(),this.activate(),this.utils.triggerCallback("Refresh",this)},setOptionsDimensions:function(){var u=this.elements.items.closest(":visible").children(":hidden").addClass(this.classes.tempshow),_=this.options.maxHeight,B=this.elements.items.outerWidth(),L=this.elements.wrapper.outerWidth()-(B-this.elements.items.width());!this.options.expandToItemText||L>B?this.finalWidth=L:(this.elements.items.css("overflow","scroll"),this.elements.outerWrapper.width(9e4),this.finalWidth=this.elements.items.width(),this.elements.items.css("overflow",""),this.elements.outerWrapper.width("")),this.elements.items.width(this.finalWidth).height()>_&&this.elements.items.height(_),u.removeClass(this.classes.tempshow)},isInViewport:function(){if(!0===this.options.forceRenderAbove)this.elements.outerWrapper.addClass(this.classes.above);else if(!0===this.options.forceRenderBelow)this.elements.outerWrapper.addClass(this.classes.below);else{var u=B.scrollTop(),_=B.height(),L=this.elements.outerWrapper.offset().top,j=L+this.elements.outerWrapper.outerHeight()+this.itemsHeight<=u+_,tt=L-this.itemsHeight>u,et=!j&&tt,it=!et;this.elements.outerWrapper.toggleClass(this.classes.above,et),this.elements.outerWrapper.toggleClass(this.classes.below,it)}},detectItemVisibility:function(_){var B=this.$li.filter("[data-index]");this.state.multiple&&(_=u.isArray(_)&&0===_.length?0:_,_=u.isArray(_)?Math.min.apply(Math,_):_);var L=B.eq(_).outerHeight(),j=B[_].offsetTop,tt=this.elements.itemsScroll.scrollTop(),et=j+2*L;this.elements.itemsScroll.scrollTop(et>tt+this.itemsHeight?et-this.itemsHeight:j-L<tt?j-L:tt)},open:function(B){var L=this;if(L.options.nativeOnMobile&&L.utils.isMobile())return!1;L.utils.triggerCallback("BeforeOpen",L),B&&(B.preventDefault(),L.options.stopPropagation&&B.stopPropagation()),L.state.enabled&&(L.setOptionsDimensions(),u("."+L.classes.hideselect,"."+L.classes.open).children().selectric("close"),L.state.opened=!0,L.itemsHeight=L.elements.items.outerHeight(),L.itemsInnerHeight=L.elements.items.height(),L.elements.outerWrapper.addClass(L.classes.open),L.elements.input.val(""),B&&"focusin"!==B.type&&L.elements.input.focus(),setTimeout((function(){_.on("click.sl",u.proxy(L.close,L)).on("scroll.sl",u.proxy(L.isInViewport,L))}),1),L.isInViewport(),L.options.preventWindowScroll&&_.on("mousewheel.sl DOMMouseScroll.sl","."+L.classes.scroll,(function(_){var B=_.originalEvent,j=u(this).scrollTop(),tt=0;"detail"in B&&(tt=-1*B.detail),"wheelDelta"in B&&(tt=B.wheelDelta),"wheelDeltaY"in B&&(tt=B.wheelDeltaY),"deltaY"in B&&(tt=-1*B.deltaY),(j===this.scrollHeight-L.itemsInnerHeight&&tt<0||0===j&&tt>0)&&_.preventDefault()})),L.detectItemVisibility(L.state.selectedIdx),L.highlight(L.state.multiple?-1:L.state.selectedIdx),L.utils.triggerCallback("Open",L))},close:function(){this.utils.triggerCallback("BeforeClose",this),_.off(".sl"),this.elements.outerWrapper.removeClass(this.classes.open),this.state.opened=!1,this.utils.triggerCallback("Close",this)},change:function(){var _=this;_.utils.triggerCallback("BeforeChange",_),_.state.multiple?(u.each(_.lookupItems,(function(u){_.lookupItems[u].selected=!1,_.$element.find("option").prop("selected",!1)})),u.each(_.state.selectedIdx,(function(u,B){_.lookupItems[B].selected=!0,_.$element.find("option").eq(B).prop("selected",!0)})),_.state.currValue=_.state.selectedIdx,_.setLabel(),_.utils.triggerCallback("Change",_)):_.state.currValue!==_.state.selectedIdx&&(_.$element.prop("selectedIndex",_.state.currValue=_.state.selectedIdx).data("value",_.lookupItems[_.state.selectedIdx].text),_.setLabel(),_.utils.triggerCallback("Change",_))},highlight:function(u){var _=this.$li.filter("[data-index]").removeClass("highlighted");this.utils.triggerCallback("BeforeHighlight",this),void 0===u||-1===u||this.lookupItems[u].disabled||(_.eq(this.state.highlightedIdx=u).addClass("highlighted"),this.detectItemVisibility(u),this.utils.triggerCallback("Highlight",this))},select:function(_){var B=this,L=B.$li.filter("[data-index]");if(B.utils.triggerCallback("BeforeSelect",B,_),void 0!==_&&-1!==_&&!B.lookupItems[_].disabled){if(B.state.multiple){B.state.selectedIdx=u.isArray(B.state.selectedIdx)?B.state.selectedIdx:[B.state.selectedIdx];var j=u.inArray(_,B.state.selectedIdx);-1!==j?B.state.selectedIdx.splice(j,1):B.state.selectedIdx.push(_),L.removeClass("selected").filter((function(_){return-1!==u.inArray(_,B.state.selectedIdx)})).addClass("selected")}else L.removeClass("selected").eq(B.state.selectedIdx=_).addClass("selected");B.state.multiple&&B.options.multiple.keepMenuOpen||B.close(),B.change(),B.utils.triggerCallback("Select",B,_)}},destroy:function(u){this.state&&this.state.enabled&&(this.elements.items.add(this.elements.wrapper).add(this.elements.input).remove(),u||this.$element.removeData("selectric").removeData("value"),this.$element.prop("tabindex",this.originalTabindex).off(".sl").off(this.eventTriggers).unwrap().unwrap(),this.state.enabled=!1)}},u.fn.selectric=function(_){return this.each((function(){var B=u.data(this,"selectric");B&&!B.disableOnMobile?"string"==typeof _&&B[_]?B[_]():B.init(_):u.data(this,"selectric",new Selectric(this,_))}))},u.fn.selectric.defaults={onChange:function(_){u(_).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:"selectric",camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}}));
/*! npm.im/object-fit-images 3.2.4 */
var objectFitImages=function(){"use strict";var u="fregante:object-fit-images",_=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,B="undefined"==typeof Image?{style:{"object-position":1}}:new Image,L="object-fit"in B.style,j="object-position"in B.style,tt="background-size"in B.style,et="string"==typeof B.currentSrc,it=B.getAttribute,at=B.setAttribute,st=!1;function setPlaceholder(u,_,B){var L=function createPlaceholder(u,_){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+u+"' height='"+_+"'%3E%3C/svg%3E"}(_||1,B||0);it.call(u,"src")!==L&&at.call(u,"src",L)}function onImageReady(u,_){u.naturalWidth?_(u):setTimeout(onImageReady,100,u,_)}function fixOne(B){var j=function getStyle(u){for(var B,L=getComputedStyle(u).fontFamily,j={};null!==(B=_.exec(L));)j[B[1]]=B[2];return j}(B),tt=B[u];if(j["object-fit"]=j["object-fit"]||"fill",!tt.img){if("fill"===j["object-fit"])return;if(!tt.skipTest&&L&&!j["object-position"])return}if(!tt.img){tt.img=new Image(B.width,B.height),tt.img.srcset=it.call(B,"data-ofi-srcset")||B.srcset,tt.img.src=it.call(B,"data-ofi-src")||B.src,at.call(B,"data-ofi-src",B.src),B.srcset&&at.call(B,"data-ofi-srcset",B.srcset),setPlaceholder(B,B.naturalWidth||B.width,B.naturalHeight||B.height),B.srcset&&(B.srcset="");try{!function keepSrcUsable(_){var B={get:function get(B){return _[u].img[B||"src"]},set:function set(B,L){return _[u].img[L||"src"]=B,at.call(_,"data-ofi-"+L,B),fixOne(_),B}};Object.defineProperty(_,"src",B),Object.defineProperty(_,"currentSrc",{get:function(){return B.get("currentSrc")}}),Object.defineProperty(_,"srcset",{get:function(){return B.get("srcset")},set:function(u){return B.set(u,"srcset")}})}(B)}catch(u){window.console}}!function polyfillCurrentSrc(u){if(u.srcset&&!et&&window.picturefill){var _=window.picturefill._;u[_.ns]&&u[_.ns].evaled||_.fillImg(u,{reselect:!0}),u[_.ns].curSrc||(u[_.ns].supported=!1,_.fillImg(u,{reselect:!0})),u.currentSrc=u[_.ns].curSrc||u.src}}(tt.img),B.style.backgroundImage='url("'+(tt.img.currentSrc||tt.img.src).replace(/"/g,'\\"')+'")',B.style.backgroundPosition=j["object-position"]||"center",B.style.backgroundRepeat="no-repeat",B.style.backgroundOrigin="content-box",/scale-down/.test(j["object-fit"])?onImageReady(tt.img,(function(){tt.img.naturalWidth>B.width||tt.img.naturalHeight>B.height?B.style.backgroundSize="contain":B.style.backgroundSize="auto"})):B.style.backgroundSize=j["object-fit"].replace("none","auto").replace("fill","100% 100%"),onImageReady(tt.img,(function(u){setPlaceholder(B,u.naturalWidth,u.naturalHeight)}))}function fix(_,B){var L=!st&&!_;if(B=B||{},_=_||"img",j&&!B.skipTest||!tt)return!1;"img"===_?_=document.getElementsByTagName("img"):"string"==typeof _?_=document.querySelectorAll(_):"length"in _||(_=[_]);for(var et=0;et<_.length;et++)_[et][u]=_[et][u]||{skipTest:B.skipTest},fixOne(_[et]);L&&(document.body.addEventListener("load",(function(u){"IMG"===u.target.tagName&&fix(u.target,{skipTest:B.skipTest})}),!0),st=!0,_="img"),B.watchMQ&&window.addEventListener("resize",fix.bind(null,_,{skipTest:B.skipTest}))}return fix.supportsObjectFit=L,fix.supportsObjectPosition=j,function hijackAttributes(){function getOfiImageMaybe(_,B){return _[u]&&_[u].img&&("src"===B||"srcset"===B)?_[u].img:_}j||(HTMLImageElement.prototype.getAttribute=function(u){return it.call(getOfiImageMaybe(this,u),u)},HTMLImageElement.prototype.setAttribute=function(u,_){return at.call(getOfiImageMaybe(this,u),u,String(_))})}(),fix}();!function(u){"use strict";"function"==typeof define&&define.amd?define(["jquery"],u):"undefined"!=typeof exports?module.exports=u(require("jquery")):u(jQuery)}((function(u){"use strict";var _,B=window.Slick||{};_=0,(B=function Slick(B,L){var j,tt=this;tt.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:u(B),appendDots:u(B),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(_,B){return u('<button type="button" />').text(B+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},tt.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},u.extend(tt,tt.initials),tt.activeBreakpoint=null,tt.animType=null,tt.animProp=null,tt.breakpoints=[],tt.breakpointSettings=[],tt.cssTransitions=!1,tt.focussed=!1,tt.interrupted=!1,tt.hidden="hidden",tt.paused=!0,tt.positionProp=null,tt.respondTo=null,tt.rowCount=1,tt.shouldClick=!0,tt.$slider=u(B),tt.$slidesCache=null,tt.transformType=null,tt.transitionType=null,tt.visibilityChange="visibilitychange",tt.windowWidth=0,tt.windowTimer=null,j=u(B).data("slick")||{},tt.options=u.extend({},tt.defaults,L,j),tt.currentSlide=tt.options.initialSlide,tt.originalSettings=tt.options,void 0!==document.mozHidden?(tt.hidden="mozHidden",tt.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(tt.hidden="webkitHidden",tt.visibilityChange="webkitvisibilitychange"),tt.autoPlay=u.proxy(tt.autoPlay,tt),tt.autoPlayClear=u.proxy(tt.autoPlayClear,tt),tt.autoPlayIterator=u.proxy(tt.autoPlayIterator,tt),tt.changeSlide=u.proxy(tt.changeSlide,tt),tt.clickHandler=u.proxy(tt.clickHandler,tt),tt.selectHandler=u.proxy(tt.selectHandler,tt),tt.setPosition=u.proxy(tt.setPosition,tt),tt.swipeHandler=u.proxy(tt.swipeHandler,tt),tt.dragHandler=u.proxy(tt.dragHandler,tt),tt.keyHandler=u.proxy(tt.keyHandler,tt),tt.instanceUid=_++,tt.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,tt.registerBreakpoints(),tt.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},B.prototype.addSlide=B.prototype.slickAdd=function(_,B,L){var j=this;if("boolean"==typeof B)L=B,B=null;else if(B<0||B>=j.slideCount)return!1;j.unload(),"number"==typeof B?0===B&&0===j.$slides.length?u(_).appendTo(j.$slideTrack):L?u(_).insertBefore(j.$slides.eq(B)):u(_).insertAfter(j.$slides.eq(B)):!0===L?u(_).prependTo(j.$slideTrack):u(_).appendTo(j.$slideTrack),j.$slides=j.$slideTrack.children(this.options.slide),j.$slideTrack.children(this.options.slide).detach(),j.$slideTrack.append(j.$slides),j.$slides.each((function(_,B){u(B).attr("data-slick-index",_)})),j.$slidesCache=j.$slides,j.reinit()},B.prototype.animateHeight=function(){var u=this;if(1===u.options.slidesToShow&&!0===u.options.adaptiveHeight&&!1===u.options.vertical){var _=u.$slides.eq(u.currentSlide).outerHeight(!0);u.$list.animate({height:_},u.options.speed)}},B.prototype.animateSlide=function(_,B){var L={},j=this;j.animateHeight(),!0===j.options.rtl&&!1===j.options.vertical&&(_=-_),!1===j.transformsEnabled?!1===j.options.vertical?j.$slideTrack.animate({left:_},j.options.speed,j.options.easing,B):j.$slideTrack.animate({top:_},j.options.speed,j.options.easing,B):!1===j.cssTransitions?(!0===j.options.rtl&&(j.currentLeft=-j.currentLeft),u({animStart:j.currentLeft}).animate({animStart:_},{duration:j.options.speed,easing:j.options.easing,step:function(u){u=Math.ceil(u),!1===j.options.vertical?(L[j.animType]="translate("+u+"px, 0px)",j.$slideTrack.css(L)):(L[j.animType]="translate(0px,"+u+"px)",j.$slideTrack.css(L))},complete:function(){B&&B.call()}})):(j.applyTransition(),_=Math.ceil(_),!1===j.options.vertical?L[j.animType]="translate3d("+_+"px, 0px, 0px)":L[j.animType]="translate3d(0px,"+_+"px, 0px)",j.$slideTrack.css(L),B&&setTimeout((function(){j.disableTransition(),B.call()}),j.options.speed))},B.prototype.getNavTarget=function(){var _=this.options.asNavFor;return _&&null!==_&&(_=u(_).not(this.$slider)),_},B.prototype.asNavFor=function(_){var B=this.getNavTarget();null!==B&&"object"==typeof B&&B.each((function(){var B=u(this).slick("getSlick");B.unslicked||B.slideHandler(_,!0)}))},B.prototype.applyTransition=function(u){var _=this,B={};!1===_.options.fade?B[_.transitionType]=_.transformType+" "+_.options.speed+"ms "+_.options.cssEase:B[_.transitionType]="opacity "+_.options.speed+"ms "+_.options.cssEase,!1===_.options.fade?_.$slideTrack.css(B):_.$slides.eq(u).css(B)},B.prototype.autoPlay=function(){var u=this;u.autoPlayClear(),u.slideCount>u.options.slidesToShow&&(u.autoPlayTimer=setInterval(u.autoPlayIterator,u.options.autoplaySpeed))},B.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},B.prototype.autoPlayIterator=function(){var u=this,_=u.currentSlide+u.options.slidesToScroll;u.paused||u.interrupted||u.focussed||(!1===u.options.infinite&&(1===u.direction&&u.currentSlide+1===u.slideCount-1?u.direction=0:0===u.direction&&(_=u.currentSlide-u.options.slidesToScroll,u.currentSlide-1==0&&(u.direction=1))),u.slideHandler(_))},B.prototype.buildArrows=function(){var _=this;!0===_.options.arrows&&(_.$prevArrow=u(_.options.prevArrow).addClass("slick-arrow"),_.$nextArrow=u(_.options.nextArrow).addClass("slick-arrow"),_.slideCount>_.options.slidesToShow?(_.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),_.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.prependTo(_.options.appendArrows),_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.appendTo(_.options.appendArrows),!0!==_.options.infinite&&_.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):_.$prevArrow.add(_.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},B.prototype.buildDots=function(){var _,B,L=this;if(!0===L.options.dots&&L.slideCount>L.options.slidesToShow){for(L.$slider.addClass("slick-dotted"),B=u("<ul />").addClass(L.options.dotsClass),_=0;_<=L.getDotCount();_+=1)B.append(u("<li />").append(L.options.customPaging.call(this,L,_)));L.$dots=B.appendTo(L.options.appendDots),L.$dots.find("li").first().addClass("slick-active")}},B.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+":not(.slick-cloned)").addClass("slick-slide"),_.slideCount=_.$slides.length,_.$slides.each((function(_,B){u(B).attr("data-slick-index",_).data("originalStyling",u(B).attr("style")||"")})),_.$slider.addClass("slick-slider"),_.$slideTrack=0===_.slideCount?u('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent(),_.$list=_.$slideTrack.wrap('<div class="slick-list"/>').parent(),_.$slideTrack.css("opacity",0),!0!==_.options.centerMode&&!0!==_.options.swipeToSlide||(_.options.slidesToScroll=1),u("img[data-lazy]",_.$slider).not("[src]").addClass("slick-loading"),_.setupInfinite(),_.buildArrows(),_.buildDots(),_.updateDots(),_.setSlideClasses("number"==typeof _.currentSlide?_.currentSlide:0),!0===_.options.draggable&&_.$list.addClass("draggable")},B.prototype.buildRows=function(){var u,_,B,L,j,tt,et,it=this;if(L=document.createDocumentFragment(),tt=it.$slider.children(),it.options.rows>0){for(et=it.options.slidesPerRow*it.options.rows,j=Math.ceil(tt.length/et),u=0;u<j;u++){var at=document.createElement("div");for(_=0;_<it.options.rows;_++){var st=document.createElement("div");for(B=0;B<it.options.slidesPerRow;B++){var nt=u*et+(_*it.options.slidesPerRow+B);tt.get(nt)&&st.appendChild(tt.get(nt))}at.appendChild(st)}L.appendChild(at)}it.$slider.empty().append(L),it.$slider.children().children().children().css({width:100/it.options.slidesPerRow+"%",display:"inline-block"})}},B.prototype.checkResponsive=function(_,B){var L,j,tt,et=this,it=!1,at=et.$slider.width(),st=window.innerWidth||u(window).width();if("window"===et.respondTo?tt=st:"slider"===et.respondTo?tt=at:"min"===et.respondTo&&(tt=Math.min(st,at)),et.options.responsive&&et.options.responsive.length&&null!==et.options.responsive){for(L in j=null,et.breakpoints)et.breakpoints.hasOwnProperty(L)&&(!1===et.originalSettings.mobileFirst?tt<et.breakpoints[L]&&(j=et.breakpoints[L]):tt>et.breakpoints[L]&&(j=et.breakpoints[L]));null!==j?null!==et.activeBreakpoint?(j!==et.activeBreakpoint||B)&&(et.activeBreakpoint=j,"unslick"===et.breakpointSettings[j]?et.unslick(j):(et.options=u.extend({},et.originalSettings,et.breakpointSettings[j]),!0===_&&(et.currentSlide=et.options.initialSlide),et.refresh(_)),it=j):(et.activeBreakpoint=j,"unslick"===et.breakpointSettings[j]?et.unslick(j):(et.options=u.extend({},et.originalSettings,et.breakpointSettings[j]),!0===_&&(et.currentSlide=et.options.initialSlide),et.refresh(_)),it=j):null!==et.activeBreakpoint&&(et.activeBreakpoint=null,et.options=et.originalSettings,!0===_&&(et.currentSlide=et.options.initialSlide),et.refresh(_),it=j),_||!1===it||et.$slider.trigger("breakpoint",[et,it])}},B.prototype.changeSlide=function(_,B){var L,j,tt=this,et=u(_.currentTarget);switch(et.is("a")&&_.preventDefault(),et.is("li")||(et=et.closest("li")),L=tt.slideCount%tt.options.slidesToScroll!=0?0:(tt.slideCount-tt.currentSlide)%tt.options.slidesToScroll,_.data.message){case"previous":j=0===L?tt.options.slidesToScroll:tt.options.slidesToShow-L,tt.slideCount>tt.options.slidesToShow&&tt.slideHandler(tt.currentSlide-j,!1,B);break;case"next":j=0===L?tt.options.slidesToScroll:L,tt.slideCount>tt.options.slidesToShow&&tt.slideHandler(tt.currentSlide+j,!1,B);break;case"index":var it=0===_.data.index?0:_.data.index||et.index()*tt.options.slidesToScroll;tt.slideHandler(tt.checkNavigable(it),!1,B),et.children().trigger("focus");break;default:return}},B.prototype.checkNavigable=function(u){var _,B;if(B=0,u>(_=this.getNavigableIndexes())[_.length-1])u=_[_.length-1];else for(var L in _){if(u<_[L]){u=B;break}B=_[L]}return u},B.prototype.cleanUpEvents=function(){var _=this;_.options.dots&&null!==_.$dots&&(u("li",_.$dots).off("click.slick",_.changeSlide).off("mouseenter.slick",u.proxy(_.interrupt,_,!0)).off("mouseleave.slick",u.proxy(_.interrupt,_,!1)),!0===_.options.accessibility&&_.$dots.off("keydown.slick",_.keyHandler)),_.$slider.off("focus.slick blur.slick"),!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow&&_.$prevArrow.off("click.slick",_.changeSlide),_.$nextArrow&&_.$nextArrow.off("click.slick",_.changeSlide),!0===_.options.accessibility&&(_.$prevArrow&&_.$prevArrow.off("keydown.slick",_.keyHandler),_.$nextArrow&&_.$nextArrow.off("keydown.slick",_.keyHandler))),_.$list.off("touchstart.slick mousedown.slick",_.swipeHandler),_.$list.off("touchmove.slick mousemove.slick",_.swipeHandler),_.$list.off("touchend.slick mouseup.slick",_.swipeHandler),_.$list.off("touchcancel.slick mouseleave.slick",_.swipeHandler),_.$list.off("click.slick",_.clickHandler),u(document).off(_.visibilityChange,_.visibility),_.cleanUpSlideEvents(),!0===_.options.accessibility&&_.$list.off("keydown.slick",_.keyHandler),!0===_.options.focusOnSelect&&u(_.$slideTrack).children().off("click.slick",_.selectHandler),u(window).off("orientationchange.slick.slick-"+_.instanceUid,_.orientationChange),u(window).off("resize.slick.slick-"+_.instanceUid,_.resize),u("[draggable!=true]",_.$slideTrack).off("dragstart",_.preventDefault),u(window).off("load.slick.slick-"+_.instanceUid,_.setPosition)},B.prototype.cleanUpSlideEvents=function(){var _=this;_.$list.off("mouseenter.slick",u.proxy(_.interrupt,_,!0)),_.$list.off("mouseleave.slick",u.proxy(_.interrupt,_,!1))},B.prototype.cleanUpRows=function(){var u,_=this;_.options.rows>0&&((u=_.$slides.children().children()).removeAttr("style"),_.$slider.empty().append(u))},B.prototype.clickHandler=function(u){!1===this.shouldClick&&(u.stopImmediatePropagation(),u.stopPropagation(),u.preventDefault())},B.prototype.destroy=function(_){var B=this;B.autoPlayClear(),B.touchObject={},B.cleanUpEvents(),u(".slick-cloned",B.$slider).detach(),B.$dots&&B.$dots.remove(),B.$prevArrow&&B.$prevArrow.length&&(B.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),B.htmlExpr.test(B.options.prevArrow)&&B.$prevArrow.remove()),B.$nextArrow&&B.$nextArrow.length&&(B.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),B.htmlExpr.test(B.options.nextArrow)&&B.$nextArrow.remove()),B.$slides&&(B.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function(){u(this).attr("style",u(this).data("originalStyling"))})),B.$slideTrack.children(this.options.slide).detach(),B.$slideTrack.detach(),B.$list.detach(),B.$slider.append(B.$slides)),B.cleanUpRows(),B.$slider.removeClass("slick-slider"),B.$slider.removeClass("slick-initialized"),B.$slider.removeClass("slick-dotted"),B.unslicked=!0,_||B.$slider.trigger("destroy",[B])},B.prototype.disableTransition=function(u){var _=this,B={};B[_.transitionType]="",!1===_.options.fade?_.$slideTrack.css(B):_.$slides.eq(u).css(B)},B.prototype.fadeSlide=function(u,_){var B=this;!1===B.cssTransitions?(B.$slides.eq(u).css({zIndex:B.options.zIndex}),B.$slides.eq(u).animate({opacity:1},B.options.speed,B.options.easing,_)):(B.applyTransition(u),B.$slides.eq(u).css({opacity:1,zIndex:B.options.zIndex}),_&&setTimeout((function(){B.disableTransition(u),_.call()}),B.options.speed))},B.prototype.fadeSlideOut=function(u){var _=this;!1===_.cssTransitions?_.$slides.eq(u).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing):(_.applyTransition(u),_.$slides.eq(u).css({opacity:0,zIndex:_.options.zIndex-2}))},B.prototype.filterSlides=B.prototype.slickFilter=function(u){var _=this;null!==u&&(_.$slidesCache=_.$slides,_.unload(),_.$slideTrack.children(this.options.slide).detach(),_.$slidesCache.filter(u).appendTo(_.$slideTrack),_.reinit())},B.prototype.focusHandler=function(){var _=this;_.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",(function(B){B.stopImmediatePropagation();var L=u(this);setTimeout((function(){_.options.pauseOnFocus&&(_.focussed=L.is(":focus"),_.autoPlay())}),0)}))},B.prototype.getCurrent=B.prototype.slickCurrentSlide=function(){return this.currentSlide},B.prototype.getDotCount=function(){var u=this,_=0,B=0,L=0;if(!0===u.options.infinite)if(u.slideCount<=u.options.slidesToShow)++L;else for(;_<u.slideCount;)++L,_=B+u.options.slidesToScroll,B+=u.options.slidesToScroll<=u.options.slidesToShow?u.options.slidesToScroll:u.options.slidesToShow;else if(!0===u.options.centerMode)L=u.slideCount;else if(u.options.asNavFor)for(;_<u.slideCount;)++L,_=B+u.options.slidesToScroll,B+=u.options.slidesToScroll<=u.options.slidesToShow?u.options.slidesToScroll:u.options.slidesToShow;else L=1+Math.ceil((u.slideCount-u.options.slidesToShow)/u.options.slidesToScroll);return L-1},B.prototype.getLeft=function(u){var _,B,L,j,tt=this,et=0;return tt.slideOffset=0,B=tt.$slides.first().outerHeight(!0),!0===tt.options.infinite?(tt.slideCount>tt.options.slidesToShow&&(tt.slideOffset=tt.slideWidth*tt.options.slidesToShow*-1,j=-1,!0===tt.options.vertical&&!0===tt.options.centerMode&&(2===tt.options.slidesToShow?j=-1.5:1===tt.options.slidesToShow&&(j=-2)),et=B*tt.options.slidesToShow*j),tt.slideCount%tt.options.slidesToScroll!=0&&u+tt.options.slidesToScroll>tt.slideCount&&tt.slideCount>tt.options.slidesToShow&&(u>tt.slideCount?(tt.slideOffset=(tt.options.slidesToShow-(u-tt.slideCount))*tt.slideWidth*-1,et=(tt.options.slidesToShow-(u-tt.slideCount))*B*-1):(tt.slideOffset=tt.slideCount%tt.options.slidesToScroll*tt.slideWidth*-1,et=tt.slideCount%tt.options.slidesToScroll*B*-1))):u+tt.options.slidesToShow>tt.slideCount&&(tt.slideOffset=(u+tt.options.slidesToShow-tt.slideCount)*tt.slideWidth,et=(u+tt.options.slidesToShow-tt.slideCount)*B),tt.slideCount<=tt.options.slidesToShow&&(tt.slideOffset=0,et=0),!0===tt.options.centerMode&&tt.slideCount<=tt.options.slidesToShow?tt.slideOffset=tt.slideWidth*Math.floor(tt.options.slidesToShow)/2-tt.slideWidth*tt.slideCount/2:!0===tt.options.centerMode&&!0===tt.options.infinite?tt.slideOffset+=tt.slideWidth*Math.floor(tt.options.slidesToShow/2)-tt.slideWidth:!0===tt.options.centerMode&&(tt.slideOffset=0,tt.slideOffset+=tt.slideWidth*Math.floor(tt.options.slidesToShow/2)),_=!1===tt.options.vertical?u*tt.slideWidth*-1+tt.slideOffset:u*B*-1+et,!0===tt.options.variableWidth&&(L=tt.slideCount<=tt.options.slidesToShow||!1===tt.options.infinite?tt.$slideTrack.children(".slick-slide").eq(u):tt.$slideTrack.children(".slick-slide").eq(u+tt.options.slidesToShow),_=!0===tt.options.rtl?L[0]?-1*(tt.$slideTrack.width()-L[0].offsetLeft-L.width()):0:L[0]?-1*L[0].offsetLeft:0,!0===tt.options.centerMode&&(L=tt.slideCount<=tt.options.slidesToShow||!1===tt.options.infinite?tt.$slideTrack.children(".slick-slide").eq(u):tt.$slideTrack.children(".slick-slide").eq(u+tt.options.slidesToShow+1),_=!0===tt.options.rtl?L[0]?-1*(tt.$slideTrack.width()-L[0].offsetLeft-L.width()):0:L[0]?-1*L[0].offsetLeft:0,_+=(tt.$list.width()-L.outerWidth())/2)),_},B.prototype.getOption=B.prototype.slickGetOption=function(u){return this.options[u]},B.prototype.getNavigableIndexes=function(){var u,_=this,B=0,L=0,j=[];for(!1===_.options.infinite?u=_.slideCount:(B=-1*_.options.slidesToScroll,L=-1*_.options.slidesToScroll,u=2*_.slideCount);B<u;)j.push(B),B=L+_.options.slidesToScroll,L+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;return j},B.prototype.getSlick=function(){return this},B.prototype.getSlideCount=function(){var _,B,L=this;return B=!0===L.options.centerMode?L.slideWidth*Math.floor(L.options.slidesToShow/2):0,!0===L.options.swipeToSlide?(L.$slideTrack.find(".slick-slide").each((function(j,tt){if(tt.offsetLeft-B+u(tt).outerWidth()/2>-1*L.swipeLeft)return _=tt,!1})),Math.abs(u(_).attr("data-slick-index")-L.currentSlide)||1):L.options.slidesToScroll},B.prototype.goTo=B.prototype.slickGoTo=function(u,_){this.changeSlide({data:{message:"index",index:parseInt(u)}},_)},B.prototype.init=function(_){var B=this;u(B.$slider).hasClass("slick-initialized")||(u(B.$slider).addClass("slick-initialized"),B.buildRows(),B.buildOut(),B.setProps(),B.startLoad(),B.loadSlider(),B.initializeEvents(),B.updateArrows(),B.updateDots(),B.checkResponsive(!0),B.focusHandler()),_&&B.$slider.trigger("init",[B]),!0===B.options.accessibility&&B.initADA(),B.options.autoplay&&(B.paused=!1,B.autoPlay())},B.prototype.initADA=function(){var _=this,B=Math.ceil(_.slideCount/_.options.slidesToShow),L=_.getNavigableIndexes().filter((function(u){return u>=0&&u<_.slideCount}));_.$slides.add(_.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==_.$dots&&(_.$slides.not(_.$slideTrack.find(".slick-cloned")).each((function(B){var j=L.indexOf(B);if(u(this).attr({role:"tabpanel",id:"slick-slide"+_.instanceUid+B,tabindex:-1}),-1!==j){var tt="slick-slide-control"+_.instanceUid+j;u("#"+tt).length&&u(this).attr({"aria-describedby":tt})}})),_.$dots.attr("role","tablist").find("li").each((function(j){var tt=L[j];u(this).attr({role:"presentation"}),u(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+_.instanceUid+j,"aria-controls":"slick-slide"+_.instanceUid+tt,"aria-label":j+1+" of "+B,"aria-selected":null,tabindex:"-1"})})).eq(_.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var j=_.currentSlide,tt=j+_.options.slidesToShow;j<tt;j++)_.options.focusOnChange?_.$slides.eq(j).attr({tabindex:"0"}):_.$slides.eq(j).removeAttr("tabindex");_.activateADA()},B.prototype.initArrowEvents=function(){var u=this;!0===u.options.arrows&&u.slideCount>u.options.slidesToShow&&(u.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},u.changeSlide),u.$nextArrow.off("click.slick").on("click.slick",{message:"next"},u.changeSlide),!0===u.options.accessibility&&(u.$prevArrow.on("keydown.slick",u.keyHandler),u.$nextArrow.on("keydown.slick",u.keyHandler)))},B.prototype.initDotEvents=function(){var _=this;!0===_.options.dots&&_.slideCount>_.options.slidesToShow&&(u("li",_.$dots).on("click.slick",{message:"index"},_.changeSlide),!0===_.options.accessibility&&_.$dots.on("keydown.slick",_.keyHandler)),!0===_.options.dots&&!0===_.options.pauseOnDotsHover&&_.slideCount>_.options.slidesToShow&&u("li",_.$dots).on("mouseenter.slick",u.proxy(_.interrupt,_,!0)).on("mouseleave.slick",u.proxy(_.interrupt,_,!1))},B.prototype.initSlideEvents=function(){var _=this;_.options.pauseOnHover&&(_.$list.on("mouseenter.slick",u.proxy(_.interrupt,_,!0)),_.$list.on("mouseleave.slick",u.proxy(_.interrupt,_,!1)))},B.prototype.initializeEvents=function(){var _=this;_.initArrowEvents(),_.initDotEvents(),_.initSlideEvents(),_.$list.on("touchstart.slick mousedown.slick",{action:"start"},_.swipeHandler),_.$list.on("touchmove.slick mousemove.slick",{action:"move"},_.swipeHandler),_.$list.on("touchend.slick mouseup.slick",{action:"end"},_.swipeHandler),_.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},_.swipeHandler),_.$list.on("click.slick",_.clickHandler),u(document).on(_.visibilityChange,u.proxy(_.visibility,_)),!0===_.options.accessibility&&_.$list.on("keydown.slick",_.keyHandler),!0===_.options.focusOnSelect&&u(_.$slideTrack).children().on("click.slick",_.selectHandler),u(window).on("orientationchange.slick.slick-"+_.instanceUid,u.proxy(_.orientationChange,_)),u(window).on("resize.slick.slick-"+_.instanceUid,u.proxy(_.resize,_)),u("[draggable!=true]",_.$slideTrack).on("dragstart",_.preventDefault),u(window).on("load.slick.slick-"+_.instanceUid,_.setPosition),u(_.setPosition)},B.prototype.initUI=function(){var u=this;!0===u.options.arrows&&u.slideCount>u.options.slidesToShow&&(u.$prevArrow.show(),u.$nextArrow.show()),!0===u.options.dots&&u.slideCount>u.options.slidesToShow&&u.$dots.show()},B.prototype.keyHandler=function(u){var _=this;u.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===u.keyCode&&!0===_.options.accessibility?_.changeSlide({data:{message:!0===_.options.rtl?"next":"previous"}}):39===u.keyCode&&!0===_.options.accessibility&&_.changeSlide({data:{message:!0===_.options.rtl?"previous":"next"}}))},B.prototype.lazyLoad=function(){var _,B,L,j=this;function loadImages(_){u("img[data-lazy]",_).each((function(){var _=u(this),B=u(this).attr("data-lazy"),L=u(this).attr("data-srcset"),tt=u(this).attr("data-sizes")||j.$slider.attr("data-sizes"),et=document.createElement("img");et.onload=function(){_.animate({opacity:0},100,(function(){L&&(_.attr("srcset",L),tt&&_.attr("sizes",tt)),_.attr("src",B).animate({opacity:1},200,(function(){_.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")})),j.$slider.trigger("lazyLoaded",[j,_,B])}))},et.onerror=function(){_.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),j.$slider.trigger("lazyLoadError",[j,_,B])},et.src=B}))}if(!0===j.options.centerMode?!0===j.options.infinite?L=(B=j.currentSlide+(j.options.slidesToShow/2+1))+j.options.slidesToShow+2:(B=Math.max(0,j.currentSlide-(j.options.slidesToShow/2+1)),L=j.options.slidesToShow/2+1+2+j.currentSlide):(B=j.options.infinite?j.options.slidesToShow+j.currentSlide:j.currentSlide,L=Math.ceil(B+j.options.slidesToShow),!0===j.options.fade&&(B>0&&B--,L<=j.slideCount&&L++)),_=j.$slider.find(".slick-slide").slice(B,L),"anticipated"===j.options.lazyLoad)for(var tt=B-1,et=L,it=j.$slider.find(".slick-slide"),at=0;at<j.options.slidesToScroll;at++)tt<0&&(tt=j.slideCount-1),_=(_=_.add(it.eq(tt))).add(it.eq(et)),tt--,et++;loadImages(_),j.slideCount<=j.options.slidesToShow?loadImages(j.$slider.find(".slick-slide")):j.currentSlide>=j.slideCount-j.options.slidesToShow?loadImages(j.$slider.find(".slick-cloned").slice(0,j.options.slidesToShow)):0===j.currentSlide&&loadImages(j.$slider.find(".slick-cloned").slice(-1*j.options.slidesToShow))},B.prototype.loadSlider=function(){var u=this;u.setPosition(),u.$slideTrack.css({opacity:1}),u.$slider.removeClass("slick-loading"),u.initUI(),"progressive"===u.options.lazyLoad&&u.progressiveLazyLoad()},B.prototype.next=B.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},B.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},B.prototype.pause=B.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},B.prototype.play=B.prototype.slickPlay=function(){var u=this;u.autoPlay(),u.options.autoplay=!0,u.paused=!1,u.focussed=!1,u.interrupted=!1},B.prototype.postSlide=function(_){var B=this;B.unslicked||(B.$slider.trigger("afterChange",[B,_]),B.animating=!1,B.slideCount>B.options.slidesToShow&&B.setPosition(),B.swipeLeft=null,B.options.autoplay&&B.autoPlay(),!0===B.options.accessibility&&(B.initADA(),B.options.focusOnChange&&u(B.$slides.get(B.currentSlide)).attr("tabindex",0).focus()))},B.prototype.prev=B.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},B.prototype.preventDefault=function(u){u.preventDefault()},B.prototype.progressiveLazyLoad=function(_){_=_||1;var B,L,j,tt,et,it=this,at=u("img[data-lazy]",it.$slider);at.length?(B=at.first(),L=B.attr("data-lazy"),j=B.attr("data-srcset"),tt=B.attr("data-sizes")||it.$slider.attr("data-sizes"),(et=document.createElement("img")).onload=function(){j&&(B.attr("srcset",j),tt&&B.attr("sizes",tt)),B.attr("src",L).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===it.options.adaptiveHeight&&it.setPosition(),it.$slider.trigger("lazyLoaded",[it,B,L]),it.progressiveLazyLoad()},et.onerror=function(){_<3?setTimeout((function(){it.progressiveLazyLoad(_+1)}),500):(B.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),it.$slider.trigger("lazyLoadError",[it,B,L]),it.progressiveLazyLoad())},et.src=L):it.$slider.trigger("allImagesLoaded",[it])},B.prototype.refresh=function(_){var B,L,j=this;L=j.slideCount-j.options.slidesToShow,!j.options.infinite&&j.currentSlide>L&&(j.currentSlide=L),j.slideCount<=j.options.slidesToShow&&(j.currentSlide=0),B=j.currentSlide,j.destroy(!0),u.extend(j,j.initials,{currentSlide:B}),j.init(),_||j.changeSlide({data:{message:"index",index:B}},!1)},B.prototype.registerBreakpoints=function(){var _,B,L,j=this,tt=j.options.responsive||null;if("array"===u.type(tt)&&tt.length){for(_ in j.respondTo=j.options.respondTo||"window",tt)if(L=j.breakpoints.length-1,tt.hasOwnProperty(_)){for(B=tt[_].breakpoint;L>=0;)j.breakpoints[L]&&j.breakpoints[L]===B&&j.breakpoints.splice(L,1),L--;j.breakpoints.push(B),j.breakpointSettings[B]=tt[_].settings}j.breakpoints.sort((function(u,_){return j.options.mobileFirst?u-_:_-u}))}},B.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass("slick-slide"),_.slideCount=_.$slides.length,_.currentSlide>=_.slideCount&&0!==_.currentSlide&&(_.currentSlide=_.currentSlide-_.options.slidesToScroll),_.slideCount<=_.options.slidesToShow&&(_.currentSlide=0),_.registerBreakpoints(),_.setProps(),_.setupInfinite(),_.buildArrows(),_.updateArrows(),_.initArrowEvents(),_.buildDots(),_.updateDots(),_.initDotEvents(),_.cleanUpSlideEvents(),_.initSlideEvents(),_.checkResponsive(!1,!0),!0===_.options.focusOnSelect&&u(_.$slideTrack).children().on("click.slick",_.selectHandler),_.setSlideClasses("number"==typeof _.currentSlide?_.currentSlide:0),_.setPosition(),_.focusHandler(),_.paused=!_.options.autoplay,_.autoPlay(),_.$slider.trigger("reInit",[_])},B.prototype.resize=function(){var _=this;u(window).width()!==_.windowWidth&&(clearTimeout(_.windowDelay),_.windowDelay=window.setTimeout((function(){_.windowWidth=u(window).width(),_.checkResponsive(),_.unslicked||_.setPosition()}),50))},B.prototype.removeSlide=B.prototype.slickRemove=function(u,_,B){var L=this;if(u="boolean"==typeof u?!0===(_=u)?0:L.slideCount-1:!0===_?--u:u,L.slideCount<1||u<0||u>L.slideCount-1)return!1;L.unload(),!0===B?L.$slideTrack.children().remove():L.$slideTrack.children(this.options.slide).eq(u).remove(),L.$slides=L.$slideTrack.children(this.options.slide),L.$slideTrack.children(this.options.slide).detach(),L.$slideTrack.append(L.$slides),L.$slidesCache=L.$slides,L.reinit()},B.prototype.setCSS=function(u){var _,B,L=this,j={};!0===L.options.rtl&&(u=-u),_="left"==L.positionProp?Math.ceil(u)+"px":"0px",B="top"==L.positionProp?Math.ceil(u)+"px":"0px",j[L.positionProp]=u,!1===L.transformsEnabled?L.$slideTrack.css(j):(j={},!1===L.cssTransitions?(j[L.animType]="translate("+_+", "+B+")",L.$slideTrack.css(j)):(j[L.animType]="translate3d("+_+", "+B+", 0px)",L.$slideTrack.css(j)))},B.prototype.setDimensions=function(){var u=this;!1===u.options.vertical?!0===u.options.centerMode&&u.$list.css({padding:"0px "+u.options.centerPadding}):(u.$list.height(u.$slides.first().outerHeight(!0)*u.options.slidesToShow),!0===u.options.centerMode&&u.$list.css({padding:u.options.centerPadding+" 0px"})),u.listWidth=u.$list.width(),u.listHeight=u.$list.height(),!1===u.options.vertical&&!1===u.options.variableWidth?(u.slideWidth=Math.ceil(u.listWidth/u.options.slidesToShow),u.$slideTrack.width(Math.ceil(u.slideWidth*u.$slideTrack.children(".slick-slide").length))):!0===u.options.variableWidth?u.$slideTrack.width(5e3*u.slideCount):(u.slideWidth=Math.ceil(u.listWidth),u.$slideTrack.height(Math.ceil(u.$slides.first().outerHeight(!0)*u.$slideTrack.children(".slick-slide").length)));var _=u.$slides.first().outerWidth(!0)-u.$slides.first().width();!1===u.options.variableWidth&&u.$slideTrack.children(".slick-slide").width(u.slideWidth-_)},B.prototype.setFade=function(){var _,B=this;B.$slides.each((function(L,j){_=B.slideWidth*L*-1,!0===B.options.rtl?u(j).css({position:"relative",right:_,top:0,zIndex:B.options.zIndex-2,opacity:0}):u(j).css({position:"relative",left:_,top:0,zIndex:B.options.zIndex-2,opacity:0})})),B.$slides.eq(B.currentSlide).css({zIndex:B.options.zIndex-1,opacity:1})},B.prototype.setHeight=function(){var u=this;if(1===u.options.slidesToShow&&!0===u.options.adaptiveHeight&&!1===u.options.vertical){var _=u.$slides.eq(u.currentSlide).outerHeight(!0);u.$list.css("height",_)}},B.prototype.setOption=B.prototype.slickSetOption=function(){var _,B,L,j,tt,et=this,it=!1;if("object"===u.type(arguments[0])?(L=arguments[0],it=arguments[1],tt="multiple"):"string"===u.type(arguments[0])&&(L=arguments[0],j=arguments[1],it=arguments[2],"responsive"===arguments[0]&&"array"===u.type(arguments[1])?tt="responsive":void 0!==arguments[1]&&(tt="single")),"single"===tt)et.options[L]=j;else if("multiple"===tt)u.each(L,(function(u,_){et.options[u]=_}));else if("responsive"===tt)for(B in j)if("array"!==u.type(et.options.responsive))et.options.responsive=[j[B]];else{for(_=et.options.responsive.length-1;_>=0;)et.options.responsive[_].breakpoint===j[B].breakpoint&&et.options.responsive.splice(_,1),_--;et.options.responsive.push(j[B])}it&&(et.unload(),et.reinit())},B.prototype.setPosition=function(){var u=this;u.setDimensions(),u.setHeight(),!1===u.options.fade?u.setCSS(u.getLeft(u.currentSlide)):u.setFade(),u.$slider.trigger("setPosition",[u])},B.prototype.setProps=function(){var u=this,_=document.body.style;u.positionProp=!0===u.options.vertical?"top":"left","top"===u.positionProp?u.$slider.addClass("slick-vertical"):u.$slider.removeClass("slick-vertical"),void 0===_.WebkitTransition&&void 0===_.MozTransition&&void 0===_.msTransition||!0===u.options.useCSS&&(u.cssTransitions=!0),u.options.fade&&("number"==typeof u.options.zIndex?u.options.zIndex<3&&(u.options.zIndex=3):u.options.zIndex=u.defaults.zIndex),void 0!==_.OTransform&&(u.animType="OTransform",u.transformType="-o-transform",u.transitionType="OTransition",void 0===_.perspectiveProperty&&void 0===_.webkitPerspective&&(u.animType=!1)),void 0!==_.MozTransform&&(u.animType="MozTransform",u.transformType="-moz-transform",u.transitionType="MozTransition",void 0===_.perspectiveProperty&&void 0===_.MozPerspective&&(u.animType=!1)),void 0!==_.webkitTransform&&(u.animType="webkitTransform",u.transformType="-webkit-transform",u.transitionType="webkitTransition",void 0===_.perspectiveProperty&&void 0===_.webkitPerspective&&(u.animType=!1)),void 0!==_.msTransform&&(u.animType="msTransform",u.transformType="-ms-transform",u.transitionType="msTransition",void 0===_.msTransform&&(u.animType=!1)),void 0!==_.transform&&!1!==u.animType&&(u.animType="transform",u.transformType="transform",u.transitionType="transition"),u.transformsEnabled=u.options.useTransform&&null!==u.animType&&!1!==u.animType},B.prototype.setSlideClasses=function(u){var _,B,L,j,tt=this;if(B=tt.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),tt.$slides.eq(u).addClass("slick-current"),!0===tt.options.centerMode){var et=tt.options.slidesToShow%2==0?1:0;_=Math.floor(tt.options.slidesToShow/2),!0===tt.options.infinite&&(u>=_&&u<=tt.slideCount-1-_?tt.$slides.slice(u-_+et,u+_+1).addClass("slick-active").attr("aria-hidden","false"):(L=tt.options.slidesToShow+u,B.slice(L-_+1+et,L+_+2).addClass("slick-active").attr("aria-hidden","false")),0===u?B.eq(B.length-1-tt.options.slidesToShow).addClass("slick-center"):u===tt.slideCount-1&&B.eq(tt.options.slidesToShow).addClass("slick-center")),tt.$slides.eq(u).addClass("slick-center")}else u>=0&&u<=tt.slideCount-tt.options.slidesToShow?tt.$slides.slice(u,u+tt.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):B.length<=tt.options.slidesToShow?B.addClass("slick-active").attr("aria-hidden","false"):(j=tt.slideCount%tt.options.slidesToShow,L=!0===tt.options.infinite?tt.options.slidesToShow+u:u,tt.options.slidesToShow==tt.options.slidesToScroll&&tt.slideCount-u<tt.options.slidesToShow?B.slice(L-(tt.options.slidesToShow-j),L+j).addClass("slick-active").attr("aria-hidden","false"):B.slice(L,L+tt.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==tt.options.lazyLoad&&"anticipated"!==tt.options.lazyLoad||tt.lazyLoad()},B.prototype.setupInfinite=function(){var _,B,L,j=this;if(!0===j.options.fade&&(j.options.centerMode=!1),!0===j.options.infinite&&!1===j.options.fade&&(B=null,j.slideCount>j.options.slidesToShow)){for(L=!0===j.options.centerMode?j.options.slidesToShow+1:j.options.slidesToShow,_=j.slideCount;_>j.slideCount-L;_-=1)B=_-1,u(j.$slides[B]).clone(!0).attr("id","").attr("data-slick-index",B-j.slideCount).prependTo(j.$slideTrack).addClass("slick-cloned");for(_=0;_<L+j.slideCount;_+=1)B=_,u(j.$slides[B]).clone(!0).attr("id","").attr("data-slick-index",B+j.slideCount).appendTo(j.$slideTrack).addClass("slick-cloned");j.$slideTrack.find(".slick-cloned").find("[id]").each((function(){u(this).attr("id","")}))}},B.prototype.interrupt=function(u){u||this.autoPlay(),this.interrupted=u},B.prototype.selectHandler=function(_){var B=this,L=u(_.target).is(".slick-slide")?u(_.target):u(_.target).parents(".slick-slide"),j=parseInt(L.attr("data-slick-index"));j||(j=0),B.slideCount<=B.options.slidesToShow?B.slideHandler(j,!1,!0):B.slideHandler(j)},B.prototype.slideHandler=function(u,_,B){var L,j,tt,et,it,at,st=this;if(_=_||!1,!(!0===st.animating&&!0===st.options.waitForAnimate||!0===st.options.fade&&st.currentSlide===u))if(!1===_&&st.asNavFor(u),L=u,it=st.getLeft(L),et=st.getLeft(st.currentSlide),st.currentLeft=null===st.swipeLeft?et:st.swipeLeft,!1===st.options.infinite&&!1===st.options.centerMode&&(u<0||u>st.getDotCount()*st.options.slidesToScroll))!1===st.options.fade&&(L=st.currentSlide,!0!==B&&st.slideCount>st.options.slidesToShow?st.animateSlide(et,(function(){st.postSlide(L)})):st.postSlide(L));else if(!1===st.options.infinite&&!0===st.options.centerMode&&(u<0||u>st.slideCount-st.options.slidesToScroll))!1===st.options.fade&&(L=st.currentSlide,!0!==B&&st.slideCount>st.options.slidesToShow?st.animateSlide(et,(function(){st.postSlide(L)})):st.postSlide(L));else{if(st.options.autoplay&&clearInterval(st.autoPlayTimer),j=L<0?st.slideCount%st.options.slidesToScroll!=0?st.slideCount-st.slideCount%st.options.slidesToScroll:st.slideCount+L:L>=st.slideCount?st.slideCount%st.options.slidesToScroll!=0?0:L-st.slideCount:L,st.animating=!0,st.$slider.trigger("beforeChange",[st,st.currentSlide,j]),tt=st.currentSlide,st.currentSlide=j,st.setSlideClasses(st.currentSlide),st.options.asNavFor&&(at=(at=st.getNavTarget()).slick("getSlick")).slideCount<=at.options.slidesToShow&&at.setSlideClasses(st.currentSlide),st.updateDots(),st.updateArrows(),!0===st.options.fade)return!0!==B?(st.fadeSlideOut(tt),st.fadeSlide(j,(function(){st.postSlide(j)}))):st.postSlide(j),void st.animateHeight();!0!==B&&st.slideCount>st.options.slidesToShow?st.animateSlide(it,(function(){st.postSlide(j)})):st.postSlide(j)}},B.prototype.startLoad=function(){var u=this;!0===u.options.arrows&&u.slideCount>u.options.slidesToShow&&(u.$prevArrow.hide(),u.$nextArrow.hide()),!0===u.options.dots&&u.slideCount>u.options.slidesToShow&&u.$dots.hide(),u.$slider.addClass("slick-loading")},B.prototype.swipeDirection=function(){var u,_,B,L,j=this;return u=j.touchObject.startX-j.touchObject.curX,_=j.touchObject.startY-j.touchObject.curY,B=Math.atan2(_,u),(L=Math.round(180*B/Math.PI))<0&&(L=360-Math.abs(L)),L<=45&&L>=0||L<=360&&L>=315?!1===j.options.rtl?"left":"right":L>=135&&L<=225?!1===j.options.rtl?"right":"left":!0===j.options.verticalSwiping?L>=35&&L<=135?"down":"up":"vertical"},B.prototype.swipeEnd=function(u){var _,B,L=this;if(L.dragging=!1,L.swiping=!1,L.scrolling)return L.scrolling=!1,!1;if(L.interrupted=!1,L.shouldClick=!(L.touchObject.swipeLength>10),void 0===L.touchObject.curX)return!1;if(!0===L.touchObject.edgeHit&&L.$slider.trigger("edge",[L,L.swipeDirection()]),L.touchObject.swipeLength>=L.touchObject.minSwipe){switch(B=L.swipeDirection()){case"left":case"down":_=L.options.swipeToSlide?L.checkNavigable(L.currentSlide+L.getSlideCount()):L.currentSlide+L.getSlideCount(),L.currentDirection=0;break;case"right":case"up":_=L.options.swipeToSlide?L.checkNavigable(L.currentSlide-L.getSlideCount()):L.currentSlide-L.getSlideCount(),L.currentDirection=1}"vertical"!=B&&(L.slideHandler(_),L.touchObject={},L.$slider.trigger("swipe",[L,B]))}else L.touchObject.startX!==L.touchObject.curX&&(L.slideHandler(L.currentSlide),L.touchObject={})},B.prototype.swipeHandler=function(u){var _=this;if(!(!1===_.options.swipe||"ontouchend"in document&&!1===_.options.swipe||!1===_.options.draggable&&-1!==u.type.indexOf("mouse")))switch(_.touchObject.fingerCount=u.originalEvent&&void 0!==u.originalEvent.touches?u.originalEvent.touches.length:1,_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold,!0===_.options.verticalSwiping&&(_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold),u.data.action){case"start":_.swipeStart(u);break;case"move":_.swipeMove(u);break;case"end":_.swipeEnd(u)}},B.prototype.swipeMove=function(u){var _,B,L,j,tt,et,it=this;return tt=void 0!==u.originalEvent?u.originalEvent.touches:null,!(!it.dragging||it.scrolling||tt&&1!==tt.length)&&(_=it.getLeft(it.currentSlide),it.touchObject.curX=void 0!==tt?tt[0].pageX:u.clientX,it.touchObject.curY=void 0!==tt?tt[0].pageY:u.clientY,it.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(it.touchObject.curX-it.touchObject.startX,2))),et=Math.round(Math.sqrt(Math.pow(it.touchObject.curY-it.touchObject.startY,2))),!it.options.verticalSwiping&&!it.swiping&&et>4?(it.scrolling=!0,!1):(!0===it.options.verticalSwiping&&(it.touchObject.swipeLength=et),B=it.swipeDirection(),void 0!==u.originalEvent&&it.touchObject.swipeLength>4&&(it.swiping=!0,u.preventDefault()),j=(!1===it.options.rtl?1:-1)*(it.touchObject.curX>it.touchObject.startX?1:-1),!0===it.options.verticalSwiping&&(j=it.touchObject.curY>it.touchObject.startY?1:-1),L=it.touchObject.swipeLength,it.touchObject.edgeHit=!1,!1===it.options.infinite&&(0===it.currentSlide&&"right"===B||it.currentSlide>=it.getDotCount()&&"left"===B)&&(L=it.touchObject.swipeLength*it.options.edgeFriction,it.touchObject.edgeHit=!0),!1===it.options.vertical?it.swipeLeft=_+L*j:it.swipeLeft=_+L*(it.$list.height()/it.listWidth)*j,!0===it.options.verticalSwiping&&(it.swipeLeft=_+L*j),!0!==it.options.fade&&!1!==it.options.touchMove&&(!0===it.animating?(it.swipeLeft=null,!1):void it.setCSS(it.swipeLeft))))},B.prototype.swipeStart=function(u){var _,B=this;if(B.interrupted=!0,1!==B.touchObject.fingerCount||B.slideCount<=B.options.slidesToShow)return B.touchObject={},!1;void 0!==u.originalEvent&&void 0!==u.originalEvent.touches&&(_=u.originalEvent.touches[0]),B.touchObject.startX=B.touchObject.curX=void 0!==_?_.pageX:u.clientX,B.touchObject.startY=B.touchObject.curY=void 0!==_?_.pageY:u.clientY,B.dragging=!0},B.prototype.unfilterSlides=B.prototype.slickUnfilter=function(){var u=this;null!==u.$slidesCache&&(u.unload(),u.$slideTrack.children(this.options.slide).detach(),u.$slidesCache.appendTo(u.$slideTrack),u.reinit())},B.prototype.unload=function(){var _=this;u(".slick-cloned",_.$slider).remove(),_.$dots&&_.$dots.remove(),_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.remove(),_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.remove(),_.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},B.prototype.unslick=function(u){var _=this;_.$slider.trigger("unslick",[_,u]),_.destroy()},B.prototype.updateArrows=function(){var u=this;Math.floor(u.options.slidesToShow/2),!0===u.options.arrows&&u.slideCount>u.options.slidesToShow&&!u.options.infinite&&(u.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),u.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===u.currentSlide?(u.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),u.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(u.currentSlide>=u.slideCount-u.options.slidesToShow&&!1===u.options.centerMode||u.currentSlide>=u.slideCount-1&&!0===u.options.centerMode)&&(u.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),u.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},B.prototype.updateDots=function(){var u=this;null!==u.$dots&&(u.$dots.find("li").removeClass("slick-active").end(),u.$dots.find("li").eq(Math.floor(u.currentSlide/u.options.slidesToScroll)).addClass("slick-active"))},B.prototype.visibility=function(){var u=this;u.options.autoplay&&(document[u.hidden]?u.interrupted=!0:u.interrupted=!1)},u.fn.slick=function(){var u,_,L=this,j=arguments[0],tt=Array.prototype.slice.call(arguments,1),et=L.length;for(u=0;u<et;u++)if("object"==typeof j||void 0===j?L[u].slick=new B(L[u],j):_=L[u].slick[j].apply(L[u].slick,tt),void 0!==_)return _;return L}}));